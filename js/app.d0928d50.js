(function(a){function t(t){for(var s,r,l=t[0],n=t[1],c=t[2],u=0,p=[];u<l.length;u++)r=l[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var a,t=0;t<i.length;t++){for(var e=i[t],s=!0,l=1;l<e.length;l++){var n=e[l];0!==o[n]&&(s=!1)}s&&(i.splice(t--,1),a=r(r.s=e[0]))}return a}var s={},o={app:0},i=[];function r(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=a,r.c=s,r.d=function(a,t,e){r.o(a,t)||Object.defineProperty(a,t,{enumerable:!0,get:e})},r.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,t){if(1&t&&(a=r(a)),8&t)return a;if(4&t&&"object"===typeof a&&a&&a.__esModule)return a;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:a}),2&t&&"string"!=typeof a)for(var s in a)r.d(e,s,function(t){return a[t]}.bind(null,s));return e},r.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return r.d(t,"a",t),t},r.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=n;i.push([1,"chunk-vendors"]),e()})({0:function(a,t){},"0074":function(a,t,e){"use strict";e("8e39")},"00f9":function(a,t,e){"use strict";e("c92b")},"0321":function(a,t,e){},"034f":function(a,t,e){"use strict";e("ecfe")},"0515":function(a,t,e){},"0884":function(a,t,e){"use strict";e("e900")},"0942":function(a,t,e){"use strict";e("7d44")},"09dd":function(a,t,e){"use strict";e("4922")},"0ca8":function(a,t,e){},"0f71":function(a,t){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAFzUkdCAK7OHOkAAAAEZ0FNQQAAsY8L/GEFAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAIaElEQVR4Xu3dCVBVZRQH8AOxPZ8ikiuB4oJILmCYknuWaRbqKOaWgqFl6qhZ4dg2VJZWE1kulVJaoxmhabihjJI0oiWMC6QiCioiyi6IIFvxPY8zDdOMI/e7957v3u8343jOdcbR9/68d9993z2f3T8NQDIte/xdMikZAJOTATA5GQCTkwEwORkAk5MBMDkZAJOTATA5U10JZP/VopKbkHejECoqq6Cy4RdjsbiAteGXR/s24O7mCnZ2drbjZmDoANTU1sLJ9PNw/NQZSDl9Dgpc/PFP7m+MbzX08/eDgJ7dwdHBAY8ajyEDkHHxMvy2Pwn+yHXDI8oM87oJ454ZCj5dOuIR4zBUAE6kZ8DGmF2QXe+LR/j76MUe0MfPBzvxGSIABUUlELX+J0i/pc1PqH/Lq7B49lRo7c7nFUZPwgdgz8Ej8M2hYuy0tWBkGxg1PAg7MQkbgOrqGli59gc4XtgOj+gjqG0hvDlvBjg5inmiKGQAblVUwpLIKMhz6oNH9OVVdwY+e28hWJtZ8Ig4hAtAWXkFTF95CDs63MpTYN2KpdDC2gyPiEGoAFTdqYZJH+zHjp4ONWmwevkb4OzkhEfoE+ZSMMvpO598jR1NeY69IfLzDbZ/qyiECcCWHfGQcacLdnSxj6Lb9hzEjj4hAsCu7MWk1mJH349HK+Hi5avY0UY+APUNL6dvfH8aO3EsXn9CiLcC8gGIO5CElXjiE49iRRfpANTW1sF3SWXYiWfdwSKor6/HjibSAYj/nf5P0P0kJP2FFU2kA/BtYglW4lqTUIAVTWQDcCknDyvx5V6nGwKyATiQdAwr8SUk/YkVPWQDsOuMcZZhbT9F9+MgyQBUVt3ByjjY19cUkQzAhewcrIzj4pVcrGghGYC3Np/FyjgiNqZhRQvZcwBJGzIAJicDYHIyACYnA2ByMgAmJwNgciQDsGRMB6yMI2KcF1a0kAyAd0cPrIzD25NmqEkGoBPRB0sJzw5tsaKFZADsDTahI6BlLtmpI2RPAucMa4mV+Ab2o3EP4/8hG4ARgx7HSnzDBwZiRQ/ZADS3WmyDGIzA4uKMFT1kA8BMn/AsVuKKmh2AFU2kA+DXzRs622dgJx5f5yzw6Uzz8/89pAPAzA+bhJV45oWGYEUX+QD4du1kG9MmmpFdb0OXTo9gRxf5ADBzZ0zEShyzp47DijYhAsA+EXwa1gs7+qLC/aGZxQU72oQIAOPn0xnCh7piR9fcEe5CTRQVJgDM+FHDYFwvunfbhgTYw3NPDcJODEIFgAmfMtY2yJmasY/WwcyQMdiJQ9hBkTFxCbD5z7vj3vUWNsgKE8eMwE4swgaA+evE3/Dhtizs9BE52QcC+/TATjxCB4ApLC6Fj9dsgsw7XfGINnpYsmDZgjBwdxP7W0vhA8CwaeHRP8dB8jV3PKKuoZ6lEPZCMLR5WE4L103ZrQqYvkL/kbGhA622ieGijYi9R7gABL+9Cyta+rW+AdPGjyL/5U9jwgSA6hPfWDfHTHhp8ljo7dcNj9BGPgCiPPGNdXXIhEWzp0BnL9ornMkGgMp7vFKDHymB+aGTbN9nUEQyAIlHUiBqr3GmhDERYz1hyIC+2NFBKgAVtyvho9WbIK3ME48YS99WebBsQSipNYJkAsAmgos4FLopvpjTF7p50wg5iQCwkbBrEwqxM4dFo9vB00P6Y6cf3QOwfssOQ80EfBAT+gDMmhyMnT50CwDbB2DFVxvhWH4bPGJO7FNCxKszdLt1TJcAsBHqkVHRcKLEeDeBNkVQ2wJYtnCWLvdEar4ghOUtMmq9fPL/g70KLv/ye+y0pXkAVkVvbXjy6S+X1trxgrawdlMsdtrRNACbf90Hhy61wE5qLD7TxbbSSUuaBeBoappQO3/phS1zSzmt3ahcTQJw7XoBfPzrJeyk+3k/5gJcLyjCTl2qB6Curg5eWW2czR+0MmdVsiYbTqkegOitcVhJD2rTL7uxUo+qAThzPht2nzXnVT4edqTZwfmsK9ipQ7UAsCt9S39Ix05qqte/O6XqDqSqBWC7QBsoU6fm7qmqBKC84rZtA2WJj+ikMrhdqc5dUKoEYPP2fVhJvGzdeQArvrgHoORmOezNcMJO4mVnup1tnSRv3AMQE6dOUiWA2F38z6u4BoDtjbfnnPzpVwt7FWA7qvPENQBG2O2bOt7b0HINwIbD4k3zEs2O/Yex4oNbAHKu3cBKUlOeQy+uXxRxC8C+xGSsJLXFJ/J7q+UWALOu7NXDoeQUrJTjEoD8wmKsJC2UWANt11t44BKA5FSaGyMb2dFUPndRcQlAqoZLmKS7Uk6fw0oZLgE4WSpX+WqNrSLmQXEASsv4vBdJD47dTa2U4gBkZuVgJWktM1v5Y684AFeuXcdK0tqVXOWPveIA5OTKK4B6IRGA/OJSrCSt5Rcpf+wVB8DFWX79qxeLi/JNKRQHwCIDoBurRfmsIcUBcCU6/swMWlgJvALU1NZgJWmtulr5xhmKA3A1T34M1MtVDmswFAfAXvlfITWRvb3ykTKKnz2P9uYe8qQnj3bKH3vFAejl54OVpLXej3bHqukUB+CJQH+sJK31C+iJVdMpDoCzsxMMbpePnaSVJ72KwcnREbum43IG9/JMcXf4FlX4ND77KXMJQCs3V3htNJ8FCtL9RQR7QEvX5tgpwyUAzIghAyA0iM4YdKMKH9wMhgQFYqcc91GxycdPwoqdcpGIGt4N8Yb+fXtjx4cqs4Irq6ogNu4AxJ7SZwCy0Ux5zB5Cnh9pO+HmTfVh0UUlpZB9ORfKym9BbR3fO1uNyuGhh2zv8V06ednOr9Sk27h4iQZuJ4GSmGQATE4GwORkAExOBsDkZABMTgbA5GQATE4GwNQA/gWH7K8qQrL1IAAAAABJRU5ErkJggg=="},1:function(a,t,e){a.exports=e("56d7")},1120:function(a,t,e){"use strict";e("e894")},"11d5":function(a,t,e){"use strict";e("552d")},"14e8":function(a,t,e){"use strict";e("cd0e")},"15e8":function(a,t){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAADj8/zY7vrT7PrU7Prc8Pvq9vzm9Pyw3PZ/x/BXteoypecWluFMerIMlOAfm+VCrOlnu+yU0PLG5vi+4vdxwO4uo+QSlONKr+qRz/LR6/pywe4bm+I7qeiV0PLv+P2y3fZDrOkTl+Fpve3a7/u03vY0pOVhuuze8fvV7PpHrekPk+N6xe99xvAOleAln+O54PcypOcRluM2p+c1puYtoeQYmORrvu6i1vQpoeZlu+2Z0vPE5fjp9fzZ7vqByPBIr+l2wu+NzfG44PcXl+TA4/dZtusQluNmvO3P6vmj1vSq2vVMr+oNkuA3qOjW7focnOOm2PRct+wWmeOe1PTs9/1dt+y33/Z7xe/O6fkknuMonubu9/14w+8xpOdSsuub0/OJy/Ho9fwqoebg8fvd8Pva7vsXmuRUtOsLkeB8xfAzpuVGreiT0PKp2fXH5vg9qebL6PnK6Plove294vfl9PxVs+uLzPHS6/pwwO1NsOmW0fOz3vZRs+uu2/Xw+P1Oseluvu6r2vWt2/Wx3fYXmeR1we+c0/M/quel1/RBquio2PVAq+jX7fqd1PNeuOxzwe6IyvFku+0+qudateuf1fSn2PWQzvK74ffM6fkjnOXC5PgmnuQnoOXD5fiKy/EVmOHy+f2PzfLz+f5LsOqa0vRKr+kZm+Kk1/QdmuQUleEgnuVbt+yOzfKFyfFjuu2v3Paa0/PN6fmAx/C84fcvpOYro+bb7/vI5/kRleMpoObx+f0ln+QKkeHn9Pzo9f3F5fe23/Y4p+iGyvFPsupqvu2EyfDh8vsvoeVvv+6h1fTQ6vmCyPDt9/3///9BxsbzAAAAAXRSTlMAQObYZgAAAAFiS0dEzvTZ8v8AAAAJcEhZcwAADsQAAA7EAZUrDhsAAAR6SURBVHja7Vr5W01BGJ57y5I6l4QskRYpF6WFItJChbKkkCWyJPu+U5aISGQnspMtkn3f1//JvTXfnHOvm3Nm5tx7Hs8z7y/NdOb93vcsM+eb71yEBAQEBAQEBAQEBAT+T5jMXt7t2huh3KGjTydfP6kVls5d/LsGeFC9W/ce0t8I7NmrnSfUe/cJktpE337BbpbvHyL9G6Fh4W6UHxAhqcMyMNJN8lGDNMjbYR3sFv0hQzXq2xAdo7u89zAXOrHRvnHxCcNdWRihs35iqJNA0shRyaPh6JiOKWOdB0ToOidTHYPHpbl41NP9MxwGDR+nn/54ZeDMrOy2xk2Icxg4US/9SYqoOSNM/xqanquckIn66w+arDY6cYrCwVQ99KfJAfOmaxifXyAThs7g158ph8vV+GArpoyfF6/+RFm/QDNpViEhzZ7Dpx/uR0LNpaCZ5hFaEZ+BviRQChWvvbxwzufRX0DCpFIyixeSx2ARu/7iQIgynpq7pESHm7AUYvgykGNKgZ3Oqp8MEUJVlx9XWAb05awGVkCElWz8eOCvYuOvBv4axhNYa+G7BOQduI7RAFoPETawsDdCCkY/A0gImEWbWNibwf4WZgNoK7yUWLZvyzF5G7s+ioSnYDs9NxwuwA4OA2gn5BH01F6YGsSjj3ZBIlVGTS3H1N0sunvS9uIWvE33UceoYF9Hs6PtiUBUSxvm8n7aIN6YaGU4/9Z0JLrY3j6A41TSBjmIiYfo9asw9bC9cwR3Asnh6oKjWlJLSAVr6A0cg/lz3N7Lwx2cT3ao1XhaJzDvJL2BUySLOW3r1eL2mZZjZ8+19tT3z2sw7zy9AdQZDFhsT/BA5ZlUwdp8QTVIneOVo8JFKzioMJOs4BJSZAhSvWoQuHWXGQygaiKUEHxFgot+tYj8WwpRjZGDR7LoI9SHKF27Dq3FvrJ+aYxqCFhC2QygnkTrBv5bdFPWz7ylHgFnlKWMBuYkSE6wyM3bWoqaDVy3ACFzhdQW4kxaAtzBozeyOki3tKF/VxsfMlrmfBDdcylfel8jfScmMGbUdjxwoV/fqJVdgxl0e1JHVP6lX6c9v3yIKeUcBooLnfRDKHJT2JWUcBhAjxyLh2FUZNgVrOVxsEohn9OVjgs3sInHAPIh+iWPKalNmNjMZQBB6fLJU1rmM7DOvhLYkf+8JciLl/RUnLtII/kugfmVJL0ey8Kciw3EvuFzgN6+Y+NBYk5dn9IN8H0qlqPMxQXY13EUCDjRDA7eG2SArGN3OAu+zPgADjgLvswIILXGjwY58CeJTJUxBsrIG906wBgHG8hNsDYa40B+n1oYKl164JOcUnw2xMBlxSf7eG8jHLxZKDvI/GKEg0WzFZldki7fIinxtVnhQPrGULXhRf4hh/S65Huyxy1kOW0xgvzNHnbwo8HJQihL+YoH4V2cHCR52IBtu+j0Y5GfHneQnxqrNOD5JxEhU2o90Q9k2GvogLJ+sDRrLXXoj6hftg1fRpph+nb8ducv1gQEBAQEBAQEBAQEjMEfB9TeKMmF/G0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDItMThUMTY6MzY6NDYrMDE6MDB6rUBHAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAyLTE4VDE2OjM2OjQ2KzAxOjAwC/D4+wAAAABJRU5ErkJggg=="},1643:function(a,t,e){},1662:function(a,t,e){},1670:function(a,t,e){},"16d0":function(a,t,e){"use strict";e("8b66")},1815:function(a,t,e){a.exports=e.p+"img/home.741cf21c.png"},"1c9f":function(a,t,e){"use strict";e("0321")},2:function(a,t){},2686:function(a,t,e){"use strict";var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-navbar",{staticClass:"e-header",staticStyle:{"background-color":"rgb(76, 122, 178) !important"},attrs:{toggleable:"lg",type:"dark",variant:"info"}},[e("menu-lateral"),e("img",{staticClass:"mr-2 mt-2",staticStyle:{"max-width":"45px"},attrs:{src:a.foto.url,alt:"FlashSafe Watcher"}}),e("ul",{staticClass:"ul_titulo_page"},[e("li",{staticClass:"titulo_page"},[a._v(a._s(a.titulo))])]),e("div",{staticClass:"frase maquina"},[e("h6",{staticClass:"mb-0"},[a._v(a._s(a.fraseMaquina))])]),e("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[e("b-navbar-nav",{staticClass:"navbar-nav-two"},[e("btnNotification",{staticStyle:{visibility:"hidden"}}),e("buttonConfiguracoes")],1)],1),e("b-button",{staticClass:"text-white px-1 justify-content-end outline-none",attrs:{variant:"transparente",title:"Voltar à Página Anterior"},on:{click:function(t){return a.voltaPagina()}}},[e("b-icon",{attrs:{icon:"chevron-left","font-scale":"1"}})],1)],1)},o=[],i=e("3f48"),r=e.n(i),l=e("0f71"),n=e.n(l),c=e("7ea7"),d=e("bcf5"),u=e("5864"),p=e("5665"),m={props:["titulo","numeroJanelasTotal","numeroJanelasPermitidas","numeroJanelasProibidas","numeroJanelasDesconhecidas","numeroJanelasOcorrencias","fraseMaquina"],components:{btnNotification:c["a"],buttonConfiguracoes:d["a"],"menu-lateral":u["a"]},data(){return{routes:p["a"],foto:{url:r.a,titulo:"logo flash"},foto2:{url:n.a,titulo:"foto user"},filter:null}},methods:{voltaPagina(){this.$router.go(-1)},alteraFiltro(a){const t={filterWatcher:a};this.$store.commit("CHANGE_VARIAVELWATCHERFILTER",t)},doIt(a){this.filter=a,this.alteraFiltro(this.filter)}}},h=m,v=(e("407a"),e("0c7c")),b=Object(v["a"])(h,s,o,!1,null,"8bb91c9e",null);t["a"]=b.exports},"2dec":function(a,t,e){},"2e05":function(a,t,e){},"2e69":function(a,t,e){},3:function(a,t){},3301:function(a,t,e){"use strict";var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("b-dropdown-item-button",[e("b",[a._v("Máquina:")]),a._v(" "+a._s(this.dados.computer_name))]),e("b-dropdown-item-button",[e("b",[a._v("Usuário:")]),a._v(" "+a._s(this.dados.user_name))]),e("b-dropdown-divider"),e("b-dropdown-item-button",[e("b",[a._v("CPU DLP:")]),a._v(" "+a._s(this.dados.cpu_maquina)+" ")]),e("b-dropdown-item-button",[e("b",[a._v("CPU Total:")]),a._v(" "+a._s(this.dados.cpu_total)+" ")]),e("b-dropdown-item-button",[e("b",[a._v("Memória DLP:")]),a._v(" "+a._s(this.dados.memoria_dlp)+" ")]),e("b-dropdown-item-button",[e("b",[a._v("Memória Utilizada:")]),a._v(" "+a._s(this.dados.memoria_usada)+" ")]),e("b-dropdown-item-button",[e("b",[a._v("Memória Total:")]),a._v(" "+a._s(this.dados.memoria_maquina)+" ")]),e("b-dropdown-item-button",[e("b",[a._v("Versão:")]),a._v(" "+a._s(this.dados.versoes?this.dados.versoes.split("atual=").reverse()[0]:"Não disponível")+" ")])],1)},o=[],i={props:["dados"]},r=i,l=e("0c7c"),n=Object(l["a"])(r,s,o,!1,null,null,null);t["a"]=n.exports},3307:function(a,t,e){"use strict";e("f1ab")},3526:function(a,t,e){a.exports=e.p+"img/skype.98792661.png"},"36b0":function(a,t,e){"use strict";e("fdf9")},3791:function(a,t,e){"use strict";e("9d7c")},3879:function(a,t,e){"use strict";e("0ca8")},"3a68":function(a,t,e){"use strict";e("5030")},"3bb6":function(a,t,e){"use strict";e("71a1")},"3dad":function(a,t,e){"use strict";e("be34")},"3f48":function(a,t,e){a.exports=e.p+"img/vertical_PB_APSF.c169ef5f.svg"},4:function(a,t){},"407a":function(a,t,e){"use strict";e("e266")},4218:function(a,t,e){"use strict";e("2e69")},"42cd":function(a,t,e){},4678:function(a,t,e){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(a){var t=i(a);return e(t)}function i(a){if(!e.o(s,a)){var t=new Error("Cannot find module '"+a+"'");throw t.code="MODULE_NOT_FOUND",t}return s[a]}o.keys=function(){return Object.keys(s)},o.resolve=i,a.exports=o,o.id="4678"},"473b":function(a,t,e){},4922:function(a,t,e){},"49a3":function(a,t,e){"use strict";e("e5b3")},"4a33":function(a,t,e){"use strict";e("70c1")},5:function(a,t){},5030:function(a,t,e){},"552d":function(a,t,e){},"55fe":function(a,t,e){"use strict";e("42cd")},5665:function(a,t,e){"use strict";e.d(t,"a",(function(){return io}));var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"box"},[e("header",[e("ul",{staticClass:"redesSociais"},[e("li",{staticClass:"site"},[e("a",{attrs:{href:"https://epsoft.com.br/",target:"_blank"}},[e("img",{staticClass:"imagemMidiasIcone",attrs:{src:a.home.url,alt:""}})])]),e("li",{staticClass:"linkedin"},[e("a",{attrs:{href:"https://www.linkedin.com/company/epsoft-privacy-security/",target:"_blank"}},[e("img",{staticClass:"imagemMidiasIcone",attrs:{src:a.linkedin.url,alt:""}})])]),e("li",{staticClass:"facebook"},[e("a",{attrs:{href:"https://www.facebook.com/flashsafe.epsoft",target:"_blank"}},[e("img",{staticClass:"imagemMidiasIcone",attrs:{src:a.facebook.url,alt:""}})])]),e("li",{staticClass:"instagram"},[e("a",{attrs:{href:"https://www.instagram.com/epsoft_brasil/",target:"_blank"}},[e("img",{staticClass:"imagemMidiasIcone",attrs:{src:a.instagram.url,alt:""}})])]),e("li",{staticClass:"email"},[e("a",{attrs:{href:"mailto:suporte@epsoft.com.br?subject=Suporte - Epsoft",target:"_blank"}},[e("img",{staticClass:"imagemMidiasIcone",attrs:{src:a.email.url,alt:""}})])])])]),e("form",{staticClass:"login-form form-style",attrs:{id:"form-style",action:"",method:""},on:{submit:function(t){return t.preventDefault(),a.handleSubmit.apply(null,arguments)}}},[e("b-row",[e("b-col",{staticClass:"imgFlash"},[e("img",{staticClass:"img-icon",attrs:{src:a.imgFlash.url,alt:a.imgFlash.titulo}})])],1),a.errors.length?e("p",[e("ul",{staticClass:"erro selectErrotxt"},a._l(a.errors,(function(t){return e("li",{key:t.id},[a._v(a._s(t))])})),0)]):a._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:a.selecionausuario,expression:"selecionausuario"}],attrs:{type:"text",placeholder:"E-mail ou Usuário",id:"escolha_usuario",name:"usernameLogin",autofocus:""},domProps:{value:a.selecionausuario},on:{input:function(t){t.target.composing||(a.selecionausuario=t.target.value)}}}),e("div",["checkbox"===a.senhaFieldType?e("input",{directives:[{name:"model",rawName:"v-model",value:a.selecionasenha,expression:"selecionasenha"}],attrs:{placeholder:"Senha",id:"escolha_senha",name:"hash_senhaLogin",type:"checkbox"},domProps:{checked:Array.isArray(a.selecionasenha)?a._i(a.selecionasenha,null)>-1:a.selecionasenha},on:{change:function(t){var e=a.selecionasenha,s=t.target,o=!!s.checked;if(Array.isArray(e)){var i=null,r=a._i(e,i);s.checked?r<0&&(a.selecionasenha=e.concat([i])):r>-1&&(a.selecionasenha=e.slice(0,r).concat(e.slice(r+1)))}else a.selecionasenha=o}}}):"radio"===a.senhaFieldType?e("input",{directives:[{name:"model",rawName:"v-model",value:a.selecionasenha,expression:"selecionasenha"}],attrs:{placeholder:"Senha",id:"escolha_senha",name:"hash_senhaLogin",type:"radio"},domProps:{checked:a._q(a.selecionasenha,null)},on:{change:function(t){a.selecionasenha=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:a.selecionasenha,expression:"selecionasenha"}],attrs:{placeholder:"Senha",id:"escolha_senha",name:"hash_senhaLogin",type:a.senhaFieldType},domProps:{value:a.selecionasenha},on:{input:function(t){t.target.composing||(a.selecionasenha=t.target.value)}}}),"password"==a.senhaFieldType?e("span",{staticClass:"span-password",attrs:{type:"password"},on:{click:a.switchVisibility}},[e("img",{attrs:{src:a.imgeyeshow.url,alt:a.imgeyeshow.titulo}})]):e("span",{staticClass:"mostra-eye",attrs:{type:"password"},on:{click:a.switchVisibility}},[e("img",{attrs:{src:a.imgehidden.url,alt:a.imgehidden.titulo}})])]),e("div",{staticClass:"g-recaptcha"},[e("vue-recaptcha",{attrs:{sitekey:"6LdtO0AhAAAAAF57PF3GMDZj2TZXWxXp88R5JqtN"},on:{verify:a.onVerify}})],1),e("input",{staticClass:"bton login",attrs:{type:"submit",name:"Login",value:"Login",id:"login",disabled:!a.isUsuarioValido}})],1),e("loader",{attrs:{status:a.loaderCheck}})],1)},o=[],i=e("653f"),r=e.n(i),l=e("8302"),n=e.n(l),c=e("f5a4"),d=e.n(c),u=e("fcc2");const p={checkUser:h,login:m,logout:v};function m(a,t){var e=u["a"].variaveisAmbiente.locationUrl+"/dpo/login/autentica/resp_rest";const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usernameLogin:a,hash_senhaLogin:t})};return fetch(e,s).then(b).then(e=>(e?(e.authdata=window.btoa(a+":"+t),localStorage.setItem("user",JSON.stringify(e)),localStorage.setItem("dataLogin",(new Date).getMinutes()),localStorage.setItem("limiteSessao",30)):e.authdata=e,e))}function h(a){var t={method:"GET",redirect:"follow"};return fetch(`${u["a"].variaveisAmbiente.locationUrl}/dpo/acesso/sessao/desloga/${a}/resp_rest`,t).then(b).then(a=>(a=a||a,a))}function v(){var a={method:"POST",redirect:"follow"},t=sessionStorage.getItem("user");if(t){var e=`${u["a"].variaveisAmbiente.locationUrl}/dpo/acesso/sessao/${t}/resp_rest`;return fetch(e,a).then(a=>(a?(a.authdata=a,localStorage.removeItem("user")):a.authdata=a,a))}}function b(a){return a.text().then(t=>{const e=t&&JSON.parse(t)[0];return a.ok?e:(a.status,Promise.reject(e))})}var g=e("9347"),f=e.n(g),A=e("568a"),C=e.n(A),_=e("1815"),x=e.n(_),k=e("d6f3"),S=e.n(k),y=e("5bf0"),M=e.n(y),D=e("3526"),w=e.n(D),P=e("79f6"),q=e.n(P),U=e("dc95"),E=e("e096"),$={components:{loader:U["a"],VueRecaptcha:E["a"]},computed:{isUsuarioValido(){return this.listaUsuarios.includes(this.selecionausuario)}},data(){return{locationUrl:"",loaderCheck:!1,submitted:!1,loading:!1,returnUrl:"",error:"",retorno:"",imgFlash:{url:r.a,titulo:"foto usuario"},imgeyeshow:{url:n.a,titulo:"foto olho aberto"},imgehidden:{url:d.a,titulo:"foto olho fechado"},phone:{url:f.a,titulo:"imagem pequena de um telefone"},home:{url:x.a,titulo:"imagem pequena de uma casa"},email:{url:C.a,titulo:"imagem pequena de um email"},linkedin:{url:S.a,titulo:"imagem pequena do icone do linkedin"},facebook:{url:M.a,titulo:"imagem pequena do icone do facebook"},instagram:{url:q.a,titulo:"imagem pequena do icone do instagram"},skype:{url:w.a,titulo:"imagem pequena do icone do Skype"},errors:[],selecionausuario:null,selecionasenha:null,senhaFieldType:"password",recaptcha:null,form:{usuario:"",senha:""},listaUsuarios:[]}},mounted(){window.addEventListener("keyup",(function(a){if(13===a.keyCode){document.getElementById("login")}}))},created(){this.locationUrl=this.$store.state.variaveisAmbiente.locationUrl,this.returnUrl=this.$route.query.returnUrl||"/"},methods:{onEvent(){this.$refs.recaptcha.execute()},onVerify(a){this.recaptcha=a;var t=document.querySelector("#login");t.disabled=!1},switchVisibility(){this.senhaFieldType="password"===this.senhaFieldType?"text":"password"},checkUser:function(a){let t=`${this.locationUrl}/dpo/acesso/sessao/desloga/${a}/resp_rest`;console.log("//============>>"),console.log(t),console.log(param),console.log(new Date),console.log("MilliSec: "+Date.now()),console.log("<<============//"),this.$http.get(t).then((function(a){if(this.retorno=JSON.parse(a.bodyText),"logado"==this.retorno[0].Status){var t={method:"POST",redirect:"follow"};fetch(`${this.locationUrl}/dpo/acesso/sessao/${this.retorno[0].secret}/resp_rest`,t).then(a=>{if(!a.ok)throw new Error(a.statusText);return localStorage.removeItem("user"),a.json()})}}))},modalUsuarioDuplicado:function(a){this.$swal({title:`O usuário ${a} está logado`,html:"<h6>Deseja encerra a sessão anterior para começar uma nova ?</h6>",text:"Você não poderá reverter isso!",showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"Sim, eu tenho!",cancelButtonColor:"#d33",cancelButtonText:"Cancelar",showLoaderOnConfirm:!0,preConfirm:()=>{var a=new Headers;a.append("Content-Type","application/json");var t={method:"POST",redirect:"follow"};return fetch(`${this.locationUrl}/dpo/acesso/sessao/${this.retorno[0].secret}/resp_rest`,t).then(a=>{if(!a.ok)throw new Error(a.statusText);return localStorage.removeItem("user"),a.json()}).catch(a=>{this.$swal.showValidationMessage("Request failed: "+a)})},allowOutsideClick:()=>!this.$swal.isLoading()}).then(a=>{a.value&&this.$swal.fire({title:"Encerrado!"})})},handleSubmit:function(a){this.loaderCheck=!0;let t={};this.errors=[];for(let e in a.target)if(a.target.hasOwnProperty(e)){const s=a.target[e];"usernameLogin"!=s.name&&"hash_senhaLogin"!=s.name||(""==s.value?(s.classList.add("selectErro"),"usernameLogin"==s.name?(this.errors.push("O campo Usuário é obrigatório."),this.loaderCheck=!1):"hash_senhaLogin"==s.name&&(this.errors.push("O campo Senha é obrigatório."),this.loaderCheck=!1)):(s.classList.remove("selectErro"),t[s.name]=s.value))}t.usernameLogin&&t.hash_senhaLogin&&(localStorage.setItem("infoUser",JSON.stringify(t.usernameLogin)),this.submitted=!0,t.hash_senhaLogin=this.setCrpPsw(t.hash_senhaLogin),setTimeout(()=>{p.login(t.usernameLogin,t.hash_senhaLogin).then(a=>{this.loaderCheck=!1,this.$router.push(this.returnUrl)},a=>{this.error=a,this.loaderCheck=!1,a.msgRetorno?(a.msgRetorno.includes("Duplicate entry")&&this.checkUser(t.usernameLogin),(a.msgRetorno.includes("Acesso Negado")||a.msgRetorno.includes("consulta não retornou"))&&this.$swal({title:"Atenção!",html:"<h6>Por favor verifique o login e a senha.</h6>"})):this.$swal({title:"Atenção!",html:"<h6>Não foi possível acessar o sistema, por favor, tente acessar novamente mais tarde, ou se caso persista o erro fale com o suporte.</h6>"})})},2e3))},setCrpPsw(a){a=a;return a=this.$CryptoJS.SHA256(a).toString(),a}}},T=$,L=(e("11d5"),e("0c7c")),I=Object(L["a"])(T,s,o,!1,null,"195e6498",null),O=I.exports,R=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"Redes de Dispositivos"}}),e("div",{staticClass:"container-full m-3"},[e("div",{staticClass:"row",attrs:{id:"box-tabela"}},[e("b-row",{staticClass:"mb-3",attrs:{id:"row-box-input"}},[e("b-col",{staticClass:"my-2",attrs:{xs:"12",sm:"12",md:"12"}},[e("small",[a._v("Última Verificação no Servidor: "+a._s(a.ultVerifServer))])])],1),e("b-row",[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("b-card",{attrs:{"no-block":""}},[e("div",[e("b-button-group",{staticClass:"abas-h"},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.tabListaMaquinas,name:"Lista_Maquinas.xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.getListaMaquina()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.total?"primary":"outline-primary"},on:{click:function(t){return a.listaMaquinasTodas()}}},[a._v("Todas: "+a._s(a.estatisticas.total))]),e("b-button",{attrs:{variant:a.btnSel.ativo?"primary":"outline-primary"},on:{click:function(t){return a.listaMaquinasAtivas()}}},[a._v("Em Atividade: "+a._s(a.estatisticas.ativo))]),e("b-button",{attrs:{variant:a.btnSel.inativo?"primary":"outline-primary"},on:{click:function(t){return a.listaMaquinasInativas()}}},[a._v("Sem Atividade: "+a._s(a.estatisticas.inativo))]),e("b-button",{attrs:{variant:"outline-primary",type:"submit"},on:{click:a.limpaOffline}},[a._v("Limpar Selecionadas")])],1),e("b-button-group",{staticClass:"abas-v",attrs:{vertical:""}},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.tabListaMaquinas,name:"Lista_Maquinas.xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.getListaMaquina()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.total?"primary":"outline-primary"},on:{click:function(t){return a.listaMaquinasTodas()}}},[a._v("Todas: "+a._s(a.estatisticas.total))]),e("b-button",{attrs:{variant:a.btnSel.ativo?"primary":"outline-primary"},on:{click:function(t){return a.listaMaquinasAtivas()}}},[a._v("Em Atividade: "+a._s(a.estatisticas.ativo))]),e("b-button",{attrs:{variant:a.btnSel.inativo?"primary":"outline-primary"},on:{click:function(t){return a.listaMaquinasInativas()}}},[a._v("Sem Atividade: "+a._s(a.estatisticas.inativo))]),e("b-button",{attrs:{variant:"outline-primary",type:"submit"},on:{click:a.limpaOffline}},[a._v("Limpar Selecionadas")])],1)],1),e("hr",{staticClass:"my-0"}),e("b-row",{staticClass:"pt-3 bg-ice"},[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("h3",[a._v(a._s(a.tabTitulo))])]),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"4"}},[e("b-form-group",{attrs:{description:"Pesquise no resultado"}},[e("b-form-input",{attrs:{type:"search",placeholder:"Busca",size:"sm"},model:{value:a.filter,callback:function(t){a.filter=t},expression:"filter"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12 ",md:"2"}},[e("b-form-group",{attrs:{description:"por página"}},[e("b-form-select",{attrs:{options:a.pageOptions,size:"sm"},model:{value:a.perPage,callback:function(t){a.perPage=t},expression:"perPage"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"6"}},[e("b-form-group",[e("small",[a._v(a._s("Total de Registros: "+a.totalRows))]),e("br"),e("b-pagination",{attrs:{"total-rows":a.totalRows,"per-page":a.perPage,size:"sm"},model:{value:a.currentPage,callback:function(t){a.currentPage=t},expression:"currentPage"}})],1)],1)],1),e("b-row",{attrs:{id:"box-tabela"}},[e("b-col",[e("div",{staticClass:"e-tab"},[a.listaMaquinas?e("b-table",{ref:"tabMaquinas",staticClass:"tab-maquinas mb-0",attrs:{id:"tabMaquinas","show-empty":"",small:"",striped:"",stacked:"md",items:a.tabListaMaquinas,fields:a.titTabela,"current-page":a.currentPage,"per-page":a.perPage,filter:a.filter,"tbody-tr-class":a.rowDisable,"empty-text":"Não há registro para sua pesquisa."},on:{filtered:a.onFiltered},scopedSlots:a._u([{key:"cell(status)",fn:function(t){return[e("div",{staticClass:"text-center"},[e("b-iconstack",{staticClass:"mx-2",attrs:{"font-scale":"1"}},[e("b-icon",{attrs:{icon:"display",scale:"false"!==t.item.maq_ativa?1.3:1,variant:"false"!==t.item.maq_ativa?"primary":"danger",alt:"false"!==t.item._status?"Máquina em Atividade":"Máquina sem Atividade"}}),"false"===t.item.maq_ativa?e("b-icon",{attrs:{icon:"slash-circle",scale:"1.6",variant:"danger"}}):a._e()],1)],1)]}},{key:"cell(ultima_atividade)",fn:function(t){return[e("div",[a._v(" "+a._s(a.formatDateMilisec(t.item.ultima_atividade))+" ")])]}},{key:"cell(testeversao)",fn:function(t){return[e("div",[a._v(" "+a._s(t.item.versoes?t.item.versoes.split("atual=").reverse()[0]:"Não disponível")+" ")])]}},{key:"cell(discosArray)",fn:function(t){return[e("select",{attrs:{id:"select-disco",disabled:"false"==t.item.maq_ativa},on:{change:function(t){return a.selDisco()}}},[e("option",{attrs:{value:"null"}},[a._v("-- Selecione uma unidade de Disco --")]),a._l(t.item.discosArray,(function(t){return e("option",{key:t.id,domProps:{value:t.codigoDisco}},[a._v(" "+a._s(t.descricao)+" ")])}))],2)]}},{key:"cell(cod_maquina)",fn:function(t){return[e("div",{staticClass:"cell-codmaquina"},[a._v(" "+a._s(t.item.cod_maquina)+" ")])]}},{key:"cell(actions)",fn:function(t){return[e("div",{staticClass:"text-left"},[e("b-button-group",[e("b-button",{staticClass:"font-weight-bold",attrs:{id:"tooltip-button-ver-watcher-"+t.index,title:"Ver Monitoramento",size:"sm",variant:"outline-primary"},on:{click:function(e){return a.abreModulo("monitoramento",t.item.computer_name,t.item.cod_maquina,t.item.grupo_dlp)}}},[a._v(" M ")]),e("b-button",{staticClass:"font-weight-bold",attrs:{id:"tooltip-button-ver-watcher-"+t.index,title:"Ver Atividades",size:"sm",variant:"outline-primary"},on:{click:function(e){return a.abreModulo("atividades",t.item.computer_name,t.item.cod_maquina,t.item.grupo_dlp)}}},[a._v(" A ")]),e("b-dropdown",{attrs:{size:"sm",id:"dropdown-right-"+t.index,title:"Exibe Detalhes",right:"",variant:"outline-primary","no-caret":""},scopedSlots:a._u([{key:"button-content",fn:function(){return[e("b",[a._v("D")])]},proxy:!0}],null,!0)},[e("subMenuDetalhes",{attrs:{dados:t.item},on:{carregaDados:function(t){return a.getListaMaquina()}}})],1),e("b-dropdown",{attrs:{size:"sm",id:"dropdown-right-"+t.index,title:"Mais ações",right:"",variant:"primary","no-caret":""},scopedSlots:a._u([{key:"button-content",fn:function(){return[e("b-icon",{attrs:{icon:"three-dots","font-scale":"1.5"}})]},proxy:!0}],null,!0)},[t.item?e("sub-menu",{attrs:{modulo:"redes",dados:t.item,subMenu:a.listaSubMenu,indice:t.item.idx},on:{carregaDados:function(t){return a.getListaMaquina()}}}):a._e()],1),e("b-button",{attrs:{id:"tooltip-button-ver-watcher-"+t.index,title:"Selecionar para limpar",size:"sm",variant:"outline-primary"}},[e("input",{attrs:{id:"maquinasOffline",type:"checkbox",name:"maquinasOffline","v-model":a.checkedNames,value:"maquinasOffline"},on:{click:function(e){return a.adicionaMaquina(t.item.cod_maquina)}}})])],1)],1)]}}],null,!1,472292828)}):a._e()],1)])],1)],1)],1)],1)],1)])],1)])]),e("loader",{attrs:{status:a.loaderCheck}})],1)},j=[],N=e("da92"),z=N["a"],G=(e("1120"),Object(L["a"])(z,R,j,!1,null,"07bd11cb",null)),J=G.exports,V=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"Alertas"}}),e("div",{staticClass:"container-full m-3"},[e("div",{staticClass:"row",attrs:{id:"box-tabela"}},[e("b-col",{staticClass:"my-2",attrs:{xs:"12",sm:"6",md:"7"}},[a.selMaquina&&a.selMaquinaData?e("small",[a._v("Dados coletados da máquina: "),e("strong",[a._v(a._s(a.selMaquina))]),a._v(" na data de "),e("strong",[a._v(a._s(a.dataHeader(a.selMaquinaData)))])]):a._e()]),e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("b-card",{attrs:{"no-block":""}},[e("div",[e("b-button-group",{staticClass:"abas-h"},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.xlsDados,name:"Lista_Alertas.xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.listaAcoesAlarmes()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.total?"primary":"outline-primary"}},[a._v("Todos: "+a._s(a.totalRegistros))])],1),e("b-button-group",{staticClass:"abas-v",attrs:{vertical:""}},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.xlsDados,name:"Lista_Alertas.xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.listaAcoesAlarmes()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.total?"primary":"outline-primary"}},[a._v("Todos: "+a._s(a.totalRegistros))])],1)],1),e("hr",{staticClass:"my-0"}),e("b-row",{staticClass:"pt-3 bg-ice"},[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("h4",[a._v(a._s(a.tabTitulo))])]),e("b-col",{staticClass:"py-1 altura",attrs:{xs:"12",sm:"12",md:"2"}},[e("b-form-group",{attrs:{description:""}},[e("b-form-input",{attrs:{type:"search",placeholder:"Usuário",size:"sm"},model:{value:a.filteredUser,callback:function(t){a.filteredUser=t},expression:"filteredUser"}})],1)],1),e("b-col",{staticClass:"py-1 altura",attrs:{xs:"12",sm:"12",md:"2"}},[e("b-form-group",{attrs:{description:""}},[e("b-form-input",{attrs:{type:"search",placeholder:"Máquina",size:"sm"},model:{value:a.filteredMaquina,callback:function(t){a.filteredMaquina=t},expression:"filteredMaquina"}})],1)],1),e("b-col",{staticClass:"py-1 altura",attrs:{xs:"12",sm:"12 ",md:"2"}},[e("b-form-group",{attrs:{description:"Grupo(s)"}},[e("b-form-select",{attrs:{options:a.setListaGruposCompleto,size:"sm"},model:{value:a.filteredGrupo,callback:function(t){a.filteredGrupo=t},expression:"filteredGrupo"}})],1)],1),e("div",{staticClass:"col-2"},[e("b-form-datepicker",{attrs:{id:"dat-inicio",placeholder:"Data",max:a.buscaAvancada.maxDate,"date-format-options":{year:"numeric",month:"numeric",day:"numeric"},locale:"pt"},model:{value:a.filteredData,callback:function(t){a.filteredData=t},expression:"filteredData"}})],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12 ",md:"2"}},[e("b-form-group",[e("b-form-select",{attrs:{options:a.opcoesOrdem,size:"sm"},model:{value:a.filteredStatus,callback:function(t){a.filteredStatus=t},expression:"filteredStatus"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12 ",md:"1"}},[e("div",{staticClass:"pt-1",staticStyle:{padding:"0 !important",margin:"0 !important"}},[e("b-button",{staticStyle:{padding:"5% 8% !important",margin:"0 !important","font-size":"14px !important"},attrs:{variant:"primary"},on:{click:function(t){return a.listaAcoesAlarmesPesquisa(1)}}},[a._v(" Pesquisar ")])],1)]),e("b-col",{staticClass:"py-1",attrs:{xs:"24",sm:"12",md:"12"}},[e("b-form-group",{staticClass:"col-md-12 text-right "},[[e("div",[e("button",{staticClass:"pagination-button",on:{click:function(t){return a.previousPage(10)}}},[a._v("<<")]),e("button",{staticClass:"pagination-button",on:{click:function(t){return a.previousPage(1)}}},[a._v("<")]),a.visiblePageNumbers[0]>1?e("button",{staticClass:"pagination-button",on:{click:function(t){return a.goToPage(1)}}},[a._v("1")]):a._e(),a.visiblePageNumbers[0]>2?e("span",{staticClass:"pagination-ellipsis"},[a._v("...")]):a._e(),a._l(a.visiblePageNumbers,(function(t){return e("button",{key:t,class:{"pagination-button":!0,active:t===a.paginaAtual},on:{click:function(e){return a.goToPage(t)},change:function(e){return a.listaAcoesAlarmes(t)}}},[a._v(" "+a._s(t)+" ")])})),a.visiblePageNumbers[a.visiblePageNumbers.length-1]<a.totalPages-1?e("span",{staticClass:"pagination-ellipsis"},[a._v("...")]):a._e(),a.visiblePageNumbers[a.visiblePageNumbers.length-1]<a.totalPages?e("button",{staticClass:"pagination-button",on:{click:function(t){return a.goToPage(a.totalPages)},change:function(t){return a.listaAcoesAlarmes(a.pageNumber)}}},[a._v(" "+a._s(a.totalPages)+" ")]):a._e(),e("button",{staticClass:"pagination-button",on:{click:function(t){return a.nextPage(1)}}},[a._v(">")]),e("button",{staticClass:"pagination-button",on:{click:function(t){return a.nextPage(10)}}},[a._v(">>")])],2)]],2)],1)],1),e("b-row",{attrs:{id:"box-tabela"}},[e("b-col",{staticClass:"p-0"},[e("div",{staticClass:"e-tab"},[a.listaAcoes?e("b-table",{ref:"tabAlarmes",staticClass:"tab-alarmes mb-0",attrs:{id:"tabAlarmes","show-empty":"",small:"",hover:"",striped:"",stacked:"md",items:a.tabListaAcoes,fields:a.titTabela,"current-page":a.currentPage,"per-page":a.perPage,filter:a.filter,"empty-text":"Não existem dados para os filtros especificados."},on:{filtered:a.onFiltered,"row-clicked":a.duploClickLinha},scopedSlots:a._u([{key:"cell(tipo_alarme)",fn:function(a){return[e("span",{staticClass:"info p-2"})]}},{key:"cell(terminada)",fn:function(t){return[a._v(" "+a._s(0===t.item.terminada?"Ativa":"Terminada")+" ")]}},{key:"cell(data_evento)",fn:function(t){return[a._v(" "+a._s(a.formatDate(t.item.data_evento))+" ")]}},{key:"cell(tituloJanela)",fn:function(t){return[e("div",{staticClass:"titulo",attrs:{id:"tituloJanela"}},[a._v(a._s(a.removeHtml(t.item.titulo_janela)))])]}},{key:"cell(alarme)",fn:function(t){return[e("div",{staticClass:"box-descricao"},[a._v(a._s(a.cortaTituloAlarme(t.item.alarme)))])]}},{key:"cell(providencias)",fn:function(t){return[e("div",{staticClass:"box-descricao"},[a._v(" "+a._s(a.removeHtml(t.item.providencias))+" ")])]}},{key:"cell(actions)",fn:function(t){return[e("b-button-group",[e("b-button",{ref:"btnEdit",staticClass:"btn-edit-direita px-2 mr-1 float-left",attrs:{id:"tooltip-button",title:"Editar Alertas",variant:"primary",disabled:a.chkStatusAlarme(t.item.status_alarme)},on:{click:function(e){return a.editaAlarme(t.item,t.index)}}},[e("b-icon",{attrs:{icon:"pencil-square","font-scale":"1.5"}})],1),e("b-button",{ref:"btnEdit",staticClass:"btn-edit-direita px-2 mr-1 float-left",attrs:{id:"tooltip-button",title:"Detalhes",variant:"primary"},on:{click:function(e){return a.detalhesAlarme(t.item,t.index)}}},[e("b-icon",{attrs:{icon:"info-circle","font-scale":"1.5"}})],1),e("modalEvidenciaAlerta",{staticClass:"px-1 mr-0 float-right",attrs:{grupoDlp:t.item.grupo_dlp,setMaquina:t.item.computer_name,codMaquina:t.item.cod_maquina,tempo:t.item.data_evento,handler:t.item.handler_alarme,idAlarme:t.item.id_alarme,milis:t.item.data_milis}})],1)]}}],null,!1,1614572616)}):a._e()],1)])],1)],1)],1)],1)])],1)])]),e("b-modal",{ref:"buscaAvancada",attrs:{"ok-only":"",id:"buscaAvancada","no-close-on-backdrop":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Filtro ")]},proxy:!0},{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{size:"",variant:"success"},on:{click:function(t){a.listaAcoesAlarmes(),a.fechaModal("buscaAvancada")}}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:"search"}}),a._v(" Buscar ")],1),e("b-button",{attrs:{size:"",variant:"secondary"},on:{click:function(t){return a.limpaBuscaAvancada()}}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:"trash"}}),a._v(" Limpar ")],1),e("b-button",{attrs:{size:"",variant:"danger"},on:{click:function(t){return a.fechaModal("buscaAvancada")}}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)]},proxy:!0}]),model:{value:a.modBuscaAvancada,callback:function(t){a.modBuscaAvancada=t},expression:"modBuscaAvancada"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("label",{staticClass:"mt-3",attrs:{for:"buscaMaquina"}},[a._v("Máquinas")]),e("b-form-select",{attrs:{id:"buscaMaquina",options:a.setListaMaquinas,disabled:!a.setListaMaquinas},model:{value:a.buscaAvancada.cod_maquina,callback:function(t){a.$set(a.buscaAvancada,"cod_maquina",t)},expression:"buscaAvancada.cod_maquina"}})],1),e("div",{staticClass:"col-6"},[e("label",{staticClass:"mt-3",attrs:{for:"dat-inicio"}},[a._v("Data Inicio")]),e("b-form-datepicker",{attrs:{id:"dat-inicio",placeholder:"Data Início",max:a.buscaAvancada.maxDate,"date-format-options":{year:"numeric",month:"numeric",day:"numeric"},locale:"pt"},model:{value:a.buscaAvancada.dataInic,callback:function(t){a.$set(a.buscaAvancada,"dataInic",t)},expression:"buscaAvancada.dataInic"}})],1),e("div",{staticClass:"col-6"},[e("label",{staticClass:"mt-3",attrs:{for:"dat-fim"}},[a._v("Data Fim")]),e("b-form-datepicker",{attrs:{id:"dat-fim",placeholder:"Data Fim",max:a.buscaAvancada.maxDate,min:a.buscaAvancada.dataInic,disabled:""==a.buscaAvancada.dataInic,"date-format-options":{year:"numeric",month:"numeric",day:"numeric"},locale:"pt"},model:{value:a.buscaAvancada.dataFim,callback:function(t){a.$set(a.buscaAvancada,"dataFim",t)},expression:"buscaAvancada.dataFim"}})],1)])]),e("b-modal",{ref:"modImgFull",attrs:{id:"modImgFull",title:"Imagem Ampliada","ok-only":"",centered:"","no-close-on-backdrop":"","close-on-esc":"","hide-header":"","hide-footer":"",size:"full"}},[e("b-button",{staticClass:"btn-carousel",attrs:{size:"sm",variant:"primary",title:"Ampliar Imagem"},on:{click:function(t){return a.fechaModal("modImgFull")}}},[e("b-icon",{attrs:{icon:"arrows-angle-contract"}}),a._v(" Restaura Imagem ")],1),e("div",{},[e("img",{staticClass:"slideImgModal",attrs:{src:a.imgFull}})])],1),e("b-modal",{ref:"editaAlarme",attrs:{id:"editaAlarme",title:"Editar Alerta"},scopedSlots:a._u([{key:"modal-footer",fn:function(t){t.ok,t.cancel;return[e("b-button-group",{staticClass:"mr-1"},[e("b-button",{attrs:{size:"",variant:"success",disabled:!a.validaAtualiza(),value:"Enviar"},on:{click:function(t){return a.editaAlarmeAlteracao(a.infoModal.content)}}},[e("b-icon",{attrs:{icon:"check"}}),a._v(" Atualizar")],1),e("b-button",{attrs:{size:"",variant:"danger"},on:{click:function(t){return a.editaAlarmeCancela()}}},[e("b-icon",{attrs:{icon:"x"}}),a._v(" Cancelar")],1)],1)]}}])},[a.modalErrors.length?e("p",[e("b",[a._v("Por favor, corrija o(s) seguinte(s) erro(s):")]),e("ul",a._l(a.modalErrors,(function(t){return e("li",{key:t.id},[a._v(a._s(t))])})),0)]):a._e(),e("div",{domProps:{innerHTML:a._s(a.infoModal.detail)}}),e("b-form-group",{attrs:{id:"input-group-3",label:"Escolha o status do alerta:","label-for":"input-3"}},[e("b-form-select",{attrs:{id:"selectStatus",name:"selectStatus",options:a.statusAlarmes,state:a.valida.status},model:{value:a.formEditaAlarmes.status,callback:function(t){a.$set(a.formEditaAlarmes,"status",t)},expression:"formEditaAlarmes.status"}})],1),e("b-form-group",{attrs:{id:"input-group-3",label:"Comentários:","label-for":"input-3"}},[e("b-form-textarea",{attrs:{id:"textareaAlerta",placeholder:"Escreva...",rows:"3","max-rows":"6"},model:{value:a.formEditaAlarmes.texto,callback:function(t){a.$set(a.formEditaAlarmes,"texto",t)},expression:"formEditaAlarmes.texto"}})],1),0!==a.msgAlerta.cod&&"editar"==a.msgAlerta.local?e("b-alert",{attrs:{show:"",dismissible:"",fade:"",variant:1==a.msgAlerta.cod?"success":"warning"}},[a._v(a._s(a.msgAlerta.txt))]):a._e()],1),e("loader",{attrs:{status:a.loaderCheck}}),e("b-modal",{ref:"detalhesAlarme",attrs:{id:"editaAlarme",title:"Detalhes","ok-only":"","close-on-esc":"",size:"xl"}},[e("div",{staticClass:"modaltamanho",domProps:{innerHTML:a._s(a.infoModal.detail)}})]),e("loader",{attrs:{status:a.loaderCheck}})],1)},F=[],B=e("2686"),H=e("5864"),Z=e("d084"),Q=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("b-button",{ref:"btnEvidencia"+a.maquina,staticClass:"btn-group-left",attrs:{id:"btnEvidencia_"+a.maquina,title:"Evidências",variant:"primary","close-on-esc":""},on:{click:function(t){a.chamaEvidencias(),a.showModal()}}},[e("b-icon",{attrs:{icon:"images"}})],1),a.show?e("b-modal",{ref:"modEvidencia_"+a.maquina,attrs:{id:"modEvidencia_"+a.maquina,title:"Evidências: "+a._props.setMaquina+" - "+a._props.codMaquina+" / ID: "+a._props.idAlarme,"ok-only":"",centered:"","no-close-on-backdrop":"","close-on-esc":"","hide-footer":"",size:"xl"}},[e("div",[a.listaEvidencias.length>0?e("b-carousel",{attrs:{id:"slideEvidencia",controls:"","no-animation":"",indicators:"",background:"transparent",interval:36e5},model:{value:a.slide,callback:function(t){a.slide=t},expression:"slide"}},a._l(a.listaEvidencias,(function(t,s){return e("b-carousel-slide",{key:s,scopedSlots:a._u([{key:"img",fn:function(){return[t.src?e("p",{staticClass:"imagem-rodape"},[a._v(" "+a._s(a.trataNomeArquivo(t.src))+" "),e("br")]):a._e(),t.src?e("img",{staticClass:"tamanho",attrs:{src:a.locationImg+t.src}}):a._e(),t.texto?e("div",{staticClass:"slideTexto"},[e("p",{domProps:{innerHTML:a._s(t.texto)}})]):a._e()]},proxy:!0}],null,!0)})})),1):a._e()],1)]):a._e()],1)},Y=[],W=new Headers;W.append("Content-Type","application/json"),W.append("Cache-Control","no-cache"),W.append("Expires","-1"),W.append("Pragma","no-cache"),W.append("Origin","https://app.epsoft.com.br","https://app.epsoft.com.br:8086");var X={props:["grupoDlp","setMaquina","codMaquina","setMaquinaFull","tempo","handler","idAlarme","milis"],data(){return{maquina:`${this.grupoDlp.toUpperCase()}-${this.setMaquina}-${this.codMaquina}`,listaEvidencias:[],slide:0,sliding:null,show:!0,text:"",token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,isDisabled:!1}},methods:{trataNomeArquivo(a){const t=a.split("/");return t[t.length-1]},converteMilisegundos(a){var t=a;if(t.indexOf(":")>-1){var e=Date.parse(t);return e}t=t.split(" ");var s=t[0],o=t[1];o=o.replaceAll("-",":"),t=s+" "+o;e=Date.parse(t);return e},async chamaEvidencias(){this.loaderCheck=!0,this.listaEvidencias=[];var a=this.handler,t=this.grupoDlp.toUpperCase()+"-"+this.setMaquina+"-"+this.codMaquina+"|"+this.milis+"|"+this.milis+"|"+a,e=`${this.maquina}|${this.milis}|${this.milis}|${a}`,s=`${this.locationUrl}/getScreenshotsListSecret/${this.token}/resp_rest`;console.log("ANTES: "+t),await this.$http.post(s,t).then(a=>{setTimeout(()=>{this.loaderCheck=!1;var s=a.data;this.listaEvidencias=s,console.log("EVIDENCIAS ENCONTRADAS: "),console.log("DADOS/INFORMACOES DE PESQUISA DE EVIDENCIAS DA MAQUINA ENVOLVIDA NO ALERTA: "),console.log(e),console.log("OK máquina: "+t),e=""},1e3)}).catch(a=>{404==a.status&&(console.log("Status Erro: "+a.status),console.log("Nao existe evidencias nesse alerta"),console.log("catch erro: "+t),e="")})},onSlideStart(a){this.sliding=!0},onSlideEnd(a){this.sliding=!1},showModal(){this.$refs["modEvidencia_"+this.maquina].show()},hideModal(){this.$refs["modEvidencia_"+this.maquina].hide()},showModalErro(){this.atualizaImagem(),this.$refs["modErro"+this.maquina].show()},hideModalErro(){this.$refs["modErro"+this.maquina].hide(),this.pararFilmagem()},showModalMsg(){this.atualizaImagem(),this.$refs["modMsg"+this.maquina].show()},hideModalMsg(){this.$refs["modMsg"+this.maquina].hide()}},mounted(){this.hideModal()}},K=X,aa=(e("0884"),Object(L["a"])(K,Q,Y,!1,null,"746c8d41",null)),ta=aa.exports;e("1157");const ea=ambientes.ativo[0].url+":"+ambientes.ativo[0].porta_api;ambientes.ativo[0].url,ambientes.ativo[0].porta;var sa=new Headers;sa.append("Content-Type","application/json","charset=utf-8"),sa.append("Cache-Control","no-cache"),sa.append("Expires","-1"),sa.append("Pragma","no-cache"),sa.append("Access-Control-Allow-Origin","http://localhost:8080/#/alertas"),sa.append("Access-Control-Allow-Origin","http://localhost:8080"),sa.append("Access-Control-Allow-Origin",ea),sa.append("Access-Control-Allow-Origin",ea+"/#/alertas");var oa={components:{"meu-painel":B["a"],"menu-lateral":H["a"],"sub-menu":Z["a"],modalEvidenciaAlerta:ta,loader:U["a"]},data(){return{paginaAtual:1,totalPages:1,visiblePages:3,totalRegistros:1,token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationUrlApi:this.$store.state.variaveisAmbiente.locationUrlApi,ambiente:this.$store.state.variaveisAmbiente.ambiente,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!0,testeLast:[],setListaGrupos:[],setListaGruposCompleto:[],listaSubMenu:["sms","chat","email","desliga","reinicia","reiniciaDlp","paraApp","exeCmd"],selMaquina:"",selMaquinaData:"",selMaquinaGdlp:"",setListaMaquinas:[],setListaDatas:[],selLinhas:[],listaAcoes:[],tabListaAcoes:[],tabListaAcoesNew:[],tabTitulo:"Todos os Alertas",evidencias:[],imgFull:"",chkIndex:null,modBuscaAvancada:!1,memoriaAlertas:[],memoriaAlertasLista:[],qtdPaginaInicial:0,qtdPaginaFinal:10,opcoesOrdem:[{value:"NAO VISTO",text:"NÃO VISTO"},{value:"PENDENTE",text:"PENDENTE"},{value:"TRATADO",text:"TRATADO"},{value:"EM ANDAMENTO",text:"EM ANDAMENTO"},{value:"ARQUIVADO",text:"ARQUIVADO"},{value:null,text:"TODOS"}],opcoesOrdemGrupo:[{value:null,text:"Grupo DLP"},{value:"epsoft",text:"epsoft"}],opcaoSelecionada:"NAO VISTO",dipositivoMsg:0,titTabela:[{key:"actions",label:"Ações"},{key:"tipo_alarme",label:""},{key:"alarme",label:"DESCRIÇÃO DO ALERTA"},{key:"user_name",label:"USUÁRIO"},{key:"computer_name",label:"MÁQUINA"},{key:"tituloJanela",label:"TITULO"},{key:"data_evento",label:"DATA DO EVENTO",sortDirection:"desc"},{key:"status_alarme",label:"STATUS"}],titTabelaOcorrencias:[{key:"dataHoraEvento",label:"Horário"},{key:"tituloJanela",label:"titulo"},{key:"tipoEvento",label:"Tipo"},{key:"ocorrencia",label:"Ocorrência"}],statusAlarmes:[{value:"",text:"Selecione"},{value:"Em andamento",text:"Em andamento"},{value:"Pendente",text:"Pendente"},{value:"Tratado",text:"Tratado"},{value:"Arquivado",text:"Arquivado"}],estatisticas:{total:0,gravissimo:0,grave:0,serio:0,alerta:0,info:0,proc_autorizado:0},btnSel:{todas:0,permitidas:0,proibidas:0,desconhecidas:0,ocorrencias:0},totalRows:1,totalPaginas:0,currentPage:0,perPage:15,porPagina:33,pageOptions:[10,25,50,100],filter:null,filteredUser:null,filteredMaquina:null,filteredData:null,filteredStatus:"NAO VISTO",filteredGrupo:null,xlsTitulo:{"Tipo do Alerta":"tipo_alarme","Id do Alerta":"id_alarme","Data do Evento":"dataEvento","Máquina":"computer_name","Cód. Máquina":"cod_maquina","Grupo DLP":"grupo_dlp","Usuário":"user_name","Status da Máquina":"maqAtiva","Código do Alerta":"handler_alarme",Alerta:"alarme","PID do Alerta":"pid_alarme","Último Status do Alerta":"status_alarme","Tem Alerta":"temAlarmes","Providências":"providencias","Criação do Alerta":"momentoCriacao",Arquivo:"arquivo","Arquivo Sandbox":"arq_sand_box","Codigo da Janela":"handler_alarme",Janela:"titulo_janela","Executável":"executavel","Id do Dispositivo":"id_dispositivo","Status da Janela":"statusApp",Arquivo:"arquivo","Arquivo Sandbox":"arq_sand_box"},xlsDados:[],infoModal:{title:"",detail:"",id:"editaAlerta",content:"",btnDisabled:!1},formEditaAlarmes:{status:"",texto:""},msgAlerta:{cod:0,txt:"",local:""},valida:{status:null,comentario:null},buscaAvancada:{cod_maquina:"Selecione",tipo_alarme:"",dataInic:"",dataFim:"",maxDate:"",minDate:"",string:""},statusSelect:"",modalErrors:[]}},computed:{sortOptions(){return this.fields.filter(a=>a.sortable).map(a=>({text:a.label,value:a.key}))},visiblePageNumbers(){const a=Math.max(this.paginaAtual-Math.floor(this.visiblePages/2),1),t=Math.min(a+this.visiblePages-1,this.totalPages);return Array(t-a+1).fill().map((t,e)=>a+e)}},watch:{tabListaAcoes(a){this.geraXls(a)},totalRows(a){this.totalRows=a},listaAcoes(a){this.geraEstatisticas()}},methods:{previousPage(a){const t=Math.max(this.paginaAtual-a,1);this.goToPage(t)},nextPage(a){const t=Math.min(this.paginaAtual+a,this.totalPages);this.goToPage(t)},goToPage(a){a>=1&&a<=this.totalPages&&(this.paginaAtual=a,null===this.filteredUser&&null===this.filteredMaquina&&null===this.filteredStatus&&null===this.filteredData?this.listaAcoesAlarmes(a):this.listaAcoesAlarmesPesquisa(a))},async getNumeroPaginas(a){let t=this.getGrupoDLP().replace("*","");t="*"==t?"1=1":"grupo_basico='"+t.replace("*","")+"'";const e={tabela:"alarmes",select:""+a,pagina:"1",qt:"0",campos_select_end_point:"id_alarme",get_qt:"1"};let s=this.locationUrl+"/sql/selectSql/"+this.token+"/resp_rest";await this.$http.post(s,e).then(a=>{let t=a.data;t=t.split(":").reverse()[0].replace(/\"|,/g,""),this.totalRegistros=t,this.totalPages=Math.ceil(t/this.perPage)}).catch((function(a){console.error("ops! ocorreu um erro"+a)}))},async listaAcoesAlarmes(a="1"){this.loaderCheck=!0,this.filteredUser=null,this.filteredMaquina=null,this.filteredStatus="NAO VISTO",this.filteredData=null,this.buscaAvancada.cod_maquina&&"Selecione"==this.buscaAvancada.cod_maquina&&(this.buscaAvancada.cod_maquina=""),this.buscaAvancada.dataFim&&this.buscaAvancada.dataFim<this.buscaAvancada.dataInic&&(this.buscaAvancada.dataFim=this.buscaAvancada.dataInic),this.listaAcoes=[];let t=this.getGrupoDLP();t="*"==t?"1=1":"grupo_basico='"+t.replace("*","")+"'";const e={tabela:"alarmes",select:`status_alarme='${this.filteredStatus}' and ${t}^order by data_evento desc`,pagina:""+a,qt:"15",campos_select_end_point:"L,id_alarme^computer_name^user_name^cod_maquina^data_evento^data_milis^tipo_alarme^status_alarme^momento_criacao^handler_alarme^pid_alarme^executavel^providencias^alarme^grupo_dlp^titulo_janela",get_qt:"0"};let s=this.locationUrl+"/sql/selectSql/"+this.token+"/resp_rest";await this.$http.post(s,e).then(a=>{this.loaderCheck=!1;let t=a.data;this.listaAcoes=t,this.getNumeroPaginas(e.select),this.geraEstatisticas(),this.listaAlmTotal()}).catch((function(a){a&&(this.listaAcoes=[]),console.error("ops! ocorreu um erro"+a)}))},validaAtualiza(){this.valida.status=""!==this.formEditaAlarmes.status;let a=!0;return(" "===this.formEditaAlarmes.texto[0]||" "===this.formEditaAlarmes.texto[0]&&" "===this.formEditaAlarmes.texto[1])&&(a=!1),this.valida.status&&a},geraXls(a){var t=a;t&&(t.forEach(a=>{a.dataEvento=this.formatDate(a.data_evento),a.momentoCriacao=this.formatDate(a.momento_criacao)}),this.xlsDados=t)},cortaTituloJanela(a){var t=[];return t=a.match("titulo_janela=(.*?);"),t?t[1]:null},cortaTituloAlarme(a){var t=[];return t=a.match("alarme=(.*?)<br>"),t?t[1]:null},voltaPagina(){this.$router.go(-1)},novaPesquisa(){this.listaMaquinas(),this.modBuscaAvancada=!0},dataHeader(a){return a.slice(4,6)+"/"+a.slice(2,4)+"/20"+a.slice(0,2)},horaFormat(a){var t=new Date(a).toString();return t=t.split(" GMT"),t=t[0].split(" ").reverse(),t=t[0],t},formatDate(a){let t=a.split(" "),e=t[1],s=t[0].split("-").reverse();s=s[0]+"/"+s[1]+"/"+s[2];var o=`${s} - ${e}`;return o},formatDia(a){let t=a.split("-").reverse();return t[0]+"/"+t[1]+"/"+t[2]},htmlFormat(a){let t=a;t=t.replace(/=(\r\n|\n|\r)/gm,"<br>")},removeHtml(a){var t=new RegExp(/<(.|\n)*?>/gi);return a?a.replace(t,""):a},async listaMaquinas(){this.loaderCheck=!0;let a=this.locationUrl+"/getWatcherMachinesListSecret/"+this.token+"/resp_rest";await this.$http.post(a,sa).then(a=>{this.loaderCheck=!1,this.setListaMaquinas=a.data,this.setListaMaquinas.unshift("Selecione")}).catch((function(a){this.loaderCheck=!1,this.setListaMaquinas=[],this.setListaDatas=[]}))},async listaDatas(a){this.loaderCheck=!0;let t=this.locationUrl+"/getWatcherDatesListSecret/"+this.token+"/resp_rest";await this.$http.post(t,a,sa).then(a=>{this.loaderCheck=!1;var t=a.data;t=t.reverse(),this.setListaDatas=t.map(a=>({text:a.slice(4,6)+"/"+a.slice(2,4)+"/20"+a.slice(0,2),value:a}))}).catch((function(a){this.loaderCheck=!1,this.setListaDatas=[]}))},botaoSelecionado(a){this.btnSel={total:!1,gravissimo:!1,grave:!1,serio:!1,alerta:!1,info:!1,proc_autorizado:!1},this.btnSel[a]=!0},getGrupoDLP(){var a=localStorage.getItem("user");a=JSON.parse(a),a=a.keyAcesssSecret;var t=this.$CryptoJS.enc.Base64.parse(a);t=t.toString(this.$CryptoJS.enc.Utf8);t=t.split("^").reverse();let e=t[0];return e},trataDataBusca(a){a=a;return a?(a=a.split("").reverse().join(""),a=a.slice(0,8),a=a.split("").reverse().join(""),a):""},limpaBuscaAvancada(){this.buscaAvancada={cod_maquina:"Selecione",tipo_alarme:"",dataInic:"",dataFim:"",maxDate:"",minDate:"",string:""}},async listaAcoesAlarmesPesquisa(a="1"){this.loaderCheck=!0;let t=this.filteredUser,e=this.filteredMaquina,s=this.filteredStatus,o=this.filteredGrupo,i=this.filteredData,r="",l="",n="",c="",d="";this.paginaAtual=a,null===t?t="":r=`user_name='${t}' and `,null===e?e="":l=`computer_name='${e}' and `,""===s||null===s?s="":n=`status_alarme='${s}' and `,null===o?o="":c=`grupo_dlp='${o}' and `,null===i?i="":d=`data_evento like '${i}%' and `;let u=this.getGrupoDLP();u="*"==u?"1=1":"grupo_basico='"+u.replace("*","")+"'";const p={tabela:"alarmes",select:`${r}${l}${n}${c}${d}${u}^order by data_evento desc`,pagina:""+a,qt:"15",campos_select_end_point:"L,id_alarme^computer_name^user_name^cod_maquina^data_evento^data_milis^tipo_alarme^status_alarme^momento_criacao^handler_alarme^pid_alarme^executavel^providencias^alarme^grupo_dlp^titulo_janela",get_qt:"0"};let m=this.locationUrl+"/sql/selectSql/"+this.token+"/resp_rest";await this.$http.post(m,p).then(a=>{this.loaderCheck=!1;let t=a.data;this.listaAcoes=t,this.getNumeroPaginas(p.select),this.geraEstatisticas(),this.listaAlmTotal()}).catch(a=>{this.loaderCheck=!1,a&&(this.listaAcoes=[]),alert("Não existem dados para os filtros especificados"),this.listaAcoesAlarmes()})},listaAlmTotal(){this.tabTitulo="Filtros",this.botaoSelecionado("total"),this.tabListaAcoes=this.listaAcoes,this.totalRows=this.listaAcoes.length},listaAlmGravissimo(){this.tabTitulo="Alerta Tipo Gravíssimo",this.botaoSelecionado("gravissimo"),this.tabListaAcoes=this.listaAcoes.filter(a=>"gravissimo"===a.tipo_alarme.toLowerCase()),this.totalRows=this.tabListaAcoes.length},listaAlmGrave(){this.tabTitulo="Alerta Tipo Grave",this.botaoSelecionado("grave"),this.tabListaAcoes=this.listaAcoes.filter(a=>"grave"===a.tipo_alarme.toLowerCase()),this.totalRows=this.tabListaAcoes.length},listaAlmSerio(){this.tabTitulo="Alerta Tipo Sério",this.botaoSelecionado("serio"),this.tabListaAcoes=this.listaAcoes.filter(a=>"serio"===a.tipo_alarme.toLowerCase()),this.totalRows=this.tabListaAcoes.length},listaAlmInfo(){this.tabTitulo="Alerta Tipo Gravíssimo",this.botaoSelecionado("info"),this.tabListaAcoes=this.listaAcoes.filter(a=>"alerta"==a.tipo_alarme.toLowerCase()||"proc autorizado"==a.tipo_alarme.toLowerCase()||"info"==a.tipo_alarme.toLowerCase()),this.totalRows=this.tabListaAcoes.length},async listaGruposAlertas(){let a=this.locationUrl+"/diversos/getGrupos/"+this.token+"/resp_rest";await this.$http.get(a,sa).then(a=>{let t=a.data.split(","),e=[...new Set(t)];this.setListaGruposCompleto=e}).catch((function(a){this.loaderCheck=!1,console.log(a)}))},geraEstatisticas(){this.estatisticas={total:0,gravissimo:0,grave:0,serio:0,alerta:0,info:0,proc_autorizado:0},this.estatisticas.total=this.listaAcoes.length,this.listaAcoes.forEach(a=>{"gravissimo"===a.tipo_alarme?this.estatisticas.gravissimo++:"grave"===a.tipo_alarme?this.estatisticas.grave++:"serio"===a.tipo_alarme?this.estatisticas.serio++:(a.tipo_alarme,this.estatisticas.info++)})},async liberaDisp(a,t){this.loaderCheck=!0;var e=JSON.stringify({id_alarme:a,abrangencia:t}),s=`${this.locationUrl}/diversos/gravaDispositivo/${this.token}/resp_rest`;await this.$http.post(s,e,sa).then(a=>{this.loaderCheck=!1,this.mensagemAlerta(1,"Dispositivo liberado com sucesso!","dispositivo")}).catch(a=>{this.loaderCheck=!1,this.mensagemAlerta(2,"Falha ao liberar dispositivo!","dispositivo")})},mensagemAlerta(a,t,e){this.msgAlerta={cod:a,txt:t,local:e},setTimeout(()=>{this.msgAlerta={cod:0,txt:"",local:""}},3e3)},chkStatusAlarme(a){return"Tratado"==a||"Dispositivo Autorizado"==a||"Arquivado"==a||"Mensagem"==a},editaAlarme(a,t){this.abreModal("editaAlarme"),this.infoModal.title="EDIÇÃO DE OCORRÊNCIA:",this.infoModal.detail=`<strong>Id do Alarme:</strong><br> ${a.id_alarme} <br>  <strong>Data:</strong><br> ${this.formatDate(a.data_evento)} <br> <strong>Usuário:</strong><br> ${a.user_name}<br> &nbsp;`,this.infoModal.content=a,this.formEditaAlarmes.status="NAO VISTO"==a.status_alarme?"":a.status_alarme,"Tratado"==a.status_alarme||"Dispositivo Autorizado"==a.status_alarme||"Arquivado"==a.status_alarme||"Mensagem lida"==a.status_alarme?this.infoModal.btnDisabled=!1:this.infoModal.btnDisabled=!0},detalhesAlarme(a,t){this.abreModal("detalhesAlarme"),this.infoModal.title="DETALHES:",this.infoModal.detail=`<strong>ID:</strong> ${a.id_alarme} <br><br> \n       <strong>Usuário:</strong> ${a.user_name} <br><br> \n       <strong>Descrição do Alerta:</strong> <br>${a.alarme} <br><br>\n       <strong>Nome da máquina:</strong> ${a.computer_name} <br><br> \n       <strong>Cód. máquina:</strong> ${a.cod_maquina} <br><br> \n       <strong>Status alerta:</strong> ${a.status_alarme} <br><br>   \n       <strong>Janela:</strong> ${a.handler_alarme} <br><br>   \n       <strong>Executável:</strong> ${a.executavel} <br><br>   \n       <strong>Tipo alerta:</strong> ${a.tipo_alarme} <br><br>   \n       <strong>Grupo DLP:</strong> ${a.grupo_dlp} <br><br>   \n       <strong>Data do evento:</strong> ${this.formatDate(a.data_evento)} <br>`},editaAlarmeComoVisto(a){var t=a.status_alarme;if(!t||"NAO VISTO"==t||"NAO VISTO"==t){let t=this.geraParametros(a),e=this.locationUrl+"/alarmes/update/"+this.token+"/resp_rest";this.$http.post(e,t,sa).then(a=>{this.mensagemAlerta(1,'Status alterado para "Mensagem lida"',"editar")}).catch(a=>{this.mensagemAlerta(2,'Erro ao alterar status para "Mensagem lida"',"editar")})}},editaAlarmeAlteracao(a){let t=this.geraParametros(a),e=this.locationUrl+"/alarmes/update/"+this.token+"/resp_rest";this.$http.post(e,t,sa).then(a=>{this.mensagemAlerta(1,"Alteração de Alerta salvo com sucesso! STARCK","editar"),setTimeout(()=>{this.fechaModal("editaAlarme")},1e3)}).catch(a=>{console.log(a),this.mensagemAlerta(2,"Ocorreu um erro ao salvar o Alerta!","editar")})},editaAlarmeCancela(){this.fechaModal("editaAlarme"),this.formEditaAlarmes={status:"",texto:""},this.listaAcoesAlarmes()},geraParametros(a){var t=""==this.formEditaAlarmes.status?"NÂO VISTO":this.formEditaAlarmes.status,e=JSON.stringify({computer_name:a.computer_name,alarme:a.alarme,user_name:a.user_name,tipo_alarme:a.tipo_alarme,pid_alarme:a.pid_alarme,handler_alarme:a.handler_alarme,executavel:a.executavel,status_alarme:t,cod_maquina:a.cod_maquina,grupo_dlp:a.grupo_dlp,data_evento:a.data_evento,data_milis:a.data_milis,momento_criacao:a.momento_criacao,providencias:this.formEditaAlarmes.texto,id_alarme:a.id_alarme});return e},tamanhoJanela(){return window.innerWidth},duploClickLinha(a,t){this.chkIndex!=t&&(this.tabListaAcoes.forEach(a=>a._showDetails=!1),this.chkIndex=t),a._showDetails=!a._showDetails},pegaCodMaquina(){var a=this.selMaquina.split("-");return a=a.reverse(),a[0]},pegaMaquina(){var a=this.selMaquina.split("-");a=a.reverse();var t="-"+a[0];return this.selMaquina.replace(t,"")},getParaphase(){return this.token+"%"+this.locationInfo},setCrpStorage(a){a=a;a=this.$CryptoJS.AES.encrypt(a,this.getParaphase()).toString(),localStorage.setItem("x-rapp-maq",a)},getCrpStorage(){var a=localStorage.getItem("x-rapp-maq");return a=a?this.$CryptoJS.AES.decrypt(a,this.getParaphase()).toString(this.CryptoJS.enc.Utf8):"",a},abreModal(a){this.$refs[a].show()},fechaModal(a){this.$refs[a].hide()},onFiltered(a){this.totalRows=a.length,this.currentPage=1}},mounted(){this.listaGruposAlertas(),this.listaAcoesAlarmes(1),window.onresize=this.tamanhoJanela();const a=new Date;var t=new Date(a.getFullYear(),a.getMonth(),a.getDate());this.buscaAvancada.maxDate=new Date(t),(new Date).getMinutes()-parseInt(localStorage.getItem("dataLogin"))>=localStorage.getItem("limiteSessao")&&(localStorage.removeItem("infoUser"),localStorage.removeItem("user"),localStorage.removeItem("dataLogin"),location.reload(!0))}},ia=oa,ra=(e("9e7b"),Object(L["a"])(ia,V,F,!1,null,"78badb67",null)),la=ra.exports,na=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"Dashboard"}}),e("b-card",{staticClass:"container-full m-3 dashboard p-0 m-0",attrs:{"no-block":"","header-bg-variant":"white"}},[e("b-card-header",{staticClass:"p-0 calendario",staticStyle:{margin:"-1.25rem -1.25rem 0 -1.25rem","background-color":"#FFF !important"}},[e("b-button-group",{staticClass:"abas-h"},[e("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a.carregaModulos()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1)],1),e("b-button-group",{staticClass:"abas-v",attrs:{vertical:""}},[e("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a.carregaModulos()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1)],1),e("div",{staticClass:"input"},[e("p",[a._v("De:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.dataInicial,expression:"dataInicial"}],staticClass:"data-fim",attrs:{id:"data-fim",type:"date"},domProps:{value:a.dataInicial},on:{input:function(t){t.target.composing||(a.dataInicial=t.target.value)}}})]),e("div",{staticClass:"input"},[e("p",[a._v("Até:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.dataFinal,expression:"dataFinal"}],staticClass:"data-inicio",attrs:{id:"data-inicio",type:"date"},domProps:{value:a.dataFinal},on:{input:function(t){t.target.composing||(a.dataFinal=t.target.value)}}})]),e("b-form-group",{staticClass:"select-grupos-dlp"},[e("b-form-select",{attrs:{options:a.grupos_dlp,size:"sm"},model:{value:a.grupoSelecionado,callback:function(t){a.grupoSelecionado=t},expression:"grupoSelecionado"}})],1),e("b-button-group",{staticClass:"abas-h pl-3",attrs:{vertical:""}},[e("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a.getDadosDashboard()}}},[a._v(" Executar ")])],1),e("b-button-group",{staticClass:"abas-h pl-3",attrs:{vertical:""}},[e("b-col",{staticClass:"text-right",attrs:{xs:"12",sm:"5",md:"4"}},[e("b-button",{attrs:{variant:"primary"},on:{click:a.abreModal}},[a._v("Relatório")]),e("modal-relatorio",{attrs:{grupos:a.grupos_dlp}})],1)],1)],1),e("b-container",{staticClass:"px-0"},[e("b-row",{staticClass:"mb-3",attrs:{id:"row-box-input"}},[e("b-col",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 p-2"},[e("b-card",{attrs:{"header-tag":"header","footer-tag":"footer","body-text-variant":"grey","footer-bg-variant":"warning","footer-text-variant":"white"},scopedSlots:a._u([{key:"footer",fn:function(){return[e("h6",{staticClass:"mb-0 text-right",attrs:{id:"alertas"}},[a._v("Alertas")])]},proxy:!0}])},[e("b-card-text",[e("h1",{staticClass:"text-right"},[e("b-icon",{staticClass:"float-left text-warning",attrs:{icon:"exclamation-triangle-fill"}}),a._v(a._s(a.validaLoader.qtdAlertas))],1)])],1)],1),e("b-col",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 p-2"},[e("b-card",{attrs:{"header-tag":"header","footer-tag":"footer","body-text-variant":"grey","footer-bg-variant":"info","footer-text-variant":"white"},scopedSlots:a._u([{key:"footer",fn:function(){return[e("h6",{staticClass:"mb-0 text-right"},[a._v(" Máquinas")])]},proxy:!0}])},[e("b-card-text",[e("h1",{staticClass:"text-right"},[e("b-icon",{staticClass:"float-left text-info",attrs:{icon:"display"}}),a._v(" "+a._s(a.maquinas.ativas)),e("small",{staticStyle:{"font-size":".3em",opacity:".5"}},[a._v("/"+a._s(a.maquinas.total))])],1)])],1)],1),e("b-col",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-3 p-2"},[e("b-card",{attrs:{"header-tag":"header","footer-tag":"footer","body-text-variant":"grey","footer-bg-variant":"danger","footer-text-variant":"white"},scopedSlots:a._u([{key:"footer",fn:function(){return[e("h6",{staticClass:"mb-0 text-right"},[a._v(" Máquinas com Alerta")])]},proxy:!0}])},[e("b-card-text",[e("h1",{staticClass:"text-right"},[e("b-icon",{staticClass:"float-left text-danger",attrs:{icon:"people-fill"}}),a._v(" "+a._s(a.alertaMaqUnico2.length))],1)])],1)],1)],1),e("b-row",{staticClass:"pb-3"},[e("b-col",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 p-6"},[a.alertaAppGraph.labels.length>0?e("div",{staticStyle:{position:"relative"}},[e("h4",[a._v("Os 10 aplicativos com mais alertas")]),e("grafico-horiz-barra",{staticClass:"grf-app",attrs:{chartdata:a.alertaAppGraph}})],1):e("div",{staticClass:"carregando"},[e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"5"}})],1)]),e("b-col",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 p-6"},[a.alertaTipoGraph.labels.length>0?e("div",{staticStyle:{position:"relative"}},[e("h4",[a._v("Tipos de alerta")]),e("grafico-pie",{staticClass:"grf-tipo",attrs:{chartdata:a.alertaTipoGraph}})],1):e("div",{staticClass:"carregando"},[e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"5"}})],1)]),e("b-col",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 p-6"},[a.alertaStatusGraph.labels.length>0?e("div",{staticStyle:{position:"relative"}},[e("h4",[a._v("Status de tratamento de alertas")]),e("grafico-doughnut",{staticClass:"grf-tipo",attrs:{chartdata:a.alertaStatusGraph}})],1):e("div",{staticClass:"carregando"},[e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"5"}})],1)]),e("b-col",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 p-6"},[a.alertaMaqGraph.labels.length>0?e("div",{staticStyle:{position:"relative"}},[e("h4",[a._v("As 10 máquinas com mais alertas")]),e("grafico-horiz-barra",{staticClass:"grf-maq",attrs:{chartdata:a.alertaMaqGraph}})],1):e("div",{staticClass:"carregando"},[e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"5"}})],1)]),e("b-col",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-12 p-6"},[a.alertaDataGraph.labels.length>0?e("div",{staticStyle:{position:"relative"}},[e("h4",[a._v("Alertas do mês de "+a._s(a.mesAtual))]),e("grafico-barra",{staticClass:"grf-mes",attrs:{chartdata:a.alertaDataGraph}})],1):e("div",{staticClass:"carregando"},[e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"5"}})],1)])],1)],1)],1)],1)])]),e("loader",{attrs:{status:a.loaderCheck}})],1)},ca=[],da=e("1fca"),ua={extends:da["a"],props:["chartdata"],data:()=>({options:{responsive:!0,maintainAspectRatio:!1}}),mounted(){this.renderChart(this.chartdata,this.options)}},pa={extends:da["d"],props:["chartdata"],data:()=>({options:{responsive:!0,maintainAspectRatio:!1}}),mounted(){this.renderChart(this.chartdata,this.options)}},ma={extends:da["e"],props:["chartdata"],data:()=>({options:{responsive:!0,maintainAspectRatio:!1}}),mounted(){this.renderChart(this.chartdata,this.options)}},ha={extends:da["f"],props:["chartdata"],data:()=>({options:{responsive:!0,maintainAspectRatio:!1}}),mounted(){this.renderChart(this.chartdata,this.options)}},va={extends:da["b"],props:["chartdata"],data:()=>({options:{responsive:!0,maintainAspectRatio:!1}}),mounted(){this.renderChart(this.chartdata,this.options)}},ba={extends:da["c"],props:["chartdata"],data:()=>({options:{responsive:!0,maintainAspectRatio:!1}}),mounted(){this.renderChart(this.chartdata,this.options)}},ga=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{attrs:{id:"modalRelatorio",title:"Download Relatório","hide-footer":""}},[e("b-form",{staticClass:"form-inline",on:{submit:function(t){return t.preventDefault(),a.baixarRelatorio.apply(null,arguments)}}},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"data-inic-input"}},[a._v("Data Inicial")]),e("b-form-datepicker",{attrs:{id:"data-inic-input",required:""},model:{value:a.dataInic,callback:function(t){a.dataInic=t},expression:"dataInic"}})],1),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"data-fim-input"}},[a._v("Data Final")]),e("b-form-datepicker",{attrs:{id:"data-fim-input",required:""},model:{value:a.dataFim,callback:function(t){a.dataFim=t},expression:"dataFim"}})],1)]),e("div",{staticClass:"form-group col-md-12"},[e("label",{style:{"margin-top":"3vh"},attrs:{for:"selecao"}},[a._v("Selecione um grupo:")]),e("b-form-select",{style:{width:"100%"},attrs:{options:a.grupos},model:{value:a.grupoSelecionado,callback:function(t){a.grupoSelecionado=t},expression:"grupoSelecionado"}})],1),e("div",{staticClass:"form-group col-md-12"},[e("label",{staticClass:"font-weight-bold",style:{"margin-top":"3vh","margin-bottom":"1vh","font-size":"1.3em",width:"100%"},attrs:{for:"lista-nomes"}},[a._v("Campos do Relatório")]),e("b-row",{style:{"margin-bottom":"3vh"}},a._l(a.nomes,(function(t,s){return e("b-col",{key:s,attrs:{md:"6"}},[e("b-form-checkbox",{attrs:{value:t},model:{value:a.nomesSelecionados,callback:function(t){a.nomesSelecionados=t},expression:"nomesSelecionados"}},[e("span",{style:{"text-align":"left",width:"100%"}},[a._v(a._s(t))])])],1)})),1)],1),e("b-button",{attrs:{type:"submit",variant:"primary"}},[a._v("Download")])],1)],1)},fa=[],Aa={props:{grupos:{type:Array,required:!0}},data(){const a=a=>{const t=a.getFullYear(),e=String(a.getMonth()+1).padStart(2,"0"),s=String(a.getDate()).padStart(2,"0");return`${t}-${e}-${s}`},t=a=>{const t=new Date;t.setMonth(t.getMonth()-1);const e=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0");return`${e}-${s}-${o}`};return{urlApi:ambientes.ativo[0].url+":"+ambientes.ativo[0].porta_api,token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,ambiente:this.$store.state.variaveisAmbiente.ambiente,dataInic:t(new Date),dataFim:a(new Date),nomes:["Alarmes","Atividades"],nomesSelecionados:[],grupoSelecionado:"",grupos_dlp:[],enderecoDigitado:""}},methods:{async baixarRelatorio(){await Promise.all(this.nomesSelecionados.map(async a=>{if("Alarmes"===a){let a={tabela:"alarmes",select:`grupo_dlp like '${this.grupoSelecionado}%' and momento_criacao between '${this.dataInic} 00:00:00' and '${this.dataFim} 23:59:59' ^ order by data_evento desc`,pagina:"1",qt:"10000000",campos_select_end_point:"id_alarme^tipo_alarme^status_alarme^data_evento^user_name",get_qt:"0"},e=this.locationUrl+"/sql/selectSql/"+this.token+"/resp_rest";try{const s=await this.$http.post(e,a);console.log("Gerando relatório");let o=this.urlApi+"/api/relatoriosalarmes/criar/"+this.grupoSelecionado+"/"+this.token;try{const a=await this.$http.post(o,s.body),t=this.locationUrl+"/relatorioDlp/"+a.bodyText;window.open(t,"_blank")}catch(t){console.error("Erro na requisição do Relatorio"),console.log(t)}}catch(t){console.error("Erro na requisição do Relatorio"),console.log(t)}}else if("Atividades"===a){let a={tabela:"atividades",select:`grupo_dlp like '${this.grupoSelecionado}%' and dth_inicio between '${this.dataInic} 00:00:00' and '${this.dataFim} 23:59:59' ^ order by dth_inicio desc`,pagina:"1",qt:"10000000",campos_select_end_point:"maquina^executavel^dth_ult_atividade^user_name",get_qt:"0"},e=this.locationUrl+"/sql/selectSql/"+this.token+"/resp_rest";try{const s=await this.$http.post(e,a);console.log("Gerando relatório");let o=this.urlApi+"/api/relatoriosatividades/criar/"+this.grupoSelecionado+"/"+this.token;try{const a=await this.$http.post(o,s.body),t=this.locationUrl+"/relatorioDlp/"+a.bodyText;window.open(t,"_blank")}catch(t){console.error("Erro na requisição do Relatorio"),console.log(t)}}catch(t){console.error("Erro na requisição do Relatorio"),console.log(t)}}else console.error("Selecione pelo menos uma tabela")}))}}},Ca=Aa,_a=Object(L["a"])(Ca,ga,fa,!1,null,null,null),xa=_a.exports;ambientes.ativo[0].url,ambientes.ativo[0].porta_api;let ka=new Headers;e("3e8f"),e("1146");ka.append("Content-Type","application/json"),ka.append("Cache-Control","no-cache"),ka.append("Expires","-1"),ka.append("Pragma","no-cache"),ka.append("Content-Type","application/json"),ka.append("Accept","application/json"),ka.append("Access-Control-Allow-Origin","*"),ka.append("Access-Control-Allow-Credentials","true"),ka.append("GET","POST","OPTIONS");var Sa={components:{"meu-painel":B["a"],"menu-lateral":H["a"],"grafico-barra":ua,"grafico-horiz-barra":pa,"grafico-line":ma,"grafico-pie":ha,"grafico-bubble":va,"grafico-doughnut":ba,loader:U["a"],ModalRelatorio:xa},data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,ambiente:this.$store.state.variaveisAmbiente.ambiente,loaderCheck:!0,validaLoader:{maquinas:!1,alertas:!1,usuarios:!1},modalUsuario:{adiciona:!1,edita:!1,remove:!1,senha:!1},dadosUsuario:"",dataInicial:`${new Date((new Date).getTime()-31536e6).getFullYear()}-${String(new Date((new Date).getTime()-31536e6).getMonth()+1).padStart(2,"0")}-${String(new Date((new Date).getTime()-31536e6).getDate()).padStart(2,"0")}`,dataFinal:`${(new Date).getFullYear()}-${String((new Date).getMonth()+1).padStart(2,"0")}-${String((new Date).getDate()).padStart(2,"0")}`,alertas:[],qtdAlertas:0,alertaAppUnico:[],alertaMaqUnico:[],alertaTipoUnico:[],alertaDataUnico:[],alertaStatusUnico:[],alertaAppGraph:{datasets:[],labels:[]},alertaMaqGraph:{datasets:[],labels:[]},alertaTipoGraph:{datasets:[],labels:[]},alertaDataGraph:{datasets:[],labels:[]},alertaStatusGraph:{datasets:[],labels:[]},mesAtual:"",usuarios:0,maquinas:{ativas:0,total:0},grupoSelecionado:this.getGrupoDLP(),grupos_dlp:[],nomeRelatorio:"",dadosDoRelatorio:[]}},methods:{abreModal(){this.$bvModal.show("modalRelatorio")},unicoAppValor(a,t){a=a;return[...new Set(a.map(a=>a.executavel.toUpperCase()))]},unicoMaqValor(a,t){a=a;return[...new Set(a.map(a=>a.computer_name.toUpperCase()))]},unicoTipoValor(a,t){a=a;return[...new Set(a.map(a=>a.tipo_alarme.toUpperCase()))]},unicoDataValor(a,t){a=a;return[...new Set(a.map(a=>a.data))]},unicoStatusValor(a,t){a=a;return[...new Set(a.map(a=>a.status_alarme.toUpperCase()))]},getGrupoDLP(){var a=localStorage.getItem("user");a=JSON.parse(a),a=a.keyAcesssSecret;var t=this.$CryptoJS.enc.Base64.parse(a);t=t.toString(this.$CryptoJS.enc.Utf8);t=t.split("^").reverse();let e=t[0];return e=e.replace("*",""),e},async trazGrupoDlpUsuario(){let a=this.locationUrl+"/diversos/getGrupos/"+this.token+"/resp_rest";await this.$http.get(a,ka).then(a=>{let t=a.data.split(","),e=[...new Set(t)];this.grupos_dlp=e}).catch((function(a){console.log(a)}))},async getDadosDashboard(){this.validaLoader.alertas=!1,this.loaderCheck=!0,this.alertaAppGraph.labels=0,this.alertaTipoGraph.labels=0,this.alertaStatusGraph.labels=0,this.alertaMaqGraph.labels=0,this.alertaDataGraph.labels=0,this.validaLoader.qtdAlertas=0;let a={grupo_dlp:this.grupoSelecionado,data_inicial:this.dataInicial+" 00:00:00",data_final:this.dataFinal+" 23:59:59"},t=this.locationUrl+"/dashBoard/getDashBoard/"+this.token+"/resp_rest";await this.$http.post(t,a).then(a=>{let t=a.data;t.lista_maquinas=t.lista_maquinas.split(",");let e=t.lista_executaveis,s=e.split(",");t.lista_executaveis=s.reduce((a,t)=>{const[e,s]=t.split("^");return a[e]=parseInt(s,10),a},{});let o=t.tipos_alarmes,i=o.split(",");t.tipos_alarmes=i.reduce((a,t)=>{const[e,s]=t.split("^");return a[e]=parseInt(s,10),a},{});let r=t.status_alarmes,l=r.split(",");t.status_alarmes=l.reduce((a,t)=>{const[e,s]=t.split("^");return a[e]=parseInt(s,10),a},{});let n=t.alarmes_maquina,c=n.split(",");t.alarmes_maquina=c.reduce((a,t)=>{const[e,s]=t.split("^");return a[e]=parseInt(s,10),a},{});let d=t.alarmes_dia,u=d.split(",");t.alarmes_dia=u.reduce((a,t)=>{const[e,s]=t.split("^");return a[e]=parseInt(s,10),a},{}),console.log(t),this.validaLoader.qtdAlertas=t.total_alarmes,this.maquinas.ativas=t.maquinas_ativas,this.maquinas.total=t.maquinas_total,this.alertaMaqUnico=t.alarmes_maquina,this.alertaMaqUnico2=t.lista_maquinas,this.alertaAppUnico=t.lista_executaveis,this.alertaTipoUnico=t.tipos_alarmes,this.alertaStatusUnico=t.status_alarmes,this.alertaDataUnico=t.alarmes_dia,this.loaderCheck=!1}).catch(a=>{console.log("Ocorreu um erro ao consumir o endpoint "+t)})},graphApp(){let a=[],t=[],e=0,s=[],o=0,i=9;const r=this.alertaAppUnico;for(const[l,n]of Object.entries(r))e<i?(a.push(l),t.push(n),s.push(this.geraCor(e+1))):o+=n,e++;a.push("OUTROS"),t.push(o),s.push("#555555"),this.alertaAppGraph={labels:a,datasets:[{label:"Quant. Alertas: ",backgroundColor:s,data:t}]}},graphMaq(){let a=[],t=[],e=0,s=[],o=0,i=9;const r=this.alertaMaqUnico;for(const[l,n]of Object.entries(r))e<i?(a.push(l),t.push(n),s.push(this.geraCor(e+1))):o+=n,e++;a.push("OUTRAS"),t.push(o),s.push("#555555"),this.alertaMaqGraph={labels:a,datasets:[{label:"Quant. Alertas: ",backgroundColor:s,data:t}]}},graphTipo(){let a=[],t=[];const e=this.alertaTipoUnico;for(const[s,o]of Object.entries(e))a.push(s),t.push(o);this.alertaTipoGraph={labels:a,datasets:[{label:"Tipo: ",backgroundColor:["#007bff","#fd7e14","#dc3545","#ffc107"],data:t}]}},graphStatus(){let a=[],t=[],e=0,s=[];const o=this.alertaStatusUnico;for(const[i,r]of Object.entries(o))a.push(i),t.push(r),s.push(this.geraCor(e+1)),e++;this.alertaStatusGraph={labels:a,datasets:[{label:"Quant. Status: ",backgroundColor:s,data:t}]}},graphData(a){let t=[],e=[],s=0,o=[];const i=this.alertaDataUnico;for(const[r,l]of Object.entries(i))t.push(r),e.push(l),o.push(this.geraCor(s+1)),s++;this.alertaDataGraph={labels:t,datasets:[{label:"Quant. Alertas: ",backgroundColor:o,data:e}]}},async getGerarDownload(){let a={grupo_dlp:this.grupoSelecionado,data_inic:this.dataInicial,data_fim:this.dataFinal},t=this.locationUrl+"/sql/selectCsv/"+this.token+"/resp_rest";await this.$http.post(t,a).then(a=>{const t=a.data.arquivo,e=t.indexOf("publico"),s=t.substring(e+"publico".length),o=this.locationUrl+s;window.open(o,"_blank")}).catch(a=>{console.error("Erro na requisição do Relatorio"),console.log(a)})},async getUsuarios(){this.validaLoader.usuarios=!1;let a=this.locationUrl+"/dpo/login/todos/"+this.token+"/resp_rest";await this.$http.get(a).then(a=>{this.validaLoader.usuarios=!0,this.carregaLoader();var t=a.data;this.usuarios=t?t.length:0}).catch(a=>{this.validaLoader.usuarios=!0,this.carregaLoader(),console.log(a)})},formatData(a){let t=a.split("-").reverse();return`${t[0]}/${t[1]}/${t[2]}`},getMes(a){switch(a){case 1:return"Janeiro";case 2:return"Fevereiro";case 3:return"Março";case 4:return"Abril";case 5:return"Maio";case 6:return"Junho";case 7:return"Julho";case 8:return"Agosto";case 9:return"Setembro";case 10:return"Outubro";case 11:return"Novembro";case 12:return"Dezembro";default:return""}},geraCor(a){switch(a){case 1:return"#dc3545";case 2:return"#007bff";case 3:return"#fd7e14";case 4:return"#20c997";case 5:return"#ffc107";case 6:return"#6f42c1";case 7:return"#e83e8c";case 8:return"#28a745";case 9:return"#6610f2";case 10:return"#17a2b8";case 11:return"#ff5c5c";case 12:return"#3399ff";case 13:return"#ffcc00";case 14:return"#9933cc";case 15:return"#ff9933";case 16:return"#99cc00";case 17:return"#ff66b2";case 18:return"#3366cc";case 19:return"#ff6666";case 20:return"#339966";case 21:return"#ffcc99";case 22:return"#ccffcc";case 23:return"#ff9900";case 24:return"#cc99ff";case 25:return"#00cc99";case 26:return"#ff6600";case 27:return"#ccff99";case 28:return"#9966cc";case 29:return"#ffcc66";case 30:return"#66cc99";default:return"#6c757d"}},geraCor2(a){switch(a){case 1:return"#f44336";case 2:return"#e91e63";case 3:return"#9c27b0";case 4:return"#673ab7";case 5:return"#3f51b5";case 6:return"#2196f3";case 7:return"#03a9f4";case 8:return"#00bcd4";case 9:return"#009688";case 10:return"#4caf50";case 11:return"#8bc34a";case 12:return"#cddc39";case 13:return"#ffeb3b";case 14:return"#ffc107";case 15:return"#ff9800";case 16:return"#ff5722";case 17:return"#795548";case 18:return"#607d8b";case 19:return"#ff4081";case 20:return"#ffcc00";case 21:return"#7e57c2";case 22:return"#4caf50";case 23:return"#8d6e63";case 24:return"#ff5722";case 25:return"#536dfe";case 26:return"#64ffda";case 27:return"#00bfa5";case 28:return"#ffab00";case 29:return"#651fff";case 30:return"#00e5ff";default:return"#9e9e9e"}},showModal(){this.$refs["my-modal"].show()},hideModal(){this.$refs["my-modal"].hide()},toggleModal(){this.$refs["my-modal"].toggle("#toggle-btn")},resetInfoModal(){this.infoModal.title="",this.infoModal.content=""},carregaModulos(){this.getDadosDashboard()},carregaLoader(){let a=this.validaLoader;this.loaderCheck=!a.maquinas||!a.alertas}},watch:{alertaAppUnico(a){a&&this.graphApp()},alertaTipoUnico(a){a&&this.graphTipo()},alertaMaqUnico(a){a&&this.graphMaq()},alertaDataUnico(a){a&&this.graphData()},alertaStatusUnico(a){a&&this.graphStatus()},validaLoader(a){alert("Aqui"),console.log(a),this.loaderCheck=!a.maquinas||!a.alertas}},mounted(){this.carregaModulos(),this.trazGrupoDlpUsuario(),(new Date).getMinutes()-parseInt(localStorage.getItem("dataLogin"))>=localStorage.getItem("limiteSessao")&&(localStorage.removeItem("infoUser"),localStorage.removeItem("user"),localStorage.removeItem("dataLogin"),location.reload(!0))}},ya=Sa,Ma=(e("7bb8"),Object(L["a"])(ya,na,ca,!1,null,"2f50ae32",null)),Da=Ma.exports,wa=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"Monitoramento"}}),e("div",{staticClass:"container-full m-3"},[e("div",{staticClass:"row",attrs:{id:"box-tabela"}},[e("b-row",{staticClass:"mb-3",attrs:{id:"row-box-input"}},[e("b-col",{staticClass:"my-2",attrs:{xs:"12",sm:"6",md:"7"}},[a.selMaquina&&a.selMaquinaData?e("small",[a._v("Dados coletados da máquina: "),e("strong",{staticStyle:{"text-transform":"uppercase"}},[a._v(a._s(a.selMaquina))]),a._v(" na data de "),e("strong",[a._v(a._s(a.dataHeader(a.selMaquinaData)))])]):a._e()]),e("b-col",{staticClass:"text-right",attrs:{xs:"12",sm:"6",md:"5"}},[e("b-button-group",{staticStyle:{"white-space":"nowrap"}},[e("b-button",{attrs:{variant:"outline-primary",title:"Voltar Página Anterior"},on:{click:function(t){return a.voltaPagina()}}},[e("b-icon",{attrs:{icon:"chevron-left"}})],1),e("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a.novaPesquisa()}}},[e("b-icon",{attrs:{icon:"search"}}),a._v(" Nova Pesquisa")],1)],1)],1)],1),e("b-row",[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("b-card",{attrs:{"no-block":""}},[e("div",[e("b-button-group",{staticClass:"abas-h"},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.xlsDados,name:"Monitoramento_"+a.selMaquina+"_"+a.selMaquinaData.replaceAll("/","-")+".xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.listaAcoesMaquina()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.total?"primary":"outline-primary"},on:{click:function(t){return a.listaAcoesTodas()}}},[a._v("Total: "+a._s(a.estatisticas.total))]),e("b-button",{attrs:{variant:a.btnSel.ocorrencias?"primary":"outline-primary"},on:{click:function(t){return a.listaAcoesOcorrencias()}}},[a._v("Evidências: "+a._s(a.totalOcorrencias))])],1),e("b-button-group",{staticClass:"abas-v",attrs:{vertical:""}},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.xlsDados,name:"Monitoramento_"+a.selMaquina+"_"+a.selMaquinaData.replaceAll("/","-")+".xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.listaAcoesMaquina()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.total?"primary":"outline-primary"},on:{click:function(t){return a.listaAcoesTodas()}}},[a._v("Total: "+a._s(a.estatisticas.total))]),e("b-button",{attrs:{variant:a.btnSel.ocorrencias?"primary":"outline-primary"},on:{click:function(t){return a.listaAcoesOcorrencias()}}},[a._v("Evidências")])],1)],1),e("hr",{staticClass:"my-0"}),e("b-row",{staticClass:"pt-3 bg-ice"},[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("h3",[a._v(a._s(a.tabTitulo))])]),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"4"}},[e("b-form-group",{attrs:{description:"Pesquise no resultado"}},[e("b-form-input",{attrs:{type:"search",placeholder:"Busca",size:"sm"},model:{value:a.filter,callback:function(t){a.filter=t},expression:"filter"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12 ",md:"2"}},[e("b-form-group",{attrs:{description:"por página"}},[e("b-form-select",{attrs:{options:a.pageOptions,size:"sm"},model:{value:a.perPage,callback:function(t){a.perPage=t},expression:"perPage"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"6"}},[e("b-form-group",[e("small",[a._v(a._s("Total de Registros: "+a.totalRows))]),e("br"),e("b-pagination",{attrs:{"total-rows":a.totalRows,"per-page":a.perPage,size:"sm"},model:{value:a.currentPage,callback:function(t){a.currentPage=t},expression:"currentPage"}})],1)],1)],1),e("b-row",{attrs:{id:"box-tabela"}},[e("b-col",[e("div",{staticClass:"e-tab"},[a.listaAcoes?e("b-table",{ref:"tabMonit",staticClass:"tab-monit mb-0",attrs:{id:"tabMonit","show-empty":"",small:"",striped:"",stacked:"md",items:a.tabListaAcoes,fields:a.titTabela,"current-page":a.currentPage,"per-page":a.perPage,filter:a.filter,"empty-text":"Não há registro para sua pesquisa."},on:{filtered:a.onFiltered,"row-clicked":a.duploClickLinha},scopedSlots:a._u([{key:"cell(tipoJanela)",fn:function(t){return[3===t.item.tipoJanela?e("span",{staticClass:"tab-janela tipo3 py-1 px-2"},[a._v(" Desconhecida")]):2===t.item.tipoJanela?e("span",{staticClass:"tab-janela tipo2 py-1 px-2"},[a._v(" Proibida")]):1===t.item.tipoJanela?e("span",{staticClass:"tab-janela tipo1 py-1 px-2"},[a._v(" Permitida")]):e("span",{staticClass:"tab-janela p-2"},[a._v(" Indefinida")])]}},{key:"cell(tituloJanela)",fn:function(t){return[e("div",{staticClass:"titulo"},[a._v(a._s(t.item.tituloJanela))])]}},{key:"cell(dataHoraPrimeiroEvento)",fn:function(t){return[a._v(" "+a._s(a.formatDateMilisec(t.item.dataHoraPrimeiroEvento))+" ")]}},{key:"cell(exibicao)",fn:function(t){return[a._v(" "+a._s(t.item.exibicao.toFixed(0))+"s ")]}},{key:"cell(actions)",fn:function(t){return[e("b-button-group",[e("b-button",{staticStyle:{height:"31px",top:"5px"},attrs:{size:"sm",variant:"outline-primary"},on:{click:t.toggleDetails}},[e("b-icon",{attrs:{icon:"info-circle"}})],1),e("b-dropdown",{attrs:{size:"sm",id:"dropdown-right-"+t.item.handlerJanela,right:"",variant:"primary","no-caret":"",title:"Mais ações"},scopedSlots:a._u([{key:"button-content",fn:function(){return[e("b-icon",{attrs:{icon:"three-dots"}})]},proxy:!0}],null,!0)},[t.item?e("sub-menu",{attrs:{modulo:"monitoramento",dados:t.item,subMenu:a.listaSubMenu,indice:t.item.idx},on:{carregaDados:function(t){return a.listaAcoesMaquina()}}}):a._e()],1)],1)]}},{key:"row-details",fn:function(t){return[e("b-card",{staticClass:"linha-detalhe m-2"},[a.evidencias.length>0?e("b-carousel",{attrs:{id:"slideEvidencia",controls:"","no-animation":"",indicators:"",interval:36e5,background:"transparent"},model:{value:a.slide,callback:function(t){a.slide=t},expression:"slide"}},a._l(a.evidencias,(function(t,s){return e("b-carousel-slide",{key:s,scopedSlots:a._u([{key:"img",fn:function(){return[e("div",[t.src?e("img",{staticClass:"slideImg",attrs:{src:a.locationImg+t.src}}):a._e(),t.src?e("b-button",{staticClass:"btn-carousel",attrs:{size:"sm",variant:"primary",title:"Ampliar Imagem"},on:{click:function(e){return a.modalImgFull(""+(a.locationImg+t.src))}}},[e("b-icon",{attrs:{icon:"arrows-angle-expand"}}),a._v(" Amplia Imagem ")],1):a._e()],1),t.texto?e("p",{staticClass:"slideTexto"},[e("span",{domProps:{innerHTML:a._s(t.texto)}})]):a._e()]},proxy:!0}],null,!0)})})),1):a._e(),e("b-table",{staticClass:"tabela-interna",attrs:{striped:"",items:t.item.arrayEventosJanela,fields:a.titTabelaOcorrencias},scopedSlots:a._u([{key:"cell(dataHoraEvento)",fn:function(t){return[a._v(" "+a._s(a.formatDateMilisec(t.item.dataHoraEvento))+" ")]}},{key:"cell(ocorrencia)",fn:function(t){return[e("div",[a._v(a._s(a.formatOcorrencia(t.item.ocorrencia)))])]}}],null,!0)})],1)]}}],null,!1,50909933)}):a._e()],1)])],1)],1)],1)],1)],1)])],1)])]),e("b-modal",{ref:"selMaquina",attrs:{"ok-only":"",id:"selMaquina"},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Selecione: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{size:"",variant:"success"},on:{click:function(t){a.listaAcoesMaquina(),a.fechaModal("selMaquina")}}},[a._v(" Visualizar ")]),e("b-button",{attrs:{size:"",variant:"danger"},on:{click:function(t){return a.fechaModal("selMaquina")}}},[a._v(" Cancelar ")])]},proxy:!0}]),model:{value:a.modSelMaquina,callback:function(t){a.modSelMaquina=t},expression:"modSelMaquina"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("b-form-group",{staticClass:"d-none",attrs:{id:"input-group-3",label:"Nome máquina:","label-for":"input-3"}},[e("b-form-input",{attrs:{type:"search",placeholder:"Maquina",size:"md"},on:{change:function(t){return a.filtrarPorComputerName()}},model:{value:a.computer_maquina_alertas,callback:function(t){a.computer_maquina_alertas=t},expression:"computer_maquina_alertas"}})],1),e("b-form-group",{attrs:{id:"input-group-3",label:"Escolha a Máquina:","label-for":"input-3"}},[e("b-form-select",{attrs:{options:a.setListaMaquinas,disabled:!a.setListaMaquinas},model:{value:a.selMaquina,callback:function(t){a.selMaquina=t},expression:"selMaquina"}})],1),e("b-form-group",{attrs:{id:"input-group-3",label:"Datas disponíveis:","label-for":"input-3"}},[e("b-form-select",{attrs:{options:a.setListaDatas,disabled:!a.setListaDatas},model:{value:a.selMaquinaData,callback:function(t){a.selMaquinaData=t},expression:"selMaquinaData"}})],1)],1)])]),e("b-modal",{ref:"modImgFull",attrs:{id:"modImgFull",title:"Imagem Ampliada","ok-only":"",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","hide-header":"","hide-footer":"",size:"full"}},[e("b-button",{staticClass:"btn-carousel",attrs:{size:"sm",variant:"primary",title:"Ampliar Imagem"},on:{click:function(t){return a.fechaModal("modImgFull")}}},[e("b-icon",{attrs:{icon:"arrows-angle-contract"}}),a._v(" Restaura Imagem ")],1),e("div",{},[e("img",{staticClass:"slideImgModal",attrs:{src:a.imgFull}})])],1),e("loader",{attrs:{status:a.loaderCheck}}),e("loader",{attrs:{status:a.loaderCheckUsuario}})],1)},Pa=[];e("caf9"),e("d7e8");var qa=new Headers;qa.append("Content-Type","application/json"),qa.append("Cache-Control","no-cache"),qa.append("Expires","-1"),qa.append("Pragma","no-cache");var Ua={components:{"meu-painel":B["a"],"menu-lateral":H["a"],"sub-menu":Z["a"],loader:U["a"]},data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!0,loaderCheckUsuario:!0,listaSubMenu:["sms","email","desliga","reinicia","reiniciaDlp","paraApp","exeCmd"],selMaquina:"",selMaquinaData:"",setListaMaquinas:[],setListaDatas:[],listaAcoes:[],tabListaAcoes:[],tabListaOcorrencias:[],tabTitulo:"Total",evidencias:[],computer_maquina_alertas:"",imgFull:"",chkIndex:null,modSelMaquina:!1,liberaSMS:!1,titTabela:[{key:"actions",label:"Ações"},{key:"dataHoraPrimeiroEvento",label:"Horário",sortable:!0},{key:"tituloJanela",label:"Título",sortable:!0},{key:"userName",label:"Usuário",sortable:!1},{key:"executavel",label:"Executável",sortable:!0},{key:"pid",label:"PID",sortable:!1},{key:"handlerJanela",label:"Janela",sortable:!1},{key:"exibicao",label:"Tempo em Exibição",sortable:!0}],titTabelaOcorrencias:[{key:"dataHoraEvento",label:"Horário",sortable:!1},{key:"tituloJanela",label:"titulo",sortable:!1},{key:"tipoEvento",label:"Tipo",sortable:!1},{key:"ocorrencia",label:"Ocorrência",sortable:!1}],estatisticas:{total:0,permitidas:0,proibidas:0,desconhecidas:0,ocorrencias:0},btnSel:{total:!1,permitidas:!1,proibidas:!1,desconhecidas:!1,ocorrencias:!1},totalRows:1,totalOcorrencias:0,currentPage:1,perPage:20,pageOptions:[10,20,50],filter:null,infoModal:{id:"info-modal",title:"",content:""},slide:0,sliding:null,show:!0,text:"",xlsTitulo:{"Tipo de Janela":"tipoStatusJanela","Data de Criação":"dtCriacao","Máquina":"maquina","Usuário da Máquina":"userName","Grupo DLP":"grupo_dlp","Data do Primeiro Evento":"dtEvento","Código da Janela":"handlerJanela","Título da Janela":"tituloJanela","Executável":"executavel",PID:"pid","Caminho das Imagens":"caminhoScreenshots","Caminho das Janelas do DLP":"caminhoDlpJanelas","Eventos da Janela":"eventos","Tempo de Duração (Seg)":"tempoExibicao"},xlsDados:[]}},computed:{sortOptions(){return this.fields.filter(a=>a.sortable).map(a=>({text:a.label,value:a.key}))}},watch:{tabListaAcoes(a){this.geraXls(a)},selMaquina(a){this.selMaquina=a.toUpperCase(),a?this.listaDatas(a):this.selMaquinaData=""},selMaquinaData(a){var t=this.selMaquina+"|"+a;this.setCrpStorage(t)},totalRows(a){this.totalRows=a},totalOcorrencias(a){this.totalOcorrencias=a},listaAcoes(a){this.geraEstatisticas()}},methods:{geraXls(a){var t=a;t&&(t.forEach(a=>{1===a.tipoJanela?a.tipoStatusJanela="Permitida":2===a.tipoJanela?a.tipoStatusJanela="Proibida":3===a.tipoJanela&&(a.tipoStatusJanela="Desconhecida"),a.dtCriacao=this.formatDateMilisec(a.dataHoraCriacao),a.maquina=this.selMaquina,a.dtEvento=this.formatDateMilisec(a.dataHoraPrimeiroEvento);var t=a.exibicao;t=t.toFixed(),a.tempoExibicao=t;var e=a.arrayEventosJanela;e.dataHoraEvento=this.formatDateMilisec(e.dataHoraEvento),e=JSON.stringify(e),e=e.indexOf("[")>-1?e.replaceAll("[",""):"",e=e.indexOf("]")>-1?e.replaceAll("]",""):"",e=e.indexOf("},{")>-1?e.replaceAll("},{","; \n"):"",e=e.indexOf("{")>-1?e.replaceAll("{",""):"",e=e.indexOf("}")>-1?e.replaceAll("}",""):"",e=e.indexOf('":')>-1?e.replaceAll('":',": "):"",e=e.indexOf('","')>-1?e.replaceAll('","',", "):"",e=e.indexOf('"')>-1?e.replaceAll('"',""):"",e=e.indexOf("\\\\")>-1?e.replaceAll("\\\\","\\"):"",e=e.indexOf("handlerJanela")>-1?e.replaceAll("handlerJanela","Código da Janela"):"",e=e.indexOf("tituloJanela")>-1?e.replaceAll("tituloJanela","Título da Janela"):"",e=e.indexOf("tipoEvento")>-1?e.replaceAll("tipoEvento","Tipo Evento"):"",e=e.indexOf("dataHoraEvento")>-1?e.replaceAll("dataHoraEvento","Hora do Evento"):"",a.eventos=e}),this.xlsDados=t)},voltaPagina(){this.$router.go(-1)},verificaMaquina(){var a=this.getCrpStorage(),t=window.location.hash;t=t.replace("#/monitoramento/","");var e="",s=new Date;if(t){t=t.split("/").reverse(),e=`${t[1]}-${t[0]}`;var o=s.getDate();o<10&&(o="0"+o);var i=s.getMonth()+1;i<10&&(i="0"+i);var r=s.getYear()-100;s=r.toString()+i.toString()+o.toString(),this.selMaquina=e,this.selMaquinaData=s;var l=this.selMaquina+"|"+this.selMaquinaData;this.listaAcoesMaquina(l)}else if(a){var n=a.split("|");this.selMaquina=n[0],this.selMaquinaData=n[1],this.listaAcoesMaquina(a)}else this.listaMaquinas(),this.modSelMaquina=!0},filtrarPorComputerName(){let a=[];a=this.setListaMaquinas,this.setListaMaquinas=[],a.map(a=>{a.includes(this.computer_maquina_alertas)&&(console.log("ITEM IDENTIFICADO: "+this.computer_maquina_alertas),this.setListaMaquinas.push(a))}),this.setListaMaquinas.length<2&&(console.log("NAO FORAM ENCONTRADAS MAQUINAS COM O FILTRO DESEJADO, LISTA RECARREGADA"),this.listaMaquinas()),0==this.computer_maquina_alertas.length&&(console.log("FILTRO ZERADO, LISTA RECARREGADA"),this.listaMaquinas()),console.log("LISTA DE MAQUINAS FILTRADAS"),console.log(this.setListaMaquinas)},novaPesquisa(){this.listaMaquinas(),this.modSelMaquina=!0},dataHeader(a){return a.slice(4,6)+"/"+a.slice(2,4)+"/20"+a.slice(0,2)},horaFormat(a){var t=new Date(a).toString();return t=t.split(" GMT"),t=t[0].split(" ").reverse(),t=t[0],t},formatDateMilisec(a){let t=a,e=108e5;t-=e,t=new Date(t);var s=t.getDate(),o=t.getMonth()+1,i=t.getFullYear(),r=t.getUTCHours(),l=t.getMinutes(),n=t.getSeconds(),c=`${s<10?"0"+s:s}/${o<10?"0"+o:o}/${i} - ${r<10?"0"+r:r}:${l<10?"0"+l:l}:${n<10?"0"+n:n}`;return c},htmlFormat(a){let t=a;t=t.replace(/=(\r\n|\n|\r)/gm,"<br>")},formatOcorrencia(a){let t=a;return t?(t=JSON.stringify(t+";"),t=t.replace(";|",";"),t):""},async listaMaquinas(){this.loaderCheck=!0,this.loaderCheckUsuario=!1;let a=this.locationUrl+"/getWatcherMachinesListSecret/"+this.token+"/resp_rest";await this.$http.post(a,qa).then(a=>{this.loaderCheck=!1,localStorage.removeItem("x-mon-maq"),this.setListaMaquinas=a.data}).catch((function(a){this.loaderCheck=!1,this.setListaMaquinas=[]}))},async listaDatas(a){this.loaderCheck=!0;let t=this.locationUrl+"/getWatcherDatesListSecret/"+this.token+"/resp_rest";await this.$http.post(t,a,qa).then(a=>{this.loaderCheck=!1;var t=a.data;t=t.reverse(),this.setListaDatas=t.map(a=>({text:a.slice(4,6)+"/"+a.slice(2,4)+"/20"+a.slice(0,2),value:a}))}).catch((function(a){this.loaderCheck=!1,this.setListaDatas=[]}))},botaoSelecionado(a){this.btnSel={total:!1,permitidas:!1,proibidas:!1,desconhecidas:!1,ocorrencias:!1},this.btnSel[a]=!0},async listaAcoesMaquina(){this.loaderCheck=!0,this.loaderCheckUsuario=!0,this.listaAcoes=[];let a=this.selMaquina+"|"+this.selMaquinaData,t=this.locationUrl+"/getDataSecret/"+this.token+"/resp_rest";console.log("URL"),console.log(t),console.log("PARAMETROS DE PESQUISA: "),console.log(a),console.log("Valor loaderCheck1: "+this.loaderCheck),await this.$http.post(t,a,qa).then(e=>{this.loaderCheck=!1;let s=JSON.parse(e.data.arrayJanelas);if(console.log("DADOS MAQUINAS MONITORAMENTO WATCHER"),console.log("URL: "),console.log(t),console.log("RESPOSTA REQUISICAO: "),console.log(e),console.log("PARAMETROS DE PESQUISA: "),console.log(a),s){let a=0,t=this.selMaquina.split("-");s.forEach(e=>{let s=e.arrayEventosJanela;e.idx=a++,s&&s.length>0&&(e.exibicao=(s[s.length-1].dataHoraEvento-s[0].dataHoraEvento)/1e3,e.dataHoraPrimeiroEvento=s[0].dataHoraEvento),e.computer_name=t[1],e.cod_maquina=t[2],e._showDetails=!1}),this.listaAcoes=s.reverse(),console.log(this.listaAcoes),this.geraEstatisticas(),this.listaAcoesTodas(),console.log("QTD: "+this.listaAcoes.length),this.liberaLoader(this.listaAcoes.length)}else this.listaMaquinas(),this.modSelMaquina=!0;console.log("Valor loaderCheck2: "+this.loaderCheck)}).catch(a=>{this.loaderCheck=!1,this.loaderCheckUsuario=!1,a&&(this.listaAcoes=[])})},listaAcoesTodas(){this.tabListaAcoes=[],this.tabTitulo="Total",this.botaoSelecionado("total"),this.tabListaAcoes=this.listaAcoes,this.totalRows=this.tabListaAcoes.length,this.tabListaOcorrencias=this.listaAcoes.filter(a=>{for(let t=0;t<a.arrayEventosJanela.length;t++){const e=a.arrayEventosJanela[t];if(e.tipoEvento.toLowerCase().includes("ocorrencia"))return e}}),this.totalOcorrencias=this.tabListaOcorrencias.length},liberaLoader(a){let t=5*a;console.log("tempo: "+t),console.log("QTD itens: "+a),setTimeout(()=>{this.loaderCheckUsuario=!1,console.log(this.loaderCheckUsuario)},t),console.log(this.loaderCheckUsuario)},listaAcoesPermitidas(){this.tabListaAcoes=[],this.tabTitulo="Permitidas",this.botaoSelecionado("permitidas"),this.tabListaAcoes=this.listaAcoes.filter(a=>1==a.tipoJanela),this.totalRows=this.tabListaAcoes.length},listaAcoesProibidas(){this.tabListaAcoes=[],this.tabTitulo="Proibidas",this.botaoSelecionado("proibidas"),this.tabListaAcoes=this.listaAcoes.filter(a=>2==a.tipoJanela),this.totalRows=this.tabListaAcoes.length},listaAcoesDesconhecidas(){this.tabListaAcoes=[],this.tabTitulo="Desconhecidas",this.botaoSelecionado("desconhecidas"),this.tabListaAcoes=this.listaAcoes.filter(a=>3==a.tipoJanela),this.totalRows=this.tabListaAcoes.length},listaAcoesOcorrencias(){this.tabListaAcoes=[],this.tabTitulo="Evidências",this.botaoSelecionado("ocorrencias"),this.tabListaAcoes=this.tabListaOcorrencias,this.totalRows=this.tabListaAcoes.length,this.totalOcorrencias=this.tabListaAcoes.length},async listaEvidencias(a,t,e,s){this.loaderCheck=!0,this.evidencias=[],a=a.replace(/\\/g,"\\\\");let o=a+"|"+t+"|"+e+"|"+s;var i=this.locationUrl+"/getScreenshotsListSecret/"+this.token+"/resp_rest";await this.$http.post(i,o,qa).then(a=>{this.loaderCheck=!1,this.evidencias=a.data}).catch(a=>{this.loaderCheck=!1,this.evidencias=[]})},modalImgFull(a){this.imgFull=a,this.abreModal("modImgFull")},geraEstatisticas(){this.estatisticas={total:0,permitidas:0,proibidas:0,desconhecidas:0,ocorrencias:0},this.estatisticas.total=this.listaAcoes.length,this.listaAcoes.forEach(a=>{1===a.tipoJanela&&this.estatisticas.permitidas++,2===a.tipoJanela&&this.estatisticas.proibidas++,3===a.tipoJanela&&this.estatisticas.desconhecidas++,a.arrayEventosJanela.forEach(t=>{"ocorrencia"===t.tipoEvento&&(this.estatisticas.ocorrencias++,a.ocorrencia=!0)})})},tamanhoJanela(){return window.innerWidth},duploClickLinha(a,t){if(this.chkIndex!=t){this.tabListaAcoes.forEach(a=>a._showDetails=!1),this.chkIndex=t;let e=a.caminhoScreenshots,s=a.arrayEventosJanela[0].dataHoraEvento,o=a.arrayEventosJanela;o=o[o.length-1].dataHoraEvento;let i=a.handlerJanela;this.listaEvidencias(e,s,o,i)}a._showDetails=!a._showDetails},pegaCodMaquina(){var a=this.selMaquina.split("-");return a=a.reverse(),a[0]},pegaMaquina(){var a=this.selMaquina.split("-");a=a.reverse();var t="-"+a[0];return this.selMaquina.replace(t,"")},getParaphase(){return this.token+"%"+this.locationInfo},setCrpStorage(a){a=a;a=this.$CryptoJS.AES.encrypt(a,this.getParaphase()).toString(),localStorage.setItem("x-mon-maq",a)},getCrpStorage(){var a=localStorage.getItem("x-mon-maq");return a=a?this.$CryptoJS.AES.decrypt(a,this.getParaphase()).toString(this.CryptoJS.enc.Utf8):"",a},abreModal(a){this.$refs[a].show()},fechaModal(a){this.$refs[a].hide()},onFiltered(a){this.totalRows=a.length,this.currentPage=1}},mounted(){this.loaderCheck=!0,this.verificaMaquina(),window.onresize=this.tamanhoJanela(),console.log("Teste: "+((new Date).getMinutes()-parseInt(localStorage.getItem("dataLogin")))),(new Date).getMinutes()-parseInt(localStorage.getItem("dataLogin"))>=localStorage.getItem("limiteSessao")&&(localStorage.removeItem("infoUser"),localStorage.removeItem("user"),localStorage.removeItem("dataLogin"),location.reload(!0))}},Ea=Ua,$a=(e("e605"),Object(L["a"])(Ea,wa,Pa,!1,null,"9855fac6",null)),Ta=$a.exports,La=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"Resumo de Aplicações"}}),e("div",{staticClass:"container-full m-3"},[e("div",{staticClass:"row",attrs:{id:"box-tabela"}},[e("b-row",{staticClass:"mb-3",attrs:{id:"row-box-input"}},[e("b-col",{staticClass:"my-2",attrs:{xs:"12",sm:"6",md:"7"}},[a.selMaquina&&a.selMaquinaData?e("small",[a._v("Dados coletados da máquina: "),e("strong",[a._v(a._s(a.selMaquina))]),a._v(" na data de "),e("strong",[a._v(a._s(a.dataHeader(a.selMaquinaData)))])]):a._e()]),e("b-col",{staticClass:"text-right",attrs:{xs:"12",sm:"6",md:"5"}},[e("b-button-group",{staticStyle:{"white-space":"nowrap"}},[e("b-button",{attrs:{variant:"outline-primary",title:"Voltar Página Anterior"},on:{click:function(t){return a.voltaPagina()}}},[e("b-icon",{attrs:{icon:"chevron-left"}})],1),e("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a.novaPesquisa()}}},[e("b-icon",{attrs:{icon:"search"}}),a._v(" Nova Pesquisa")],1)],1)],1)],1),e("b-row",[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("b-card",{attrs:{"no-block":""}},[e("div",[e("b-button-group",{staticClass:"abas-h"},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.xlsDados,name:"ResumoDeApp_"+a.selMaquina+"_"+a.selMaquinaData.replaceAll("/","-")+".xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.listaAcoesMaquina()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.todas?"primary":"outline-primary"},on:{click:function(t){return a.listaAcoesTodas()}}},[a._v("Todas: "+a._s(a.estatisticas.todas))])],1),e("b-button-group",{staticClass:"abas-v",attrs:{vertical:""}},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.xlsDados,name:"ResumoDeApp_"+a.selMaquina+"_"+a.selMaquinaData.replaceAll("/","-")+".xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.listaAcoesMaquina()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.todas?"primary":"outline-primary"},on:{click:function(t){return a.listaAcoesTodas()}}},[a._v("Todas: "+a._s(a.estatisticas.todas))])],1)],1),e("hr",{staticClass:"my-0"}),e("b-row",{staticClass:"pt-3 bg-ice"},[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("h3",[a._v(a._s(a.tabTitulo))])]),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"4"}},[e("b-form-group",{attrs:{description:"Pesquise no resultado"}},[e("b-form-input",{attrs:{type:"search",placeholder:"Busca",size:"sm"},model:{value:a.filter,callback:function(t){a.filter=t},expression:"filter"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12 ",md:"2"}},[e("b-form-group",{attrs:{description:"por página"}},[e("b-form-select",{attrs:{options:a.pageOptions,size:"sm"},model:{value:a.perPage,callback:function(t){a.perPage=t},expression:"perPage"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"6"}},[e("b-form-group",[e("small",[a._v(a._s("Total de Registros: "+a.totalRows))]),e("br"),e("b-pagination",{attrs:{"total-rows":a.totalRows,"per-page":a.perPage,size:"sm"},model:{value:a.currentPage,callback:function(t){a.currentPage=t},expression:"currentPage"}})],1)],1)],1),e("b-row",{attrs:{id:"box-tabela"}},[e("b-col",[e("div",{staticClass:"e-tab"},[a.listaAcoes?e("b-table",{ref:"tabResumo",staticClass:"tab-resumo mb-0",attrs:{id:"tabResumo","show-empty":"",small:"",striped:"",stacked:"md",items:a.tabListaAcoes,fields:a.titTabela,"current-page":a.currentPage,"per-page":a.perPage,filter:a.filter,"empty-text":"Não há registro para sua pesquisa."},on:{filtered:a.onFiltered,"row-clicked":a.duploClickLinha},scopedSlots:a._u([{key:"cell(tipo_janela)",fn:function(t){return[3===t.item.tipo_janela?e("span",{staticClass:"tab-janela tipo3"}):a._e(),2===t.item.tipo_janela?e("span",{staticClass:"tab-janela tipo2"}):a._e(),1===t.item.tipo_janela?e("span",{staticClass:"tab-janela tipo1"}):a._e()]}},{key:"cell(terminada)",fn:function(t){return[a._v(" "+a._s(0===t.item.terminada?"Ativa":"Terminada")+" ")]}},{key:"cell(hora_start)",fn:function(t){return[a._v(" "+a._s(a.formatDate(t.item.hora_start))+" ")]}},{key:"cell(titulo_atual)",fn:function(t){return[e("div",{staticClass:"titulo",attrs:{title:t.item.titulo_atual}},[a._v(a._s(t.item.titulo_atual))])]}},{key:"cell(dataHoraCriacao)",fn:function(t){return[a._v(" "+a._s(a.horaFormat(t.item.arrayEventosJanela[0].dataHoraEvento))+" ")]}},{key:"cell(tem_alarmes)",fn:function(t){return[e("div",[!0===t.item.tem_alarmes?e("span",[a._v("Sim")]):a._e(),!1===t.item.tem_alarmes?e("span",[a._v("Não")]):a._e()])]}},{key:"cell(actions)",fn:function(t){return[e("b-button-group",[e("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:t.toggleDetails}},[e("b-icon",{attrs:{icon:"info-circle"}})],1),e("b-dropdown",{attrs:{size:"sm",id:"dropdown-right-"+t.item.handlerJanela,right:"",variant:"primary","no-caret":"",title:"Mais ações"},scopedSlots:a._u([{key:"button-content",fn:function(){return[e("b-icon",{attrs:{icon:"three-dots"}})]},proxy:!0}],null,!0)},[t.item?e("sub-menu",{attrs:{modulo:"redes",dados:t.item,subMenu:a.listaSubMenu,indice:t.item.idx},on:{carregaDados:function(t){return a.getListaMaquina()}}}):a._e()],1)],1)]}},{key:"row-details",fn:function(t){return[e("b-card",{staticClass:"linha-detalhe m-2 px-5 py-3"},a._l(t.item,(function(t,s){return e("ul",{key:s},["hh_tempo_existencia"==s?e("li",[e("strong",[a._v("Tempo total de existencia da Janela:")]),a._v(" "+a._s(t)+" ")]):a._e(),"titulo_original"==s?e("li",[e("strong",[a._v("Titulo:")]),a._v(" "+a._s(t)+" ")]):a._e(),"user_name"==s?e("li",[e("strong",[a._v("Usuário:")]),a._v(" "+a._s(t)+" ")]):a._e(),"executavel"==s?e("li",[e("strong",[a._v("Executável:")]),a._v(" "+a._s(t)+" ")]):a._e(),"pid"==s?e("li",[e("strong",[a._v("PID:")]),a._v(" "+a._s(t)+" ")]):a._e(),"handler_janela"==s?e("li",[e("strong",[a._v("Janela:")]),a._v(" "+a._s(t)+" ")]):a._e(),"hora_inicio"==s?e("li",[e("strong",[a._v("Entrada:")]),a._v(" "+a._s(a.formatDate(t))+" ")]):a._e(),"maquina"==s?e("li",[e("strong",[a._v("Máquina:")]),a._v(" "+a._s(t)+" ")]):a._e(),"status_alarme"==s?e("li",[e("strong",[a._v("Status do último alarme:")]),a._v(" "+a._s(t)+" ")]):a._e(),"titulo_atual"==s?e("li",[e("strong",[a._v("Titulo atual da janela:")]),a._v(" "+a._s(t)+" ")]):a._e(),"hora_start"==s?e("li",[e("strong",[a._v("Hora que a janela comecou a existência dela:")]),a._v(" "+a._s(a.formatDate(t))+" ")]):a._e(),"terminada"==s?e("li",[e("strong",[a._v("Status Janela :")]),0===t||"false"===t?e("span",[a._v(" Ativa")]):0!==t||"true"===t?e("span",[a._v(" Terminada")]):a._e()]):a._e(),"ocorrencias"==s&&t.length>0?e("li",[e("strong",[a._v("Ocorrências: ")]),a._l(t,(function(t,s){return e("ul",{key:s,staticClass:"ml-3",staticStyle:{"list-style-type":"disc"}},[e("li",{staticClass:"list-disc mb-1"},[e("strong",[a._v(a._s(s+1)+" - Item: ")]),a._v(" "+a._s(t.dataHoraEvento)+" "),e("br"),a._v(" "+a._s(t.ocorrencia)+" ")])])}))],2):a._e(),"grupo_dlp"==s?e("li",[e("strong",[a._v("Grupo:")]),a._v(" "+a._s(t)+" ")]):a._e(),"hh_tempo_atividade"==s?e("li",[e("strong",[a._v("Tempo de atividade:")]),a._v(" "+a._s(t)+" ")]):a._e(),"tempo_atividade"==s?e("li",[e("strong",[a._v("Tempo de atividade:")]),a._v(" "+a._s(t)+" ")]):a._e(),"tem_alarmes"==s?e("li",[e("strong",[a._v("Tem Alarmes?")]),1==t?e("span",[a._v(" Sim")]):a._e(),0==t?e("span",[a._v(" Não")]):a._e()]):a._e()])})),0)]}}],null,!1,2272928169)}):a._e()],1)])],1)],1)],1)],1)],1)])],1)])]),e("b-modal",{ref:"selMaquina",attrs:{"ok-only":"",id:"selMaquina"},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Selecione: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{size:"",variant:"success"},on:{click:function(t){a.listaAcoesMaquina(),a.fechaModal("selMaquina")}}},[a._v(" Visualizar ")]),e("b-button",{attrs:{size:"",variant:"danger"},on:{click:function(t){return a.fechaModal("selMaquina")}}},[a._v(" Cancelar ")])]},proxy:!0}]),model:{value:a.modSelMaquina,callback:function(t){a.modSelMaquina=t},expression:"modSelMaquina"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("b-form-group",{attrs:{id:"input-group-3",label:"Máquina selecionada:","label-for":"input-3"}},[e("b-form-select",{attrs:{options:a.setListaMaquinas,disabled:!a.setListaMaquinas},model:{value:a.selMaquina,callback:function(t){a.selMaquina=t},expression:"selMaquina"}})],1),e("b-form-group",{attrs:{id:"input-group-3",label:"Datas disponíveis:","label-for":"input-3"}},[e("b-form-select",{attrs:{options:a.setListaDatas,disabled:!a.setListaDatas},model:{value:a.selMaquinaData,callback:function(t){a.selMaquinaData=t},expression:"selMaquinaData"}})],1)],1)])]),e("b-modal",{ref:"modImgFull",attrs:{id:"modImgFull",title:"Imagem Ampliada","ok-only":"",centered:"","no-close-on-backdrop":"","no-close-on-esc":"","hide-header":"","hide-footer":"",size:"full"}},[e("b-button",{staticClass:"btn-carousel",attrs:{size:"sm",variant:"primary",title:"Ampliar Imagem"},on:{click:function(t){return a.fechaModal("modImgFull")}}},[e("b-icon",{attrs:{icon:"arrows-angle-contract"}}),a._v(" Restaura Imagem ")],1),e("div",{},[e("img",{staticClass:"slideImgModal",attrs:{src:a.imgFull}})])],1),e("loader",{attrs:{status:a.loaderCheck}})],1)},Ia=[],Oa=new Headers;Oa.append("Content-Type","application/json"),Oa.append("Cache-Control","no-cache"),Oa.append("Expires","-1"),Oa.append("Pragma","no-cache");var Ra={components:{"meu-painel":B["a"],"menu-lateral":H["a"],"sub-menu":Z["a"],loader:U["a"]},data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!0,listaSubMenu:["sms","email","desliga","reinicia","reiniciaDlp","paraApp","exeCmd"],selMaquina:"",selMaquinaData:"",selMaquinaGdlp:"",setListaMaquinas:[],setListaDatas:[],listaAcoes:[],tabListaAcoes:[],tabTitulo:"Todas Aplicações",evidencias:[],imgFull:"",chkIndex:null,modSelMaquina:!1,titTabela:[{key:"actions",label:"Ações"},{key:"tipo_janela",label:"",sortable:!1},{key:"hora_start",label:"Entrada",sortable:!0},{key:"maquina",label:"Máquina",sortable:!1},{key:"titulo_atual",label:"Titulo",sortable:!1},{key:"executavel",label:"Executável",sortable:!1},{key:"tem_alarmes",label:"Tem alarmes?",sortable:!1}],titTabelaOcorrencias:[{key:"dataHoraEvento",label:"Horário",sortable:!1},{key:"tituloJanela",label:"titulo",sortable:!1},{key:"tipoEvento",label:"Tipo",sortable:!1},{key:"ocorrencia",label:"Ocorrência",sortable:!1}],estatisticas:{total:0,ativas:0,terminadas:0,desligadas:0},btnSel:{todas:0,permitidas:0,proibidas:0,desconhecidas:0,ocorrencias:0},totalRows:1,currentPage:1,perPage:20,pageOptions:[10,20,50],filter:null,xlsTitulo:{"Início da Existência da Janela":"horaInicio","Grupo DLP":"grupo_dlp","Máquina":"maquina","Status da Máquina":"maqAtiva","Usuário":"user_name","Código da Janela":"handler_janela","Titulo Original":"titulo_original","Titulo Atualizado":"titulo_atual","Executável":"executavel",PID:"pid","Status do Último Alarme":"status_alarme","Status Janela":"statusApp","Tipo de Janela":"tipoStatusJanela","Ocorrências":"itensOcorr","Caminho das Imagens":"imagens","Tem Alarmes?":"temAlarmes","Tempo de Atividade":"hh_tempo_atividade","Tempo de Existência":"hh_tempo_existencia","Comentários":"comentarios"},xlsDados:[]}},computed:{sortOptions(){return this.fields.filter(a=>a.sortable).map(a=>({text:a.label,value:a.key}))}},watch:{tabListaAcoes(a){this.geraXls(a)},selMaquina(a){this.selMaquina=a.toUpperCase(),a?this.listaDatas(a):this.selMaquinaData=""},selMaquinaData(a){var t=this.selMaquina+"|"+a+"|"+this.selMaquinaGdlp;this.setCrpStorage(t)},totalRows(a){this.totalRows=a},listaAcoes(a){this.geraEstatisticas()}},methods:{geraXls(a){var t=a;t&&(t.forEach(a=>{a.maqAtiva=1==a.maquina_fora?"Inativa":"Ativa",a.statusApp=1==a.terminada?"Sim":"Não",a.temAlarmes=1==a.tem_alarmes?"Sim":"Não",a.imagens=a.caminhoScreenshots.replaceAll("\\\\","\\"),1===a.tipo_janela?a.tipoStatusJanela="Permitida":2===a.tipo_janela?a.tipoStatusJanela="Proibida":3===a.tipo_janela&&(a.tipoStatusJanela="Desconhecida"),a.horaInicio=this.formatDate(a.hora_inicio);var t=a.ocorrencias;t.forEach(a=>a.dataHoraEvento=this.formatDateMilisec(a.dataHoraEvento)),t=JSON.stringify(t),t=t.indexOf("\\n")>-1?t.replaceAll("\\n",""):"",t=t.indexOf("[")>-1?t.replaceAll("[",""):"",t=t.indexOf("]")>-1?t.replaceAll("]",""):"",t=t.indexOf("},{")>-1?t.replaceAll("},{","; \n\n"):"",t=t.indexOf("{")>-1?t.replaceAll("{",""):"",t=t.indexOf("}")>-1?t.replaceAll("}",""):"",t=t.indexOf('":')>-1?t.replaceAll('":',": "):"",t=t.indexOf('","')>-1?t.replaceAll('","',", "):"",t=t.indexOf('"')>-1?t.replaceAll('"',""):"",t=t.indexOf("ocorrencia")>-1?t.replaceAll("ocorrencia","Item de Ocorrência"):"",t=t.indexOf("dataHoraEvento")>-1?t.replaceAll("dataHoraEvento","Hora do Evento"):"",a.itensOcorr=t}),this.xlsDados=t)},voltaPagina(){this.$router.go(-1)},verificaMaquina(){var a=this.getCrpStorage(),t=window.location.hash;t=t.replace("#/resumo-aplicacoes/","");var e="",s=new Date;if(t){t=t.split("/").reverse(),e=`${t[1]}-${t[0]}`.toUpperCase(),this.selMaquinaGdlp=t[1];var o=s.getDate();o<10&&(o="0"+o);var i=s.getMonth()+1;i<10&&(i="0"+i);var r=s.getYear()-100;s=r.toString()+i.toString()+o.toString(),this.selMaquina=e,this.selMaquinaData=s;var l=this.selMaquina+"|"+this.selMaquinaData;this.listaAcoesMaquina(l)}else if(a){var n=a.split("|");this.selMaquina=n[0],this.selMaquinaData=n[1],this.selMaquinaGdlp=n[2],this.listaAcoesMaquina(a)}else this.listaMaquinas(),this.modSelMaquina=!0},novaPesquisa(){this.listaMaquinas(),this.modSelMaquina=!0},dataHeader(a){return a.slice(4,6)+"/"+a.slice(2,4)+"/20"+a.slice(0,2)},horaFormat(a){var t=new Date(a).toString();return t=t.split(" GMT"),t=t[0].split(" ").reverse(),t=t[0],t},formatDate(a){let t=a.split(" "),e=t[1],s=t[0].split("-").reverse();s=s[0]+"/"+s[1]+"/"+s[2];var o=`${s} - ${e}`;return o},formatDateMilisec(a){let t=a,e=108e5;t-=e,t=new Date(t);var s=t.getDate(),o=t.getMonth()+1,i=t.getFullYear(),r=t.getUTCHours(),l=t.getMinutes(),n=t.getSeconds(),c=`${s<10?"0"+s:s}/${o<10?"0"+o:o}/${i} - ${r<10?"0"+r:r}:${l<10?"0"+l:l}:${n<10?"0"+n:n}`;return c},htmlFormat(a){let t=a;t=t.replace(/=(\r\n|\n|\r)/gm,"<br>")},async listaMaquinas(){this.loaderCheck=!0;let a=this.locationUrl+"/getWatcherMachinesListSecret/"+this.token+"/resp_rest";console.log(a),await this.$http.post(a,Oa).then(a=>{this.loaderCheck=!1,localStorage.removeItem("x-rapp-maq"),this.setListaMaquinas=a.data}).catch((function(a){this.loaderCheck=!1,this.setListaMaquinas=[],this.setListaDatas=[]}))},async listaDatas(a){this.loaderCheck=!0;let t=this.locationUrl+"/getWatcherDatesListSecret/"+this.token+"/resp_rest";await this.$http.post(t,a,Oa).then(a=>{this.loaderCheck=!1;var t=a.data;t=t.reverse(),this.setListaDatas=t.map(a=>({text:a.slice(4,6)+"/"+a.slice(2,4)+"/20"+a.slice(0,2),value:a}))}).catch((function(a){this.loaderCheck=!1,this.setListaDatas=[]}))},botaoSelecionado(a){this.btnSel={todas:!1,ativas:!1,termiandas:!1,desligadas:!1},this.btnSel[a]=!0},async listaAcoesMaquina(){this.loaderCheck=!0,this.listaAcoes=[];var a=JSON.stringify({data:this.selMaquinaData,grupo_dlp:this.selMaquinaGdlp,lista_todos:"1",maquina:this.selMaquina});let t=this.locationUrl+"/gestao/janelas/"+this.token+"/resp_rest";console.log("PARAMETROS: "),console.log(a),console.log("URL: "+t),await this.$http.post(t,a,Oa).then(a=>{this.loaderCheck=!1;let t=a.data;if(console.log("RESPOSTA DATA: "),console.log(t),t||t!==[]){let a=0,e=this.selMaquina.split("-");t.forEach(t=>{t.idx=a++,t.computer_name=e[1],t.cod_maquina=e[2],t.handlerJanela=t.handler_janela,t.maq_ativa=t.maquina_fora?"false":"true",t._showDetails=!1}),this.listaAcoes=t,console.log(this.listaAcoes),this.geraEstatisticas(),this.listaAcoesTodas()}else this.listaAcoes=[]}).catch(a=>{this.loaderCheck=!1,a&&(this.listaAcoes=[]),console.log(a)})},listaAcoesTodas(){this.tabTitulo="Todas Aplicações",this.botaoSelecionado("todas"),this.tabListaAcoes=this.listaAcoes,this.totalRows=this.tabListaAcoes.length},listaAcoesAtivas(){this.tabTitulo="Aplicações Ativas",this.botaoSelecionado("ativas"),this.tabListaAcoes=this.listaAcoes.filter(a=>1!==a.terminada),this.totalRows=this.tabListaAcoes.length},listaAcoesTerminadas(){this.tabTitulo="Aplicações Terminadas",this.botaoSelecionado("terminadas"),this.tabListaAcoes=this.listaAcoes.filter(a=>1==a.terminada),this.totalRows=this.tabListaAcoes.length},geraEstatisticas(){this.estatisticas={todas:0,ativas:0,terminadas:0,desligadas:0},this.estatisticas.todas=this.listaAcoes.length,this.listaAcoes.forEach(a=>{1!==a.terminada&&this.estatisticas.ativas++,1===a.terminada&&this.estatisticas.terminadas++})},tamanhoJanela(){return window.innerWidth},duploClickLinha(a,t){this.chkIndex!=t&&(this.tabListaAcoes.forEach(a=>a._showDetails=!1),this.chkIndex=t),a._showDetails=!a._showDetails},pegaCodMaquina(){var a=this.selMaquina.split("-");return a=a.reverse(),a[0]},pegaMaquina(){var a=this.selMaquina.split("-");a=a.reverse();var t="-"+a[0];return this.selMaquina.replace(t,"")},getParaphase(){return this.token+"%"+this.locationInfo},setCrpStorage(a){a=a;a=this.$CryptoJS.AES.encrypt(a,this.getParaphase()).toString(),localStorage.setItem("x-rapp-maq",a)},getCrpStorage(){var a=localStorage.getItem("x-rapp-maq");return a=a?this.$CryptoJS.AES.decrypt(a,this.getParaphase()).toString(this.CryptoJS.enc.Utf8):"",a},abreModal(a){this.$refs[a].show()},fechaModal(a){this.$refs[a].hide()},onFiltered(a){this.totalRows=a.length,this.currentPage=1}},mounted(){this.verificaMaquina(),window.onresize=this.tamanhoJanela()}},ja=Ra,Na=(e("c76b"),Object(L["a"])(ja,La,Ia,!1,null,"81c58c76",null)),za=Na.exports,Ga=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"Atividades de Máquina"}}),e("div",{staticClass:"container-full m-3"},[e("div",{staticClass:"row",attrs:{id:"box-tabela"}},[e("b-row",{staticClass:"mb-3",attrs:{id:"row-box-input"}},[e("b-col",{staticClass:"my-2",attrs:{xs:"12",sm:"6",md:"7"}},[a.selMaquina&&a.selMaquinaData?e("small",[a._v("Dados coletados da máquina: "),e("strong",[a._v(a._s(a.selMaquina))]),a._v(" na data de "),e("strong",[a._v(a._s(a.dataHeader(a.selMaquinaData)))])]):a._e()]),e("b-col",{staticClass:"text-right",attrs:{xs:"12",sm:"6",md:"5"}},[e("b-button-group",{staticStyle:{"white-space":"nowrap"}},[e("b-button",{attrs:{variant:"outline-primary",title:"Voltar Página Anterior"},on:{click:function(t){return a.voltaPagina()}}},[e("b-icon",{attrs:{icon:"chevron-left"}})],1),e("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a.novaPesquisa()}}},[e("b-icon",{attrs:{icon:"search"}}),a._v(" Nova Pesquisa")],1)],1)],1)],1),e("b-row",[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("b-card",{attrs:{"no-block":""}},[e("div",[e("b-button-group",{staticClass:"abas-h"},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.xlsDados,name:"AtividadesDeMaquina_"+a.selMaquina+"_"+a.selMaquinaData.replaceAll("/","-")+".xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.listaAcoesMaquina()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.todas?"primary":"outline-primary"},on:{click:function(t){return a.listaAcoesTodas()}}},[a._v("Todas: "+a._s(a.estatisticas.todas))])],1),e("b-button-group",{staticClass:"abas-v",attrs:{vertical:""}},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.xlsDados,name:"AtividadesDeMaquina_"+a.selMaquina+"_"+a.selMaquinaData.replaceAll("/","-")+".xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.listaAcoesMaquina()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.todas?"primary":"outline-primary"},on:{click:function(t){return a.listaAcoesTodas()}}},[a._v("Todas: "+a._s(a.estatisticas.todas))])],1)],1),e("hr",{staticClass:"my-0"}),e("b-row",{staticClass:"pt-3 bg-ice"},[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("h3",[a._v(a._s(a.tabTitulo))])]),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"4"}},[e("b-form-group",{attrs:{description:"Pesquise no resultado"}},[e("b-form-input",{attrs:{type:"search",placeholder:"Busca",size:"sm"},model:{value:a.filter,callback:function(t){a.filter=t},expression:"filter"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12 ",md:"2"}},[e("b-form-group",{attrs:{description:"por página"}},[e("b-form-select",{attrs:{options:a.pageOptions,size:"sm"},model:{value:a.perPage,callback:function(t){a.perPage=t},expression:"perPage"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"6"}},[e("b-form-group",[e("small",[a._v(a._s("Total de Registros: "+a.totalRows))]),e("br"),e("b-pagination",{attrs:{"total-rows":a.totalRows,"per-page":a.perPage,size:"sm"},model:{value:a.currentPage,callback:function(t){a.currentPage=t},expression:"currentPage"}})],1)],1)],1),e("b-row",{attrs:{id:"box-tabela"}},[e("b-col",[e("div",{staticClass:"e-tab"},[a.listaAcoes?e("b-table",{ref:"tabAtividades",staticClass:"tab-atividades mb-0",attrs:{id:"tabAtividades","show-empty":"",small:"",striped:"",stacked:"md",items:a.tabListaAcoes,fields:a.titTabela,"current-page":a.currentPage,"per-page":a.perPage,filter:a.filter,"empty-text":"Não há registro para sua pesquisa."},on:{filtered:a.onFiltered,"row-clicked":a.duploClickLinha},scopedSlots:a._u([{key:"cell(dth_inicio)",fn:function(t){return[a._v(" "+a._s(a.formatDate(t.item.dth_inicio))+" ")]}},{key:"cell(dth_ult_atividade)",fn:function(t){return[a._v(" "+a._s(a.formatDate(t.item.dth_ult_atividade))+" ")]}},{key:"cell(titulo)",fn:function(t){return[e("div",{staticClass:"titulo",attrs:{title:t.item.titulo}},[a._v(a._s(t.item.titulo))])]}},{key:"cell(actions)",fn:function(t){return[e("b-button-group",[e("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:t.toggleDetails}},[e("b-icon",{attrs:{icon:"info-circle"}})],1),e("b-dropdown",{attrs:{size:"sm",id:"dropdown-right-"+t.item.handlerJanela,right:"",variant:"primary","no-caret":"",title:"Mais ações"},scopedSlots:a._u([{key:"button-content",fn:function(){return[e("b-icon",{attrs:{icon:"three-dots"}})]},proxy:!0}],null,!0)},[t.item?e("sub-menu",{attrs:{modulo:"redes",dados:t.item,subMenu:a.listaSubMenu,indice:t.item.idx},on:{carregaDados:function(t){return a.getListaMaquina()}}}):a._e()],1)],1)]}},{key:"row-details",fn:function(t){return[e("b-card",{staticClass:"linha-detalhe m-2 px-5 py-3"},a._l(t.item,(function(t,s){return e("ul",{key:s},["maquina"==s?e("li",[e("strong",[a._v("Máquina:")]),a._v(" "+a._s(t)+" ")]):a._e(),"dth_inicio"==s?e("li",[e("strong",[a._v("Início:")]),a._v(" "+a._s(a.formatDate(t))+" ")]):a._e(),"dth_ult_atividade"==s?e("li",[e("strong",[a._v("Última Atividade:")]),a._v(" "+a._s(a.formatDate(t))+" ")]):a._e(),"tempo_total"==s?e("li",[e("strong",[a._v("Tempo Total:")]),a._v(" "+a._s(t)+" ")]):a._e(),"tempo_uso"==s?e("li",[e("strong",[a._v("Tempo de Uso:")]),a._v(" "+a._s(t)+" ")]):a._e(),"user_name"==s?e("li",[e("strong",[a._v("Usuário:")]),a._v(" "+a._s(t)+" ")]):a._e(),"rand_titulo"==s?e("li",[e("strong",[a._v("Código do Título:")]),a._v(" "+a._s(t)+" ")]):a._e(),"titulo"==s?e("li",[e("strong",[a._v("Título:")]),a._v(" "+a._s(t)+" ")]):a._e(),"executavel"==s?e("li",[e("strong",[a._v("Executável:")]),a._v(" "+a._s(t)+" ")]):a._e(),"vezes_topo"==s?e("li",[e("strong",[a._v("Quantidade de Vezes no Topo:")]),a._v(" "+a._s(t)+" ")]):a._e(),"comentarios"==s&&""!=t?e("li",[e("strong",[a._v("Comentários:")]),a._v(" "+a._s(t)+" ")]):a._e(),"evidencias"==s&&""!=t?e("li",[e("strong",[a._v("Evidências:")]),a._v(" "+a._s(t)+" ")]):a._e(),"radical"==s&&""!=t?e("li",[e("strong",[a._v("Radical:")]),a._v(" "+a._s(t)+" ")]):a._e()])})),0)]}}],null,!1,1098232792)}):a._e()],1)])],1)],1)],1)],1)],1)])],1)])]),e("b-modal",{ref:"selMaquina",attrs:{"ok-only":"",id:"selMaquina"},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Selecione: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[e("b-button",{attrs:{size:"",variant:"success"},on:{click:function(t){a.listaAcoesMaquina(),a.fechaModal("selMaquina")}}},[a._v(" Visualizar ")]),e("b-button",{attrs:{size:"",variant:"danger"},on:{click:function(t){return a.fechaModal("selMaquina")}}},[a._v(" Cancelar ")])]},proxy:!0}]),model:{value:a.modSelMaquina,callback:function(t){a.modSelMaquina=t},expression:"modSelMaquina"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("b-form-group",{attrs:{id:"input-group-3",label:"Máquina selecionada:","label-for":"input-3"}},[e("b-form-select",{attrs:{options:a.setListaMaquinas,disabled:!a.setListaMaquinas},model:{value:a.selMaquina,callback:function(t){a.selMaquina=t},expression:"selMaquina"}})],1),e("b-form-group",{attrs:{id:"input-group-3",label:"Datas disponíveis:","label-for":"input-3"}},[e("b-form-select",{attrs:{options:a.setListaDatas,disabled:!a.setListaDatas},model:{value:a.selMaquinaData,callback:function(t){a.selMaquinaData=t},expression:"selMaquinaData"}})],1)],1)])]),e("loader",{attrs:{status:a.loaderCheck}}),e("loader",{attrs:{status:a.loaderCheckUsuario}})],1)},Ja=[],Va=new Headers;Va.append("Content-Type","application/json"),Va.append("Cache-Control","no-cache"),Va.append("Expires","-1"),Va.append("Pragma","no-cache");var Fa={components:{"meu-painel":B["a"],"menu-lateral":H["a"],"sub-menu":Z["a"],loader:U["a"]},data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!0,loaderCheckUsuario:!0,listaSubMenu:["sms","chat","email","desliga","reinicia","reiniciaDlp","exeCmd"],selMaquina:"",selMaquinaData:"",selMaquinaGdlp:"",setListaMaquinas:[],setListaDatas:[],listaAcoes:[],tabListaAcoes:[],tabTitulo:"Todas Atividades",evidencias:[],imgFull:"",chkIndex:null,modSelMaquina:!1,titTabela:[{key:"actions",label:"Ações"},{key:"dth_inicio",label:"Início",sortable:!0},{key:"dth_ult_atividade",label:"Última Atividade",sortable:!0},{key:"tempo_uso",label:"Tempo de Uso",sortable:!0},{key:"vezes_topo",label:"Qnt Vezes Topo",sortable:!0},{key:"user_name",label:"Usuário",sortable:!1},{key:"titulo",label:"Título",sortable:!0},{key:"executavel",label:"Executável",sortable:!0}],titTabelaOcorrencias:[{key:"dataHoraEvento",label:"Horário",sortable:!1},{key:"tituloJanela",label:"titulo",sortable:!1},{key:"tipoEvento",label:"Tipo",sortable:!1},{key:"ocorrencia",label:"Ocorrência",sortable:!1}],estatisticas:{total:0,ativas:0,terminadas:0,desligadas:0},btnSel:{todas:0,permitidas:0,proibidas:0,desconhecidas:0,ocorrencias:0},totalRows:1,currentPage:1,perPage:20,pageOptions:[10,20,50],filter:null,xlsTitulo:{"Máquina":"maquina","Data Início":"dtInicio","Data da Última Atividade":"dtUltima","Tempo Total":"tempo_total","Tempo de Uso":"tempo_uso","Tempo Médio de Uso":"tempo_medio","Usuário da Máquina":"user_name","Código da Atividade":"rand_titulo","Título da Atividade":"titulo","Executável":"executavel","Qunatidade de Vezes no Topo":"vezes_topo","Comentários":"comentarios","Evidências":"evidencias",Radical:"radical"},xlsDados:[]}},computed:{sortOptions(){return this.fields.filter(a=>a.sortable).map(a=>({text:a.label,value:a.key}))}},watch:{tabListaAcoes(a){this.geraXls(a)},selMaquina(a){this.selMaquina=a.toUpperCase(),a?this.listaDatas(a):this.selMaquinaData=""},selMaquinaData(a){var t=this.selMaquina+"|"+a+"|"+this.selMaquinaGdlp;this.setCrpStorage(t)},totalRows(a){this.totalRows=a},listaAcoes(a){this.geraEstatisticas()}},methods:{geraXls(a){var t=a;t&&(t.forEach(a=>{a.dtInicio=this.formatDate(a.dth_inicio),a.dtUltima=this.formatDate(a.dth_ult_atividade)}),this.xlsDados=t)},voltaPagina(){this.$router.go(-1)},verificaMaquina(){var a=this.getCrpStorage(),t=window.location.hash;t=t.replace("#/atividades/","");var e="",s=new Date;if(t){t=t.split("/").reverse(),e=`${t[1]}-${t[0]}`.toUpperCase(),this.selMaquinaGdlp=t[1];var o=s.getDate();o<10&&(o="0"+o);var i=s.getMonth()+1;i<10&&(i="0"+i);var r=s.getYear()-100;s=r.toString()+i.toString()+o.toString(),this.selMaquina=e,this.selMaquinaData=s;var l=this.selMaquina+"|"+this.selMaquinaData;this.listaAcoesMaquina(l)}else if(a){var n=a.split("|");this.selMaquina=n[0],this.selMaquinaData=n[1],this.selMaquinaGdlp=n[2],this.listaAcoesMaquina(a)}else this.listaMaquinas(),this.modSelMaquina=!0},novaPesquisa(){this.listaMaquinas(),this.modSelMaquina=!0},dataHeader(a){return a.slice(4,6)+"/"+a.slice(2,4)+"/20"+a.slice(0,2)},horaFormat(a){var t=new Date(a).toString();return t=t.split(" GMT"),t=t[0].split(" ").reverse(),t=t[0],t},formatDate(a){let t=a.split(" "),e=t[1],s=t[0].split("-").reverse();s=s[0]+"/"+s[1]+"/"+s[2];var o=`${s} - ${e}`;return o},formatDateMilisec(a){let t=a,e=108e5;t-=e,t=new Date(t);var s=t.getDate(),o=t.getMonth()+1,i=t.getFullYear(),r=t.getUTCHours(),l=t.getMinutes(),n=t.getSeconds(),c=`${s<10?"0"+s:s}/${o<10?"0"+o:o}/${i} - ${r<10?"0"+r:r}:${l<10?"0"+l:l}:${n<10?"0"+n:n}`;return c},htmlFormat(a){let t=a;t=t.replace(/=(\r\n|\n|\r)/gm,"<br>")},async listaMaquinas(){this.loaderCheck=!0;let a=this.locationUrl+"/getWatcherMachinesListSecret/"+this.token+"/resp_rest";await this.$http.post(a,Va).then(a=>{this.loaderCheck=!1,localStorage.removeItem("x-atv-maq"),this.setListaMaquinas=a.data}).catch((function(a){this.loaderCheck=!1,this.setListaMaquinas=[]}))},async listaDatas(a){this.loaderCheck=!0;let t=this.locationUrl+"/getWatcherDatesListSecret/"+this.token+"/resp_rest";await this.$http.post(t,a,Va).then(a=>{this.loaderCheck=!1;var t=a.data;t=t.reverse(),this.setListaDatas=t.map(a=>({text:a.slice(4,6)+"/"+a.slice(2,4)+"/20"+a.slice(0,2),value:a}))}).catch((function(a){this.loaderCheck=!1,this.setListaDatas=[]}))},botaoSelecionado(a){this.btnSel={todas:!1,ativas:!1,termiandas:!1,desligadas:!1},this.btnSel[a]=!0},async listaAcoesMaquina(){this.loaderCheck=!0,console.log("LISTA ACOES MAQUINA");var a=this.selMaquina.split("-");a=a[0],this.listaAcoes=[];var t=JSON.stringify({grupo_dlp:a,maquina:this.selMaquina,data:this.selMaquinaData,executavel:" ",user_name:" ",titulo:" ",data_inic:" ",data_fim:" ",string:" "});let e=this.locationUrl+"/gestao/listaAtividades/"+this.token+"/resp_rest";await this.$http.post(e,t,Va).then(a=>{this.loaderCheck=!1;let s=a.data,o=0,i=this.selMaquina.split("-");console.log("URL: "),console.log(e),console.log("PARAMETRO"),console.log(t),console.log("RESPOSTA REQUISICAO: "),console.log(a),s||s!==[]?(s.forEach(a=>{a.idx=o++,a.computer_name=i[1],a.cod_maquina=i[2],a.grupo_dlp=this.selMaquinaGdlp,a._showDetails=!1}),this.listaAcoes=s,console.log(this.listaAcoes),this.geraEstatisticas(),this.listaAcoesTodas(),console.log("QTD: "+this.listaAcoes.length),this.liberaLoader(this.listaAcoes.length)):this.listaAcoes=[]}).catch(a=>{this.loaderCheck=!1,this.loaderCheckUsuario=!1,a&&(this.listaAcoes=[]),console.log(a)})},listaAcoesTodas(){this.tabTitulo="Todas Atividades",this.botaoSelecionado("todas"),this.tabListaAcoes=this.listaAcoes,this.totalRows=this.tabListaAcoes.length},liberaLoader(a){let t=5*a;console.log("tempo: "+t),console.log("QTD itens: "+a),setTimeout(()=>{this.loaderCheckUsuario=!1,console.log(this.loaderCheckUsuario)},t),console.log(this.loaderCheckUsuario)},listaAcoesAtivas(){this.tabTitulo="Aplicações Ativas",this.botaoSelecionado("ativas"),this.tabListaAcoes=this.listaAcoes.filter(a=>1==a.terminada),this.totalRows=this.tabListaAcoes.length},listaAcoesTerminadas(){this.tabTitulo="Aplicações Terminadas",this.botaoSelecionado("terminadas"),this.tabListaAcoes=this.listaAcoes.filter(a=>1!==a.terminada),this.totalRows=this.tabListaAcoes.length},geraEstatisticas(){this.estatisticas={todas:0,ativas:0,terminadas:0,desligadas:0},this.estatisticas.todas=this.listaAcoes.length,this.listaAcoes.forEach(a=>{0!==a.terminada&&"false"!=a.terminada||this.estatisticas.ativas++,0===a.terminada&&"true"!=a.terminada||this.estatisticas.terminadas++})},tamanhoJanela(){return window.innerWidth},duploClickLinha(a,t){this.chkIndex!=t&&(this.tabListaAcoes.forEach(a=>a._showDetails=!1),this.chkIndex=t),a._showDetails=!a._showDetails},pegaCodMaquina(){var a=this.selMaquina.split("-");return a=a.reverse(),a[0]},pegaMaquina(){var a=this.selMaquina.split("-");a=a.reverse();var t="-"+a[0];return this.selMaquina.replace(t,"")},getParaphase(){return this.token+"%"+this.locationInfo},setCrpStorage(a){a=a;a=this.$CryptoJS.AES.encrypt(a,this.getParaphase()).toString(),localStorage.setItem("x-atv-maq",a)},getCrpStorage(){var a=localStorage.getItem("x-atv-maq");return a=a?this.$CryptoJS.AES.decrypt(a,this.getParaphase()).toString(this.CryptoJS.enc.Utf8):"",a},abreModal(a){this.$refs[a].show()},fechaModal(a){this.$refs[a].hide()},onFiltered(a){this.totalRows=a.length,this.currentPage=1}},mounted(){this.loaderCheck=!0,this.verificaMaquina(),window.onresize=this.tamanhoJanela()}},Ba=Fa,Ha=(e("c617"),Object(L["a"])(Ba,Ga,Ja,!1,null,"7847ba2e",null)),Za=Ha.exports,Qa=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"Configurações"}}),e("b-card",{staticClass:"container-full m-3 configuracoes p-0 m-0",attrs:{"no-block":"","header-bg-variant":"white"}},[e("b-container",{staticClass:"px-0"},[e("b-row",{staticClass:"mb-3",attrs:{id:"row-box-input"}},[e("b-col",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 p-2"},[e("b-card",{staticClass:"conf-item pa-0",attrs:{"body-text-variant":"grey"},on:{click:function(t){return a.abreModulo("usuarios")}}},[e("b-row",{staticClass:"flex flex-center"},[e("b-col",{staticClass:"bg-indigo text-light d-flex justify-content-center d-flex align-items-center p-3",attrs:{sm:"4",xs:"12"}},[e("b-icon",{staticClass:"conf-icon",attrs:{icon:"person-lines-fill"}})],1),e("b-col",{staticClass:"bg-light text-indigo px-3 conf-flex ajuste-botoes",attrs:{sm:"8",xs:"12"}},[e("b-card-text",[a._v("Usuários e Grupos")])],1)],1)],1)],1),e("b-col",{staticClass:"col-12 col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-4 p-2"},[e("b-card",{staticClass:"conf-item pa-0",attrs:{"body-text-variant":"grey"}},[e("form",{staticClass:"flex flex-center",attrs:{action:""+a.redirecionamento}},[e("button",{staticClass:"col-12 col-xs-12 col-sm-12 flex flex-center p-0",staticStyle:{width:"100%",height:"auto",border:"none","background-color":"transparent !important",outline:"none"},attrs:{type:"submit"}},[e("b-row",{staticClass:"flex flex-center"},[e("b-col",{staticClass:"bg-light-blue text-light text-center p-3",attrs:{sm:"4",xs:"12"}},[e("b-icon",{staticClass:"conf-icon",attrs:{icon:"server"}})],1),e("b-col",{staticClass:"bg-light text-light-blue px-0 conf-flex ajuste-botoes",attrs:{sm:"8",xs:"12"}},[e("button",{staticClass:"bg-light text-light-blue px-3 conf-flex ajuste-botoes",staticStyle:{width:"100%",height:"auto",border:"none","background-color":"transparent !important",outline:"none"}},[e("b-card-text",[a._v(" Configurações do DLP ")])],1),e("input",{directives:[{name:"model",rawName:"v-model",value:this.tokenUsuario,expression:"this.tokenUsuario"}],staticStyle:{display:"none"},attrs:{type:"text",id:"ss",name:"ss"},domProps:{value:this.tokenUsuario},on:{input:function(t){t.target.composing||a.$set(this,"tokenUsuario",t.target.value)}}})])],1)],1)])])],1)],1)],1)],1)],1)])])])},Ya=[],Wa={getToken:Xa};function Xa(){let a=JSON.parse(localStorage.getItem("user")).keyAcesssSecret,t=window.atob(a).split("^").reverse(),e=t[1].split("-");return a={user:e[0],grupoDlp:t[0]},console.log(a),a}var Ka=new Headers;Ka.append("Content-Type","application/json"),Ka.append("Cache-Control","no-cache"),Ka.append("Expires","-1"),Ka.append("Pragma","no-cache");var at={components:{"meu-painel":B["a"],"menu-lateral":H["a"],loader:U["a"]},data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,chkToken:Wa.getToken(),locationUrl:this.$store.state.variaveisAmbiente.locationUrl,redirecionamento:`https://homologa.epsoft.com.br:${this.$store.state.variaveisAmbiente.porta}/flashsafe/conf/form-Elements/configuracoes/`,loaderCheck:!1,tokenUsuario:""}},methods:{abreModulo(a){this.$router.push(a)}},mounted(){console.log(this.chkToken),this.tokenUsuario=JSON.parse(localStorage.getItem("user")).keyAcesssSecret,console.log("Teste: "+((new Date).getMinutes()-parseInt(localStorage.getItem("dataLogin")))),(new Date).getMinutes()-parseInt(localStorage.getItem("dataLogin"))>=localStorage.getItem("limiteSessao")&&(localStorage.removeItem("infoUser"),localStorage.removeItem("user"),localStorage.removeItem("dataLogin"),location.reload(!0))}},tt=at,et=(e("36b0"),Object(L["a"])(tt,Qa,Ya,!1,null,"25c9d832",null)),st=et.exports,ot=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"Dispositivos"}}),e("div",{staticClass:"container-full m-3"},[e("div",{staticClass:"row",attrs:{id:"box-tabela"}},[e("b-row",{staticClass:"mb-3",attrs:{id:"row-box-input"}},[e("b-col",{staticClass:"my-2",attrs:{xs:"12",sm:"12",md:"12"}},[e("small",[a._v("Última Verificação no Servidor: "+a._s(a.ultVerifServer))])])],1),e("b-row",[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("b-card",{attrs:{"no-block":""}},[e("div",[e("b-button-group",{staticClass:"abas-h"},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.xlsDados,name:"Lista_Maquinas.xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.getListaDispositivo()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.total?"primary":"outline-primary"},on:{click:function(t){return a.listaDispositivosTodas()}}},[a._v("Todas: "+a._s(a.estatisticas.total))]),e("b-button",{attrs:{variant:a.btnSel.liberado?"primary":"outline-primary"},on:{click:function(t){return a.listaDispositivosLiberados()}}},[a._v("Liberados: "+a._s(a.estatisticas.liberado))]),e("b-button",{attrs:{variant:a.btnSel.bloqueado?"primary":"outline-primary"},on:{click:function(t){return a.listaDispositivosBloqueados()}}},[a._v("Bloqueados: "+a._s(a.estatisticas.bloqueado))]),e("b-button",{attrs:{variant:a.btnSel.pendente?"primary":"outline-primary"},on:{click:function(t){return a.listaDispositivosPendentes()}}},[a._v("Pendentes: "+a._s(a.estatisticas.pendente))])],1),e("b-button-group",{staticClass:"abas-v",attrs:{vertical:""}},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.tabListaDispositivos,name:"Lista_Maquinas.xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.getListaDispositivo()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.total?"primary":"outline-primary"},on:{click:function(t){return a.listaDispositivosTodas()}}},[a._v("Todas: "+a._s(a.estatisticas.total))]),e("b-button",{attrs:{variant:a.btnSel.liberado?"primary":"outline-primary"},on:{click:function(t){return a.listaDispositivosLiberados()}}},[a._v("Liberados: "+a._s(a.estatisticas.liberado))]),e("b-button",{attrs:{variant:a.btnSel.bloqueado?"primary":"outline-primary"},on:{click:function(t){return a.listaDispositivosBloqueados()}}},[a._v("Bloqueados: "+a._s(a.estatisticas.bloqueado))]),e("b-button",{attrs:{variant:a.btnSel.pendente?"primary":"outline-primary"},on:{click:function(t){return a.listaDispositivosPendentes()}}},[a._v("Pendentes: "+a._s(a.estatisticas.pendente))])],1)],1),e("hr",{staticClass:"my-0"}),e("b-row",{staticClass:"pt-3 bg-ice"},[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("h3",[a._v(a._s(a.tabTitulo))])]),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"4"}},[e("b-form-group",{attrs:{description:"Pesquise no resultado"}},[e("b-form-input",{attrs:{type:"search",placeholder:"Busca",size:"sm"},model:{value:a.filter,callback:function(t){a.filter=t},expression:"filter"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12 ",md:"2"}},[e("b-form-group",{attrs:{description:"por página"}},[e("b-form-select",{attrs:{options:a.pageOptions,size:"sm"},model:{value:a.perPage,callback:function(t){a.perPage=t},expression:"perPage"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"6"}},[e("b-form-group",[e("small",[a._v(a._s("Total de Registros: "+a.totalRows))]),e("br"),e("b-pagination",{attrs:{"total-rows":a.totalRows,"per-page":a.perPage,size:"sm"},model:{value:a.currentPage,callback:function(t){a.currentPage=t},expression:"currentPage"}})],1)],1)],1),e("b-row",{attrs:{id:"box-tabela"}},[e("b-col",[e("div",{staticClass:"e-tab"},[a.listaDispositivos?e("b-table",{ref:"tabDispositivos",staticClass:"tab-dispositivos mb-0",attrs:{id:"tabDispositivos","show-empty":"",small:"",striped:"",stacked:"md",items:a.tabListaDispositivos,fields:a.titTabela,"current-page":a.currentPage,"per-page":a.perPage,filter:a.filter,"tbody-tr-class":a.rowDisable,"empty-text":"Não há registro para sua pesquisa."},on:{filtered:a.onFiltered,"row-clicked":a.duploClickLinha},scopedSlots:a._u([{key:"cell(maquina)",fn:function(t){return[e("div",[a._v(" "+a._s("*"==t.item.maquina?"Todas as máquinas":t.item.maquina)+" ")])]}},{key:"cell(id_alarme)",fn:function(t){return[e("div",[a._v(" "+a._s(""===t.item.id_alarme?"Não atribuido":t.item.id_alarme)+" ")])]}},{key:"cell(dataCadastramento)",fn:function(t){return[e("div",{staticClass:"text-center"},[a._v(" "+a._s(a.formatData(t.item.dataCadastramento))+" ")])]}},{key:"cell(data_alteracao)",fn:function(t){return[e("div",{staticClass:"text-center"},[a._v(" "+a._s(t.item.data_alteracao?a.formatData(t.item.data_alteracao):"-")+" ")])]}},{key:"cell(actions)",fn:function(t){return[e("div",{staticClass:"text-left"},[e("b-button-group",["bloqueado"===t.item.status?e("b-button",{staticClass:"btn-white",attrs:{title:"Dispositivo Bloqueado",variant:"outline-warning",size:"sm"},on:{click:function(e){return a.abreComponentes("dispEdita",t.item,t.item.idx)}}},[e("b-iconstack",{staticClass:"mx-1",attrs:{"font-scale":"1.5"}},[e("b-icon",{attrs:{icon:"hdd-fill",scale:"1.2"}}),e("b-icon",{attrs:{icon:"slash-circle",scale:"1.8"}})],1)],1):a._e(),"LIBERADO"===t.item.status?e("b-button",{attrs:{title:"Dispositivo Liberado",size:"sm",variant:"outline-success"},on:{click:function(e){return a.abreComponentes("dispEdita",t.item,t.item.idx)}}},[e("b-icon",{staticClass:"mx-1",attrs:{icon:"hdd-fill","font-scale":"2.5"}})],1):a._e(),"LIBERADO"!==t.item.status&&"bloqueado"!==t.item.status?e("b-button",{attrs:{title:"Dispositivo Pendente",size:"sm",variant:"outline-secondary"},on:{click:function(e){return a.abreComponentes("dispEdita",t.item,t.item.idx)}}},[e("b-icon",{staticClass:"mx-1",attrs:{icon:"exclamation-triangle-fill","font-scale":"2.5"}})],1):a._e(),e("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:t.toggleDetails}},[e("b-icon",{attrs:{icon:"info-circle"}})],1),e("b-dropdown",{attrs:{size:"sm",title:"Mais ações",right:"",variant:"primary","no-caret":""},scopedSlots:a._u([{key:"button-content",fn:function(){return[e("b-icon",{attrs:{icon:"three-dots","font-scale":"1.5"}})]},proxy:!0}],null,!0)},[t.item?e("sub-menu",{attrs:{modulo:"dispositivo",dados:t.item,subMenu:a.listaSubMenu,indice:t.item.idx},on:{carregaDados:function(t){return a.getListaDispositivo()}}}):a._e()],1)],1),e("edita-disp",{attrs:{dados:t.item,idx:t.item.idx},on:{carregaDados:function(t){return a.getListaDispositivo()}}}),e("remove-disp",{attrs:{dados:t.item,idx:t.item.idx},on:{carregaDados:function(t){return a.getListaDispositivo()}}})],1)]}},{key:"row-details",fn:function(t){return[e("b-card",{staticClass:"linha-detalhe m-2"},[t.item.comentarios?e("b-table",{staticClass:"tab-disp-log mb-0",attrs:{small:"",stacked:"md",items:a.arrComents(t.item.comentarios),fields:a.titTabComents},scopedSlots:a._u([{key:"cell(stt)",fn:function(t){return["LIBERADO"!==t.item.stt?e("div",{staticClass:"text-warning"},[e("b-iconstack",{staticClass:"mx-2",attrs:{"font-scale":"1.5"}},[e("b-icon",{attrs:{icon:"hdd-fill",scale:"1.2"}}),e("b-icon",{attrs:{icon:"slash-circle",scale:"1.8"}})],1),a._v(" Bloqueado ")],1):e("div",{staticClass:"text-success"},[e("b-icon",{staticClass:"mx-1",attrs:{icon:"hdd-fill","font-scale":"2.5"}}),a._v(" Liberado ")],1)]}},{key:"cell(data)",fn:function(t){return[a._v(" "+a._s(a.formatData(t.item.data))+" ")]}},{key:"cell(msg)",fn:function(t){return[e("div",{domProps:{innerHTML:a._s(t.item.msg)}})]}}],null,!0)}):e("b-alert",{attrs:{variant:"info",show:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:"info-circle-fill","font-scale":"2.5"}}),a._v(" Não há registro para esse dispositivo ")],1)],1)]}}],null,!1,3312703553)}):a._e()],1)])],1)],1)],1)],1)],1)])],1)])]),e("loader",{attrs:{status:a.loaderCheck}})],1)},it=[],rt=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"dispEdita"+a.idx,attrs:{"ok-only":"",id:"dispEdita"+a.idx,size:"md","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" "+a._s("LIBERADO"!==a.dadosDisp.status?"Liberar":"Bloquear")+" Dispositivo: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"success",disabled:!a.verificaChat()},on:{click:function(t){return a.alteraStatus()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"pencil"}}),a._v(" Alterar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Grupo DLP / Código de Máquina:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosDisp.grupo_dlp+" / "+("*"==a.dadosDisp.maquina?"Todas as máquinas":a.dadosDisp.maquina)))])])]),e("div",{staticClass:"row"},[a.dadosDisp.codigo_dispositivo?e("div",{staticClass:"col-xs-12 col-sm-6  pb-3"},[e("span",[a._v("Cod. Dispositivo:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosDisp.codigo_dispositivo))])]):a._e(),a.dadosDisp.id_alarme?e("div",{staticClass:"col-xs-12 col-sm-6 pb-3"},[e("span",[a._v("ID do Alerta:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosDisp.id_alarme))])]):a._e(),a.dadosDisp.status?e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Alterar o status para:")]),e("br"),e("b-card",{staticClass:"disp-status text-uppercase",attrs:{"body-bg-variant":"#f9f9f9","body-text-variant":"LIBERADO"!==a.dadosDisp.status?"success":"warning"}},[e("b-card-text",["LIBERADO"!==a.dadosDisp.status?e("b-icon",{staticClass:" mx-2",attrs:{icon:"hdd-fill","font-scale":"1"}}):e("b-iconstack",{staticClass:"mx-2",attrs:{"font-scale":"1"}},[e("b-icon",{attrs:{icon:"hdd-fill",scale:"1"}}),e("b-icon",{attrs:{icon:"slash-circle",scale:"1.6"}})],1),e("strong",[a._v(a._s("LIBERADO"!==a.dadosDisp.status?"Liberado":"Bloqueado"))])],1)],1)],1):a._e(),e("div",{staticClass:"col-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Comentario:","label-for":"dispComentario"}},[e("b-form-textarea",{staticClass:"comentario",attrs:{id:"dispComentario",state:a.valida.mensagem,placeholder:"Coloque pelo menos 3 caracteres","no-resize":"",rows:"4"},model:{value:a.mensagem,callback:function(t){a.mensagem=t},expression:"mensagem"}})],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},lt=[];const nt=ambientes.ativo[0].url+":"+ambientes.ativo[0].porta_api;var ct=new Headers;ct.append("Content-Type","application/json"),ct.append("Content-Type","text/plain"),ct.append("Cache-Control","no-cache"),ct.append("Expires","-1"),ct.append("Pragma","no-cache");var dt={props:["dados","idx","dados.id_dispositivo"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,ambiente:this.$store.state.variaveisAmbiente.ambiente,loaderCheck:!1,dadosDisp:this.dados,mensagem:"",valida:{mensagem:null},resposta:{status:0,texto:""}}},watch:{modalDesliga(a){this.modal=a},dados(a){this.dadosDisp=a}},methods:{dataAgora(){let a=new Date,t=a.toString().split(" "),e=a.getDate();e<10&&(e="0"+e);let s=a.getMonth()+1;s<10&&(s="0"+s);let o=a.getFullYear(),i=`${o.toString()}-${s.toString()}-${e.toString()} ${t[4]}`;return i},getUser(){let a=window.atob(this.token);return a=a.split("-"),a[0]},verificaChat(){var a=this.mensagem.length;return this.valida.mensagem=a>2||null,this.valida.mensagem},async alteraStatus(){this.loaderCheck=!0;let a=this.arrComents();console.log("ENTROU NO METODO: alteraStatus()");let t="LIBERADO"!==this.dadosDisp.status?"LIBERADO":"BLOQUEADO",e=JSON.stringify({tabela_end_point:"dispositivos",campos_select_end_point:"codigo_dispositivo",codigo_dispositivo:this.dadosDisp.codigo_dispositivo,status:t,id_dispositivo:"",grupo_dlp:this.dadosDisp.grupo_dlp,maquina:this.dadosDisp.maquina,dataCadastramento:this.dadosDisp.dataCadastramento,id_alarme:this.dadosDisp.id_alarme,login_user:this.getUser(),data_alteracao:this.dataAgora(),comentarios:a}),s=`${nt}/api/dispositivos/updatestatuspen/${this.dadosDisp.maquina}/${this.ambiente}/${this.token}`;console.log("DADOS PENDRIVE: "),console.log(e),console.log("dadosDisp"),console.log(),console.log(s),await this.$http.put(s,e,ct).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0),this.valida.mensagem=null,this.mensagem=""}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},async alteraPendriveReiniciar(){this.loaderCheck=!0,console.log("CHAMOU O NOVO METODO DE REINICIAR DLP PENDRIVE");let a=`${this.locationUrl}/subMenu/reInicDlp/${this.token}/${this.dadosDisp.maquina}/resp_rest`;console.log("URL: "+a),await this.$http.get(a,ct).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0),this.valida.mensagem=null,this.mensagem=""}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},arrComents(){console.log("dadosDisp.comentarios: "+this.dadosDisp.comentarios);let a=this.dadosDisp.comentarios,t="LIBERADO"!==this.dadosDisp.status?"LIBERADO":"BLOQUEADO";return a=a.indexOf("**")>-1?a.replaceAll("**",'"'):"[]",a=JSON.parse(a),a.push({msg:this.mensagem,user:this.getUser(),data:this.dataAgora(),stt:t}),a=JSON.stringify(a).replaceAll('"',"**"),a=a.indexOf("\\n")>-1?a.replaceAll("\\n","<br>"):a,a},respostasEnvio(a){a?(this.resposta={status:1,texto:`Alteração do dispositivo com código "${this.dadosDisp.codigo_dispositivo}" realizado com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},1500),setTimeout(()=>{this.fechaModal(),this.$emit("carregaDados")},1600)):(this.resposta={status:2,texto:`Falha ao realizar alteração do dispositivo com código "${this.dadosDisp.codigo_dispositivo}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},1500))},fechaModal(){this.$refs["dispEdita"+this.idx].hide()},abreModal(){this.$refs["dispEdita"+this.idx].hide()}},mounted(){this.fechaModal(),this.dataAgora()}},ut=dt,pt=(e("c826"),Object(L["a"])(ut,rt,lt,!1,null,null,null)),mt=pt.exports,ht=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("b-modal",{ref:"dispRemove"+a.idx,attrs:{"ok-only":"",id:"dispRemove"+a.idx,size:"md","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Remove Dispositivo: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"warning",disabled:!a.verificaRemove()},on:{click:function(t){return a.removeDispositivo()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"trash-fill"}}),a._v(" Remover ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Grupo DLP / Código de Máquina:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosDisp.grupo_dlp+" / "+a.dadosDisp.maquina))])]),e("div",{staticClass:"col-12  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Confirmação de Remoção:","label-for":"dispRemove"}},[e("b-form-checkbox",{staticClass:"disp-remove",attrs:{id:"dispRemove","button-variant":"danger",value:"true","unchecked-value":"false",switch:""},model:{value:a.valida.remove,callback:function(t){a.$set(a.valida,"remove",t)},expression:"valida.remove"}},[a._v(" Você tem certeza que deseja remover o dispositivo de código "),e("strong",[a._v(a._s(a.dadosDisp.codigo_dispositivo))]),a._v("? ")])],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])],1)},vt=[],bt=new Headers;bt.append("Content-Type","application/json"),bt.append("Content-Type","text/plain"),bt.append("Cache-Control","no-cache"),bt.append("Expires","-1"),bt.append("Pragma","no-cache");var gt={props:["dados","idx","id_dispositivo"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,modal:!1,dadosDisp:this.dados,valida:{remove:null},resposta:{status:0,texto:""}}},watch:{modalDesliga(a){this.modal=a},dados(a){this.dadosDisp=a}},methods:{verificaRemove(){return"true"===this.valida.remove},removeDispositivo(){this.loaderCheck=!0;let a=JSON.stringify({tabela:"dispositivos",select:"codigo_dispositivo='"+this.dadosDisp.codigo_dispositivo+"'"}),t=`${this.locationUrl}/sql/deleteSql/${this.token}/resp_rest`;this.$http.post(t,a,bt).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0),this.valida.remove=!1}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`O dispositivo "${this.dadosDisp.codigo_dispositivo}" foi removido com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal(),this.$emit("carregaDados")},3600)):(this.resposta={status:2,texto:`Falha ao remover o dispositivo "${this.dadosDisp.codigo_dispositivo}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},fechaModal(){this.$refs["dispRemove"+this.idx].hide(),this.valida.remove=!1},abreModal(){this.$refs["dispRemove"+this.idx].hide()}},mounted(){this.fechaModal()}},ft=gt,At=(e("e350"),Object(L["a"])(ft,ht,vt,!1,null,null,null)),Ct=At.exports;e("caf9"),e("d7e8");var _t=new Headers;_t.append("Content-Type","application/json"),_t.append("Cache-Control","no-cache"),_t.append("Expires","-1"),_t.append("Pragma","no-cache"),_t.append("Access-Control-Allow-Origin","*");var xt={components:{"meu-painel":B["a"],"menu-lateral":H["a"],"sub-menu":Z["a"],"edita-disp":mt,"remove-disp":Ct,loader:U["a"]},data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!0,listaSubMenu:["sms","chat","email"],ultVerifServer:"",modVersaoDLP:!1,versaoDLP:{maquina:"",codigo:"",versao:""},listaDispositivos:[],listaMaquinas:[],tabListaDispositivos:[],tabTitulo:"Total de Dispositivos",evidencias:[],imgFull:"",chkIndex:null,modSelMaquina:!1,getItems:[],titTabela:[{key:"actions",label:"Ações"},{key:"codigo_dispositivo",label:"Cód Dispositivo",sortable:!0,class:"text-left"},{key:"maquina",label:"Cód. Máquina",sortable:!0,class:"text-left"},{key:"grupo_dlp",label:"Grupo DLP",sortable:!0,class:"text-left"},{key:"id_alarme",label:"Id Alarme",sortable:!0,class:"text-left"},{key:"login_user",label:"Gerenciado por",sortable:!0,class:"text-left"},{key:"dataCadastramento",label:"Cadastrado em",sortable:!0,class:"text-left"}],titTabComents:[{key:"stt",label:"Status",sortable:!0,class:"text-left"},{key:"data",label:"Data da Alteração",sortable:!0,class:"text-left"},{key:"user",label:"Usuário",sortable:!0,class:"text-left"},{key:"msg",label:"Comentário",sortable:!0,class:"text-left"}],estatisticas:{total:0,liberado:0,bloqueado:0,pendente:0},btnSel:{total:!1,liberado:!1,bloqueado:!1,pendente:!1},totalRows:1,currentPage:1,perPage:20,pageOptions:[10,20,50,100],filter:null,infoModal:{id:"info-modal",title:"",content:""},text:"",xlsTitulo:{"Máquina Ativa":"ativo","Código da Máquina":"cod_maquina","Máquina":"computer_name",Discos:"discos","Última Atividade":"ult_atividade","Login na Máquina":"user_name","Grupo DLP":"grupo_dlp","Versão do DLP":"versoes"},xlsDados:[]}},computed:{sortOptions(){return this.fields.filter(a=>a.sortable).map(a=>({text:a.label,value:a.key}))}},watch:{totalRows(a){this.totalRows=a},tabListaDispositivos(a){this.geraXls(a)},listaDispositivos(a){this.geraEstatisticas()},getItems(a){this.getItems=a}},methods:{geraXls(a){var t=a;t&&(this.xlsDados=t)},horaFormat(a){var t=new Date(a).toString();return t=t.split(" GMT"),t=t[0].split(" ").reverse(),t=t[0],t},formatDateMilisec(a){let t=a,e=108e5;t-=e,t=new Date(t);var s=t.getDate(),o=t.getMonth()+1,i=t.getFullYear(),r=t.getUTCHours(),l=t.getMinutes(),n=t.getSeconds(),c=`${s<10?"0"+s:s}/${o<10?"0"+o:o}/${i} - ${r<10?"0"+r:r}:${l<10?"0"+l:l}:${n<10?"0"+n:n}`;return c},formatData(a){let t=a;if(t){t=t.split(" ");let a=t[0].split("-").reverse(),e=t[1];return`${a[0]}/${a[1]}/${a[2]} ${e}`}return""},htmlFormat(a){let t=a;t=t.replace(/=(\r\n|\n|\r)/gm,"<br>")},botaoSelecionado(a){this.btnSel={total:!1,liberado:!1,bloqueado:!1,pendentes:!1},this.btnSel[a]=!0},rowDisable(a,t){if(a&&null!==a.maq_ativa)return"false"===a.maq_ativa?"inativo":"ativo"},abreComponentes(a,t,e){this.getItens=t,this.$bvModal.show(a+e)},geraStatus(a){var t=a;return t%=3,0===t?"LIBERADO":1===t?"BLOQUEADO":2===t?"PENDENTE":"LIBERADO"},duploClickLinha(a,t){this.chkIndex!==t&&(this.tabListaDispositivos.forEach(a=>a._showDetails=!1),this.chkIndex=t),a._showDetails=!a._showDetails},arrComents(a){let t=a;return t=t.indexOf("**")>-1?t.replaceAll("**",'"'):"[]",t=JSON.parse(t).reverse(),t},async getListaDispositivo(){this.loaderCheck=!0;let a=JSON.stringify({tabela:"dispositivos",select:"1=1",pagina:"1",qt:"500",campos_select_end_point:"grupo_dlp^maquina^codigo_dispositivo^dataCadastramento^status^id_alarme^login_user^data_alteracao^comentarios"}),t=this.locationUrl+"/sql/selectSql/"+this.token+"/resp_rest";console.log("Parametros: "),console.log(a),console.log("URL: "),console.log(t),await this.$http.post(t,a,_t).then(a=>{console.log("Resposta: "),console.log(a),console.log("Resposta body: "),console.log(a.bodyText),console.log("Resposta Body: "),console.log(JSON.stringify(a)),this.loaderCheck=!1;let t=a.bodyText;if(t=t.replaceAll(/\n/gi,""),t=JSON.parse(t),console.log("Minha resposta dos dispositivos: "),console.log(t),t){let a=0;t.forEach(t=>{t.idx=a++,t.status=t.status?t.status:"PENDENTE",t.login_user=t.login_user?t.login_user:"Não atribuido",t._showDetails=!1}),this.listaDispositivos=t,this.geraEstatisticas(),this.listaDispositivosTodas()}else this.listaDispositivos=[],this.geraEstatisticas(),this.listaDispositivosTodas();this.ultVerifServer=this.formatDateMilisec(Date.now())}).catch(a=>{this.loaderCheck=!1,this.listaDispositivos=[],this.listaDispositivosTodas(),this.ultVerifServer=this.formatDateMilisec(Date.now()),console.log(a)})},listaDispositivosTodas(){this.tabTitulo="Total de Dispositivos",this.botaoSelecionado("total"),this.tabListaDispositivos=this.listaDispositivos,this.totalRows=this.tabListaDispositivos.length},listaDispositivosLiberados(){this.tabTitulo="Dispositivos Liberados",this.botaoSelecionado("LIBERADO"),this.tabListaDispositivos=this.listaDispositivos.filter(a=>"LIBERADO"==a.status),this.totalRows=this.tabListaDispositivos.length},listaDispositivosBloqueados(){this.tabTitulo="Dispositivos Inativos",this.botaoSelecionado("BLOQUEADO"),this.tabListaDispositivos=this.listaDispositivos.filter(a=>"BLOQUEADO"==a.status),this.totalRows=this.tabListaDispositivos.length},listaDispositivosPendentes(){this.tabTitulo="Dispositivos Pendentes",this.botaoSelecionado("PENDENTE"),this.tabListaDispositivos=this.listaDispositivos.filter(a=>"PENDENTE"==a.status),this.totalRows=this.tabListaDispositivos.length},geraEstatisticas(){this.estatisticas={total:0,liberado:0,bloqueado:0,pendente:0},this.estatisticas.total=this.listaDispositivos.length,this.listaDispositivos.forEach(a=>{"LIBERADO"==a.status&&this.estatisticas.liberado++,"BLOQUEADO"===a.status&&this.estatisticas.bloqueado++,"PENDENTE"===a.status&&this.estatisticas.pendente++})},abreModal(a){this.$refs[a].show()},fechaModal(a){this.$refs[a].hide()},onFiltered(a){this.totalRows=a.length,this.currentPage=1}},mounted(){this.getListaDispositivo()}},kt=xt,St=(e("3791"),Object(L["a"])(kt,ot,it,!1,null,"6acc7ac5",null)),yt=St.exports,Mt=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"PALAVRAS SENSÍVEIS"}}),e("div",{staticClass:"container-full m-3"},[e("div",{staticClass:"row",attrs:{id:"box-tabela"}},[e("b-row",{staticClass:"mb-3",attrs:{id:"row-box-input"}},[e("b-col",{staticClass:"my-2",attrs:{xs:"12",sm:"6",md:"7"}},[e("small",[a._v("Última Verificação no Servidor: "+a._s(a.ultVerifServer))])]),e("b-col",{staticClass:"text-right",attrs:{xs:"12",sm:"6",md:"5"}},[e("b-button-group",{staticStyle:{"white-space":"nowrap"}},[e("b-button",{attrs:{variant:"primary",disabled:a.ativa.btnListaArquivos},on:{click:function(t){return a.abreModal("plvMaq")}}},[e("b-icon",{attrs:{icon:"display"}}),a._v(" Proc. Arquivo/Maquina")],1),e("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a.abreModal("plvNova")}}},[e("b-icon",{attrs:{icon:"plus"}}),a._v(" Adicionar Palavras")],1)],1),e("nova-plv",{attrs:{listaTipo:a.selTipo,listaGravidade:a.selGravidade},on:{carregaDados:function(t){return a.getListaPalavras()}}}),e("maq-plv",{attrs:{arquivos:a.listaArquivos}})],1)],1),e("b-row",[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("b-card",{attrs:{"no-block":""}},[e("div",[e("b-button-group",{staticClass:"abas-h"},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.xlsDados,name:"Lista_Maquinas.xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.getListaPalavras()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1)],1),e("b-button-group",{staticClass:"abas-v",attrs:{vertical:""}},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.xlsDados,name:"Lista_Maquinas.xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.getListaPalavras()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1)],1)],1),e("hr",{staticClass:"my-0"}),e("b-row",{staticClass:"pt-3 bg-ice"},[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("h3",[a._v(a._s(a.tabTitulo)+" "+a._s(a.currentPage))])]),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"4"}},[e("div",{staticStyle:{display:"flex","justify-content":"space-around"}},[e("b-form-group",{staticStyle:{padding:"0% 2% 0% 0%",width:"96% !important"},attrs:{description:"Pesquisa na Tabela"}},[e("b-form-input",{attrs:{type:"search",placeholder:"Busca",size:"sm"},on:{blur:function(t){return a.getListaPalavras()},keyup:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.getListaPalavras()}},model:{value:a.filter,callback:function(t){a.filter=t},expression:"filter"}})],1),e("div",{staticClass:"pt-1",staticStyle:{padding:"0 !important",margin:"0 !important"}},[e("b-button",{staticStyle:{padding:"6% !important",margin:"0 !important","font-size":"14px !important"},attrs:{variant:"primary"},on:{click:function(t){return a.getListaPalavras()}}},[a._v("Pesquisar")])],1),e("div",{staticClass:"excluir"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"excluir-btn",attrs:{variant:"danger",title:"Excluir todas as palavras"},on:{click:a.mostrarModalExcluirPalavrasSensiveis}},[a._v("X")])],1)],1)]),e("b-modal",{ref:"excluirPalavrasSensiveis-modal",attrs:{centered:"","hide-footer":"",title:"Menu | Excluir PALAVRAS CLASSIFICADAS"}},[e("div",{staticClass:"d-block text-center"},[e("p",[e("strong",[a._v("Atenção")]),a._v(", você está prestes a excluir todas as palavras da lista de PALAVRAS CLASSIFICADAS, deseja realmente realizar esta ação?")]),e("strong",[a._v("OBS.: Esta ação será irreversível.")])]),e("div",{staticClass:"configuracao-botoes-modal-excluir-palavras-sensiveis"},[e("b-button",{staticClass:"mt-3 botao-modal",attrs:{variant:"outline-danger",block:""},on:{click:a.esconderModalExcluirPalavrasSensiveis}},[a._v("Cancelar")]),e("b-button",{staticClass:"mt-3 botao-modal",attrs:{variant:"outline-success",block:""},on:{click:function(t){return a.deleteListaPalavrasSensiveis()}}},[a._v("Confirmar")])],1)]),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12 ",md:"2"}},[e("b-form-group",{attrs:{description:"por página"}},[e("b-form-select",{attrs:{options:a.pageOptions,size:"sm"},model:{value:a.perPage,callback:function(t){a.perPage=t},expression:"perPage"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"6"}},[e("b-form-group",[e("small",[a._v(a._s("Registros na Tabela: "+a.totalRows))]),e("br"),e("b-button-group",{staticClass:"float-right"},[e("b-button",{attrs:{title:"Primeira Página",size:"sm",variant:"outline-secondary",disabled:1==a.currentPage},on:{click:function(t){a.currentPage=1}}},[e("b-icon",{staticClass:"my-1",attrs:{icon:"chevron-double-left","font-scale":"0.7em"}})],1),e("b-button",{attrs:{title:"Página Anterior",size:"sm",variant:"outline-secondary",disabled:1==a.currentPage},on:{click:function(t){a.currentPage=a.currentPage-1}}},[e("b-icon",{staticClass:"my-1",attrs:{icon:"chevron-left","font-scale":"0.7em"}})],1),a.currentPage-1>2?e("b-button",{attrs:{title:"Página "+(a.currentPage-1),size:"sm",variant:"outline-primary"},on:{click:function(t){a.currentPage=a.currentPage-2}}},[a._v(" "+a._s(a.currentPage-2)+" ")]):a._e(),a.currentPage-1>0?e("b-button",{attrs:{title:"Página "+(a.currentPage-1),size:"sm",variant:"outline-primary"},on:{click:function(t){a.currentPage=a.currentPage-1}}},[a._v(" "+a._s(a.currentPage-1)+" ")]):a._e(),e("b-button",{attrs:{title:"Página Atual",size:"sm",variant:"primary"}},[a._v(" "+a._s(a.currentPage)+" ")]),e("b-button",{attrs:{title:"Página "+(a.currentPage+1),size:"sm",variant:"outline-primary",disabled:a.totalRows<=a.perPage},on:{click:function(t){a.currentPage=a.currentPage+1}}},[a._v(" "+a._s(a.currentPage+1)+" ")]),e("b-button",{attrs:{title:"Página Próxima",size:"sm",variant:"outline-secondary",disabled:a.totalRows<a.perPage},on:{click:function(t){a.currentPage=a.currentPage+1}}},[e("b-icon",{staticClass:"my-1",attrs:{icon:"chevron-right","font-scale":"0.7em"}})],1)],1)],1)],1)],1),e("b-row",{attrs:{id:"box-tabela"}},[e("b-col",[e("div",{staticClass:"e-tab"},[a.listaPalavras?e("b-table",{ref:"tabPalavras",staticClass:"tab-palavras mb-0",attrs:{id:"tabPalavras","show-empty":"",small:"",striped:"",stacked:"md",items:a.tabListaPalavras,fields:a.titTabela,filter:a.filter,"empty-text":"Não há registro para sua pesquisa."},on:{filtered:a.onFiltered},scopedSlots:a._u([{key:"cell(gravidade)",fn:function(t){return["3"==t.item.gravidade||"GRAVISSIMO"==t.item.gravidade?e("span",{staticClass:"gravissimo p-2"},[a._v("Gravíssimo")]):"2"==t.item.gravidade||"GRAVE"==t.item.gravidade?e("span",{staticClass:"grave p-2"},[a._v("Grave")]):"1"==t.item.gravidade||"SERIO"==t.item.gravidade?e("span",{staticClass:"serio p-2"},[a._v("Sério")]):e("span",{staticClass:"info p-2"},[a._v("Neutro")])]}},{key:"cell(palavra)",fn:function(t){return[e("div",{staticClass:"wrap"},[a._v(" "+a._s(t.item.palavra)+" ")])]}},{key:"cell(fonetico)",fn:function(t){return[e("div",{staticClass:"wrap"},[a._v(" "+a._s(t.item.fonetico)+" ")])]}},{key:"cell(dataCriacao)",fn:function(t){return[e("div",[a._v(" "+a._s(t.item.dataCriacao)+" ")])]}},{key:"cell(actions)",fn:function(t){return[e("div",{staticClass:"text-letf"},[e("b-button-group",{staticClass:"btn-grupo-acoes"},[e("b-button",{attrs:{title:"Status "+("ATIVA"===t.item.status?"Ativada":"Inativada")+" ",size:"sm",variant:"ATIVA"===t.item.status?"outline-success":"outline-warning"},on:{click:function(e){return a.getStatus(t.item,t.index)}}},["ATIVA"===t.item.status?e("b-icon",{staticClass:"mx-1",attrs:{icon:"chat-left-text-fill","font-scale":"2.5"}}):e("b-iconstack",{staticClass:"mx-1",attrs:{"font-scale":"1.5"}},[e("b-icon",{attrs:{icon:"chat-right-text-fill",scale:"0.8"}}),e("b-icon",{attrs:{icon:"slash-circle",scale:"2.0"}})],1)],1),e("b-button",{attrs:{title:"Editar Palavra Sensível",size:"sm",variant:"outline-primary"},on:{click:function(e){return a.abreComponentes("plvEdita",t.item)}}},[e("b-icon",{staticClass:"mx-1",attrs:{icon:"pencil","font-scale":"2.5"}})],1),e("b-button",{attrs:{title:"Remove Palavra",size:"sm",variant:"danger"},on:{click:function(e){return a.abreComponentes("plvRemove",t.item)}}},[e("b-icon",{attrs:{icon:"trash-fill","font-scale":"1.5"}})],1)],1)],1)]}}],null,!1,3770830955)}):a._e(),a.tabListaPalavras?e("remove-plv",{attrs:{dados:a.getItens},on:{carregaDados:function(t){return a.getListaPalavras()}}}):a._e(),a.tabListaPalavras?e("edita-plv",{attrs:{dados:a.getItens,listaTipo:a.selTipo,listaGravidade:a.selGravidade},on:{carregaDados:function(t){return a.getListaPalavras()}}}):a._e()],1)])],1)],1)],1)],1)],1)])],1)])]),e("loader",{attrs:{status:a.loaderCheck}})],1)},Dt=[],wt=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("b-modal",{ref:"plvNova",attrs:{"ok-only":"",id:"plvNova",size:"md","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Adiciona Palavra ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"success",disabled:!a.chkAddPalavra()},on:{click:function(t){return a.getAddPalavras()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"plus"}}),a._v(" Incluir Palavras ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.limpaPalavras("plvNova")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}])},[a.dadosPlv?e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Insira as palavras","label-for":"plvListaPalavra",description:"Separe as palavras com virgula (,) ou [Entre]. Quantidade de palavras "+(a.listaPalavra?a.listaPalavra.length:0)}},[e("b-form-tags",{staticStyle:{"min-height":"60px"},attrs:{"input-id":"plvListaPalavra",separator:",",state:a.valida.listaPalavra=a.listaPalavra.length>0,placeholder:a.listaPalavra.length>0?"Insira mais palavras":"Coloque suas palavras",addButtonText:"Inserir"},model:{value:a.listaPalavra,callback:function(t){a.listaPalavra=t},expression:"listaPalavra"}})],1)],1),a.listaTipo?e("div",{staticClass:"col-xs-12 col-sm-12  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Tipo","label-for":"plvTipo"}},[e("b-form-input",{attrs:{list:"lista-tipos",state:a.valida.tipo=!!a.setTipo,maxlength:"30"},on:{keyup:function(t){return a.chkTipo(a.setTipo)}},model:{value:a.setTipo,callback:function(t){a.setTipo=t},expression:"setTipo"}}),e("datalist",{attrs:{id:"lista-tipos"}},a._l(a.listaTipo,(function(t){return e("option",{key:t},[a._v(a._s(t))])})),0)],1)],1):a._e(),e("div",{staticClass:"col-xs-12 col-sm-12  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Tipo de Gravidade","label-for":"plvGravidade"}},[e("b-form-input",{attrs:{list:"lista-gravidades",state:a.valida.setGravidadeOpcao=a.setGravidadeOpcao.length>0,maxlength:"30"},on:{keyup:function(t){return a.chkGravidadeOpcao(a.setGravidadeOpcao)}},model:{value:a.setGravidadeOpcao,callback:function(t){a.setGravidadeOpcao=t},expression:"setGravidadeOpcao"}}),e("datalist",{attrs:{id:"lista-gravidades"}},a._l(a.opcoesDeGravidade,(function(t){return e("option",{key:t},[a._v(a._s(t))])})),0)],1)],1),e("div",{staticClass:"col-xs-12 col-sm-12  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Grupo DLP","label-for":"gruposDLPs"}},[e("b-form-input",{attrs:{list:"lista-grupos",state:a.valida.grupoSelecionado=a.grupoSelecionado.length>0,maxlength:"30"},on:{keyup:function(t){return a.selecaoDeGrupo(a.grupoSelecionado)}},model:{value:a.grupoSelecionado,callback:function(t){a.grupoSelecionado=t},expression:"grupoSelecionado"}}),e("datalist",{attrs:{id:"lista-grupos"}},a._l(a.gruposDLPs,(function(t){return e("option",{key:t},[a._v(a._s(t))])})),0)],1)],1)])]):a._e()]),e("b-modal",{ref:"plvConf",attrs:{"ok-only":"",id:"plvConf",size:"xl","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Adiciona PALAVRAS CLASSIFICADAS ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"success"},on:{click:function(t){return a.salvaPalavra()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"check"}}),a._v(" Salvar Palavras ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.limpaPalavras("plvConf")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Fechar ")],1)],1)]},proxy:!0}])},[a.dadosPlv?e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 col-sm-12 p-0 pb-3"},[a.dadosPlv?e("b-table",{ref:"tabAddPalavras",staticClass:"tab-add-palavras mb-0",attrs:{id:"tabAddPalavras","show-empty":"",small:"",striped:"",stacked:"md",items:a.dadosPlv,fields:a.titTabela,"empty-text":"Não há registro para sua pesquisa."},scopedSlots:a._u([{key:"cell(palavra)",fn:function(t){return[e("div",{staticClass:"wrap"},[a._v(" "+a._s(t.item.palavra)+" ")])]}},{key:"cell(fonetico)",fn:function(t){return[e("div",{staticClass:"wrap"},[a._v(" "+a._s(t.item.fonetico)+" ")])]}},{key:"cell(dataCriacao)",fn:function(t){return[e("div",[a._v(" "+a._s(a.formatData(t.item.dataCriacao))+" ")])]}},{key:"cell(gravado)",fn:function(t){return[e("div",{staticClass:"block text-center"},[0==t.item.gravado?e("b-icon",{staticClass:"mr-2",attrs:{icon:"square-fill",variant:"secondary","font-scale":"1.2"}}):1==t.item.gravado?e("b-icon",{staticClass:"mr-2",attrs:{icon:"check-square-fill",variant:"success","font-scale":"1.2"}}):2==t.item.gravado?e("b-icon",{staticClass:"mr-2",attrs:{icon:"x-square-fill",variant:"danger","font-scale":"1.2"}}):a._e()],1)]}}],null,!1,3916729030)}):a._e()],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"info":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:(a.resposta.status,"exclamation-circle-fill"),"font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1):a._e()])],1)},Pt=[];const qt=ambientes.ativo[0].url+":"+ambientes.ativo[0].porta_api;var Ut=new Headers;Ut.append("Content-Type","application/json"),Ut.append("Content-Type","text/plain"),Ut.append("Cache-Control","no-cache"),Ut.append("Expires","-1"),Ut.append("Pragma","no-cache");var Et={props:["listaTipo","listaGravidade"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,ambiente:this.$store.state.variaveisAmbiente.ambiente,loaderCheck:!1,setGrupoDLP:"",gruposDLPs:[],grupoSelecionado:"",listaPalavra:[],listaFonetico:[],setGravidade:"",setGravidadeOpcao:"",opcoesDeGravidade:["1 - serio","2 - grave","3 - gravissimo"],setTipo:"",dadosPlv:[],dadosPlvTemp:[],titTabela:[{key:"idx",label:"Id",sortable:!0,class:"text-left"},{key:"palavra",label:"Palavra",sortable:!0,class:"text-left",sortDirection:"asc"},{key:"fonetico",label:"Fonético",sortable:!0,class:"text-left"},{key:"tipo",label:"Tipo",sortable:!0,class:"text-left"},{key:"grupo_dlp",label:"Grupo DLP",sortable:!0,class:"text-left"},{key:"gravidade",label:"Gravidade",sortable:!0,class:"text-left"},{key:"status",label:"Status",class:"text-left"},{key:"gravado",label:"gravado",class:"text-left"}],valida:{listaPalavra:null,selGravidade:null,setTipo:null,palavra:null,tipo:null,status:null,fonetico:null,grupo_dlp:null,gravidade:null},totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,20,50,100],filter:null,progress:{max:100,valor:0,ver:!1},resposta:{status:0,texto:"",erro:0}}},watch:{setTipo(a){this.valida.setTipo=!!a},setGravidade(a){this.valida.setGravidade=!!a}},methods:{dataAgora(){let a=new Date,t=a.toString().split(" "),e=a.getDate();e<10&&(e="0"+e);let s=a.getMonth()+1;s<10&&(s="0"+s);let o=a.getFullYear(),i=`${o.toString()}-${s.toString()}-${e.toString()} ${t[4]}`;return i},formatData(a){let t=a;if(t){t=t.split(" ");let a=t[0].split("-").reverse();return`${a[0]}/${a[1]}/${a[2]} ${t[1]}`}return t},chkPalavra(a){let t=a;t.forEach(a=>{a.length})},chkAddPalavra(){return!!this.valida.listaPalavra&&!!this.setTipo},chkBntEnvio(){let a=!!this.valida.palavra&&!!this.valida.tipo&&!!this.valida.fonetico&&!!this.valida.gravidade&&!!this.valida.grupo_dlp;return a},chkTipo(a){let t=a.replace(" ","_").replace(/[`´~!@#$%^&*()|+\=?;:'"¨, <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");this.setTipo=t.toUpperCase()},selecaoDeGrupo(a){let t=a;this.grupoSelecionado=t},chkGravidadeOpcao(a){let t=a.replace(" ","_").replace(/[`´~!@#$%^&*()|+\=?;:'"¨, <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,""),e=t[0];this.setGravidadeOpcao=e},verStatus(a){this.dadosPlv.status="ATIVA"===a?"INATIVA":"ATIVA"},limpaPalavras(a){this.dadosPlv=[],this.listaPalavra=[],this.setTipo="",this.setGravidade="",this.fechaModal(a)},getAddPalavras(){let a=1;this.listaPalavra.forEach(t=>{let e={idx:a++,palavra:t,tipo:this.setTipo,status:"ATIVA",fonetico:t,grupo_dlp:this.grupoSelecionado,gravidade:this.setGravidadeOpcao?this.setGravidadeOpcao:"NEUTRO",gravado:0};this.dadosPlv.push(e)}),this.fechaModal("plvNova"),this.abreModal("plvConf")},gravaPalavra(a){let t=a.idx-1,e=JSON.stringify({tabela_end_point:"palavras",campos_select_end_point:"palavra",palavra:a.palavra,tipo:a.tipo,status:a.status,fonetico:a.fonetico,grupo_dlp:a.grupo_dlp,dataCriacao:a.dataCriacao,gravidade:a.gravidade});console.log("GRUPO DLP ENVIADO NA PALAVRA: "+a.grupo_dlp);let s=`${this.locationUrl}/sql/updateSql/${this.token}/resp_rest`;this.$http.post(s,e,Ut).then(a=>{this.loaderCheck=!1;let e=0;e=t%2>0?1:2,this.dadosPlv[t].gravado=e}).catch(a=>{this.dadosPlv[t].gravado=2})},salvaPalavra(){this.progress.ver=!0;this.dadosPlv.length;var a={palavras:[],tipo:this.dadosPlv[0].tipo,status:this.dadosPlv[0].status,fonetico:[],grupoDlp:this.dadosPlv[0].grupo_dlp,dataCriacao:this.dataAgora(),gravidade:this.dadosPlv[0].gravidade};this.dadosPlv.forEach(t=>{a.palavras.push(t.palavra),a.fonetico.push(t.fonetico)}),a.palavras=JSON.stringify(a.palavras),a.fonetico=JSON.stringify(a.fonetico),a.status=JSON.stringify(a.status),a.palavras=a.palavras.replaceAll('"',""),a.palavras=a.palavras.replaceAll("[",""),a.palavras=a.palavras.replaceAll("]",""),a.fonetico=a.fonetico.replaceAll('"',""),a.fonetico=a.fonetico.replaceAll("[",""),a.fonetico=a.fonetico.replaceAll("]",""),a.status=a.status.replaceAll('"',""),this.gravaPalavrasViaAPI(a)},gravaPalavrasViaAPI(a){let t=a.palavras.split(","),e=(a.idx,{palavras:a.palavras,tipo:a.tipo,status:a.status,fonetico:a.fonetico,grupoDlp:a.grupoDlp,dataCriacao:a.dataCriacao,gravidade:a.gravidade});console.log("OBJETO PALAVRAS ENVIO"),console.log(e);let s=`${qt}/api/palflash/postpalavrasarray/${this.ambiente}/${this.token}`;this.$http.post(s,e,Ut).then(a=>{this.loaderCheck=!1,console.log("GRAVA PALAVRA VIA API"),console.log(a.data),console.log(s),console.log("ENVIO DE DADOS AO BANCO VIA API");for(let e=0;e<t.length;e++)this.dadosPlv[e].gravado=1;this.respostasEnvio(!0)}
//!!res ? true : false ;
).catch(a=>{
//!!err ? true : false ;
for(let e=0;e<t.length;e++)this.dadosPlv[e].gravado=2;this.respostasEnvio(!1)})},buscaGruposDLPorToken(){let a=window.atob(this.token).split("^")[1],t=`${qt}/api/apiflashsafe/b/${a}/${this.ambiente}/${this.token}`;console.log("METODO CARREGA GRUPOS DLPs"),console.log(t),this.$http.get(t,Ut).then(a=>{let t=a.data;t.forEach(a=>{this.gruposDLPs.push(a.grupo)}),console.log("LISTA DE GRUPOS DE ACORDO COM O LOGIN: "),console.log(this.gruposDLPs)}).catch(a=>{console.log(a)})},respostasEnvio(a){a?(this.resposta={status:1,texto:"O processamento de gravação das PALAVRAS CLASSIFICADAS foi finalizado!"},setTimeout(()=>{this.resposta={status:0,texto:"",erro:0}},3500),this.$emit("carregaDados")):(this.resposta={status:2,texto:"Ocorreu erro no processamento de alguma(s) palavra(s)!"},this.$emit("carregaDados"))},txtBtnAdd(){document.querySelectorAll(".btn.b-form-tags-button").innerHTML="Incluir"},fechaModal(a){this.$refs[a].hide()},abreModal(a){this.$bvModal.show(a)},onFiltered(a){this.totalRows=a.length,this.currentPage=1}},mounted(){let a=window.atob(this.token);a=a.split("^"),this.setGrupoDLP=a[1],this.buscaGruposDLPorToken()}},$t=Et,Tt=(e("880f"),Object(L["a"])($t,wt,Pt,!1,null,null,null)),Lt=Tt.exports,It=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"plvEdita",attrs:{"ok-only":"",id:"plvEdita",size:"lg","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Edita Palavra Sensível ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"success",disabled:!a.chkBntEnvio()},on:{click:function(t){return a.alteraPalavra()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"pencil"}}),a._v(" Alterar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}])},[a.dadosPlv?e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 col-sm-6  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Palavra","label-for":"plvPalavra",description:"Total de Caracteres: "+(a.dadosPlv.palavra?a.dadosPlv.palavra.length:0)+"/200"}},[e("b-form-input",{attrs:{id:"plvPalavra",placeholder:"Coloque a palavra ou argumento",state:a.valida.palavra=!!a.dadosPlv.palavra,maxlength:"200"},model:{value:a.dadosPlv.palavra,callback:function(t){a.$set(a.dadosPlv,"palavra",t)},expression:"dadosPlv.palavra"}})],1)],1),e("div",{staticClass:"col-xs-12 col-sm-6  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Fonético","label-for":"plvFonetico"}},[e("b-form-input",{attrs:{id:"plvFonetico",placeholder:"Coloque a fonetico",state:a.valida.fonetico=!!a.dadosPlv.fonetico,maxlength:"200",disabled:""},on:{blur:function(t){return a.verFonetico(a.dadosPlv.fonetico)}},model:{value:a.dadosPlv.fonetico,callback:function(t){a.$set(a.dadosPlv,"fonetico",t)},expression:"dadosPlv.fonetico"}})],1)],1),a.listaTipo?e("div",{staticClass:"col-xs-12 col-sm-6  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Tipo","label-for":"plvTipo"}},[e("b-form-input",{attrs:{list:"lista-tipos",state:a.valida.tipo=!!a.dadosPlv.tipo},on:{keyup:function(t){return a.chkTipo(a.dadosPlv.tipo)}},model:{value:a.dadosPlv.tipo,callback:function(t){a.$set(a.dadosPlv,"tipo",t)},expression:"dadosPlv.tipo"}}),e("datalist",{attrs:{id:"lista-tipos"}},a._l(a.listaTipo,(function(t){return e("option",{key:t},[a._v(a._s(t))])})),0)],1)],1):a._e(),e("div",{staticClass:"col-xs-12 col-sm-6  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Grupo DLP","label-for":"plvGrupo"}},[e("b-form-input",{attrs:{id:"plvGrupo",placeholder:"Coloque tipo de palavra",state:a.valida.grupo_dlp=!!a.dadosPlv.grupo_dlp,maxlength:"100",disabled:""},model:{value:a.dadosPlv.grupo_dlp,callback:function(t){a.$set(a.dadosPlv,"grupo_dlp",t)},expression:"dadosPlv.grupo_dlp"}})],1)],1),a.dadosPlv.status?e("div",{staticClass:"col-xs-12 col-sm-6"},[e("label",{staticClass:"d-block"},[a._v("Status")]),e("b-button",{attrs:{id:"plvStatus",title:"Status "+("ATIVA"===a.dadosPlv.status?"Ativada":"Inativada")+" ",size:"md",variant:"ATIVA"===a.dadosPlv.status?"outline-success":"outline-warning",block:""},on:{click:function(t){return a.verStatus(a.dadosPlv.status)}}},["ATIVA"===a.dadosPlv.status?e("b-icon",{staticClass:"mr-2",attrs:{icon:"chat-left-text-fill","font-scale":"1"}}):e("b-iconstack",{staticClass:"mr-2",attrs:{"font-scale":"1"}},[e("b-icon",{attrs:{icon:"chat-right-text-fill",scale:"0.6"}}),e("b-icon",{attrs:{icon:"slash-circle",scale:"1.1"}})],1),a._v(" "+a._s("ATIVA"===a.dadosPlv.status?"Ativa":"Inativa")+" ")],1)],1):a._e(),a.listaGravidade?e("div",{staticClass:"col-xs-12 col-sm-6  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Forçar Gravidade","label-for":"plvGrav"}},[e("b-dropdown",{staticClass:"drop-custom",attrs:{right:"",split:"",text:a.dadosPlv.gravidade?a.dadosPlv.gravidade:"Selecione",variant:a.dadosPlv.gravidade?"outline-success":"outline-secondary",state:a.valida.gravidade=!!a.dadosPlv.gravidade}},a._l(a.listaGravidade,(function(t,s){return e("b-dropdown-item",{key:s,attrs:{block:""},on:{click:function(e){a.dadosPlv.gravidade=t}}},[a._v(" "+a._s(t)+" ")])})),1)],1)],1):a._e()]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1):a._e()])},Ot=[];const Rt=ambientes.ativo[0].url+":"+ambientes.ativo[0].porta_api;var jt=new Headers;jt.append("Content-Type","application/json"),jt.append("Content-Type","text/plain"),jt.append("Cache-Control","no-cache"),jt.append("Expires","-1"),jt.append("Pragma","no-cache");var Nt={props:["dados","listaTipo","listaGravidade"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,ambiente:this.$store.state.variaveisAmbiente.ambiente,loaderCheck:!1,dadosPlv:this.dados,chkStatus:this.dados.status,mensagem:null,valida:{palavra:null,tipo:null,status:null,fonetico:null,grupo_dlp:null,gravidade:null},resposta:{status:0,texto:""}}},watch:{dados(a){this.dadosPlv=a}},methods:{dataAgora(){let a=new Date,t=a.toString().split(" "),e=a.getDate();e<10&&(e="0"+e);let s=a.getMonth()+1;s<10&&(s="0"+s);let o=a.getFullYear(),i=`${o.toString()}-${s.toString()}-${e.toString()} ${t[4]}`;return i},chkBntEnvio(){let a=!!this.valida.palavra&&!!this.valida.tipo&&!!this.valida.fonetico&&!!this.valida.gravidade&&!!this.valida.grupo_dlp;return a},getFonetico(a){this.dadosPlv.palavra.length>0&&(this.dadosPlv.fonetico=this.dadosPlv.fonetico)},chkTipo(a){let t=a.replace(" ","_").replace(/[`´~!@#$%^&*()|+\=?;:.'"¨,<>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");this.dadosPlv.tipo=t.toUpperCase()},verStatus(a){this.dadosPlv.status="ATIVA"===a?"INATIVA":"ATIVA"},async alteraPalavra(){this.loaderCheck=!0;let a="";"NEUTRO"==this.dadosPlv.gravidade?a="0":"SERIO"==this.dadosPlv.gravidade?a="1":"GRAVE"==this.dadosPlv.gravidade?a="2":"GRAVISSIMO"==this.dadosPlv.gravidade&&(a="3"),console.log("Tipo de gravidade: "+a);let t={palavras:this.dadosPlv.palavra,tipo:this.dadosPlv.tipo,status:this.dadosPlv.status,fonetico:this.dadosPlv.palavra,grupoDlp:this.dadosPlv.grupo_dlp,dataCriacao:this.dadosPlv.dataCriacao,gravidade:a};console.log("PARAM UPDATE"),console.log(t);let e=`${Rt}/api/palflash/updateporpalavra/${this.dadosPlv.fonetico}/${this.ambiente}/${this.token}`;console.log("URL UPDATE"),console.log(e),await this.$http.put(e,t,jt).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0),this.valida.mensagem=null,this.mensagem=""}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`A alteração da palavra "${this.dadosPlv.palavra}" foi realizada com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal(),this.$emit("carregaDados")},3600)):(this.resposta={status:2,texto:`Falha ao realizar alteração da Palavra Sensível "${this.dadosPlv.palavra}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},fechaModal(){this.$refs["plvEdita"].hide()},abreModal(){this.$refs["plvEdita"].hide()}}},zt=Nt,Gt=(e("bf78"),Object(L["a"])(zt,It,Ot,!1,null,null,null)),Jt=Gt.exports,Vt=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("b-modal",{ref:"plvRemove",attrs:{"ok-only":"",id:"plvRemove",size:"md","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Remove Palavra Sensível: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"warning",disabled:!a.verificaRemove()},on:{click:function(t){return a.removePalavra()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"trash-fill"}}),a._v(" Remover ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Palavra:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosPalavra.palavra))])]),e("div",{staticClass:"col-6 pb-3"},[e("span",[a._v("Grupo DLP:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosPalavra.grupo_dlp))])]),e("div",{staticClass:"col-6 pb-3"},[e("span",[a._v("Gravidade:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosPalavra.gravidade))])]),e("div",{staticClass:"col-12  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Confirmação de Remoção:"}},[e("b-form-checkbox",{staticClass:"plv-remove",attrs:{"button-variant":"danger",value:"true","unchecked-value":"false",switch:""},model:{value:a.valida.remove,callback:function(t){a.$set(a.valida,"remove",t)},expression:"valida.remove"}},[a._v(" Você tem certeza que deseja remover a palavra "),e("strong",[a._v(a._s(a.dadosPalavra.palavra))]),a._v("? ")])],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])],1)},Ft=[];const Bt=ambientes.ativo[0].url+":"+ambientes.ativo[0].porta_api;var Ht=new Headers;Ht.append("Content-Type","application/json"),Ht.append("Content-Type","text/plain"),Ht.append("Cache-Control","no-cache"),Ht.append("Expires","-1"),Ht.append("Pragma","no-cache");var Zt={props:["dados"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,ambiente:this.$store.state.variaveisAmbiente.ambiente,loaderCheck:!1,modal:!1,dadosPalavra:this.dados,valida:{remove:null},resposta:{status:0,texto:""}}},watch:{modalDesliga(a){this.modal=a},dados(a){this.dadosPalavra=a}},methods:{verificaRemove(){return"true"===this.valida.remove},removePalavra(){this.loaderCheck=!0;let a={palavras:this.dadosPalavra.palavra},t=`${Bt}/api/palflash/deleteporpalavra/${this.getGrupoDpl().replace("*","")}/${this.ambiente}/${this.token}`;this.$http.put(t,a,Ht).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0),this.valida.remove=!1}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},getGrupoDpl(){let a=window.atob(this.token);return console.log("MEU TOKEN CONVERTIDO"),console.log(window.atob(this.token)),a=a.split("^"),a[1]},respostasEnvio(a){a?(this.resposta={status:1,texto:`A palavra "${this.dadosPalavra.palavra}" foi removida com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal(),this.$emit("carregaDados")},3600)):(this.resposta={status:2,texto:`Falha ao remover a palavra "${this.dadosPalavra.palavra}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},fechaModal(){this.$refs["plvRemove"].hide(),this.valida.remove=!1},abreModal(){this.$refs["plvRemove"].hide()}}},Qt=Zt,Yt=(e("725e"),Object(L["a"])(Qt,Vt,Ft,!1,null,null,null)),Wt=Yt.exports,Xt=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("b-modal",{ref:"plvMaq",attrs:{"ok-only":"",id:"plvMaq",size:a.selPlvMaquina.modal,"hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Processamento Arquivo/Maquinas: "+a._s(a.tabIndex)+" ")]},proxy:!0},{key:"modal-footer",fn:function(){return[e("b-button-group",[e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal("plvMaq")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Fechar ")],1)],1)]},proxy:!0}])},[a.loaderCheck?e("div",{staticClass:"container-icone-carregamento"},[e("loader",{attrs:{status:a.loaderCheck}})],1):a._e(),e("b-card",{staticClass:"mb-3",attrs:{"no-body":""}},[e("b-tabs",{staticClass:"proc",attrs:{small:"",card:""},model:{value:a.tabIndex,callback:function(t){a.tabIndex=t},expression:"tabIndex"}},[e("b-tab",{attrs:{title:"Sel. Arquivo","no-key-nav":""}},[e("h4",{staticClass:"my-0 mb-4"},[a._v(" Seleção de Arquivo ")]),e("b-alert",{attrs:{variant:"light",show:"",dismissible:""}},[e("p",[e("b-icon",{staticClass:"mr-2",attrs:{icon:"info-circle-fill","font-scale":"1.2"}}),e("strong",[a._v("Processo de Inclusão de arquivo de PALAVRAS CLASSIFICADAS nas máquinas:")])],1),e("p",[a._v("Primeiramente verifique no módulo de PALAVRAS CLASSIFICADAS.")]),e("p",[a._v("Verifique se as palavras estão cadastras com status “Ativas”, e se por acaso existirem palavras que não há necessidade de serem geradas no arquivo, por favor, altere o status para “Bloqueada”.")]),e("p",[a._v("Definido a etapa anterior, selecione um arquivo na lista (é necessário incluir um número de versão para o arquivo), e clique em Gerar Arquivo.")]),e("p",[a._v("Na próxima etapa selecione às máquinas que deseja enviar o arquivo gerado e clique em Processar Máquinas, nesse caso será gerado um “Número de JOB” e aparecerá o processo de envio de arquivos.")]),e("p",[a._v("Você pode clicar em atualizar para verificar quais máquinas foram processadas com o novo arquivo.")]),e("p",[a._v("Após o início do processo a janela não precisa ficar aberta, caso ocorra de máquina(s) esteja(ão) offline, esta(s) será(ão) atualizada(s) automáticamente assim que conectar(em).")]),e("p",[a._v("Clique em Fechar ao concluir o processo.")])]),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mb-3 area"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Versão do Arquivo","label-for":"plvVersao",description:"Essa informação é opcional."}},[e("b-form-input",{attrs:{id:"plvVersao",placeholder:"Ex: 1.0",maxlength:"20",state:a.valida.versao},on:{keyup:function(t){return a.valVersao(a.selPlvMaquina.versao)},blur:function(t){return a.valVersao(a.selPlvMaquina.versao)}},model:{value:a.selPlvMaquina.versao,callback:function(t){a.$set(a.selPlvMaquina,"versao",t)},expression:"selPlvMaquina.versao"}})],1)],1),e("div",{staticClass:"col-12 mb-3 area"},[a.listaArquivos==[]?e("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a.getListaArquivos()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}}),a._v(" Carrega Lista de Arquivos")],1):a._e(),e("b-form-group",{staticClass:"mb-0",attrs:{label:"Selecione um Arquivo","label-for":"plvMaqArquivo"}},[e("b-button-group",{staticStyle:{width:"100%"},attrs:{vertical:""}},a._l(a.listaArquivos,(function(t,s){return e("b-button",{key:s,staticClass:"text-left",attrs:{variant:a.selPlvMaquina.arq==t?"primary":"outline-secondary"},on:{click:function(e){a.selPlvMaquina.arq=t}}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:a.selPlvMaquina.arq==t?"file-earmark-check-fill":"file-earmark"}}),a._v(a._s(t))],1)})),1)],1)],1)])]),e("b-button-group",{staticClass:"mt-2"},[e("b-button",{staticClass:"botao-processamento-arquivo",attrs:{variant:"success","font-scale":"2",disabled:!a.selPlvMaquina.arq||!a.selPlvMaquina.versao||!a.valida.versao},on:{click:function(t){return a.getProcessaArquivo()}}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:"check"}}),a._v(" Processar Arquivo ")],1)],1)],1),e("b-tab",{attrs:{title:"Sel. Maquina","no-key-nav":""}},[e("h4",{staticClass:"my-0 mb-4"},[a._v(" Seleção de Maquinas "),e("b-button",{staticClass:"float-right",attrs:{variant:a.selPlvMaquina.maquinas.length==a.listaMaquinas.length?"primary":"outline-secondary"},on:{click:function(t){a.selPlvMaquina.maquinas!==a.listaMaquinas?a.selPlvMaquina.maquinas=a.listaMaquinas:a.selPlvMaquina.maquinas=[]}}},[e("b-icon",{attrs:{icon:a.selPlvMaquina.maquinas.length==a.listaMaquinas.length?"list-check":"list"}}),a._v(" Adicionar Todos ")],1)],1),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mb-3 area"},[e("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"plvMaquinas"}},[e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"4"}},[e("div",{staticClass:"ajuste-botao-pesquisa",staticStyle:{display:"flex","justify-content":"space-around"}},[e("b-form-group",{staticClass:"col-md-12",staticStyle:{padding:"0% 2% 0% 0%",width:"96% !important"},attrs:{description:"Pesquisa na Tabela"}},[e("b-form-input",{attrs:{type:"search",placeholder:"Busca",size:"sm"},model:{value:a.filtro,callback:function(t){a.filtro=t},expression:"filtro"}})],1),e("div",{staticClass:"pt-1",staticStyle:{padding:"0 !important",margin:"0 !important"}},[e("b-button",{staticStyle:{padding:"6% !important",margin:"0 !important","font-size":"14px !important"},attrs:{variant:"primary"},on:{click:function(t){return a.getLocalizaMaquinaArray(a.filtro)}}},[a._v("Pesquisar")])],1)],1)]),e("b-button-group",{staticStyle:{width:"100%"},attrs:{vertical:""}},a._l(a.listaMaquinas,(function(t,s){return e("b-button",{key:s,staticClass:"text-left",attrs:{variant:a.selPlvMaquina.maquinas.indexOf(t)>-1?"primary":"outline-secondary"},on:{click:function(e){a.selPlvMaquina.maquinas.indexOf(t)<0?a.selPlvMaquina.maquinas.push(t):a.selPlvMaquina.maquinas=a.selPlvMaquina.maquinas.filter((function(a){return a!==t}))}}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:a.selPlvMaquina.maquinas.indexOf(t)>-1?"display":"display-fill"}}),a._v(a._s(t.computer_name))],1)})),1)],1)],1)])]),e("b-button-group",{staticClass:"mt-2"},[e("b-button",{attrs:{variant:"secondary"},on:{click:function(t){a.tabIndex--}}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:"chevron-left"}}),a._v(" Voltar ")],1),e("b-button",{attrs:{variant:a.selPlvMaquina.maquinas.length==a.listaMaquinas.length?"primary":"outline-secondary"},on:{click:function(t){a.selPlvMaquina.maquinas!==a.listaMaquinas?a.selPlvMaquina.maquinas=a.listaMaquinas:a.selPlvMaquina.maquinas=[]}}},[e("b-icon",{attrs:{icon:a.selPlvMaquina.maquinas.length==a.listaMaquinas.length?"list-check":"list"}}),a._v(" Adicionar Todos ")],1),e("b-button",{attrs:{variant:"success",disabled:a.selPlvMaquina.maquinas.length<1},on:{click:function(t){return a.getExcluirArquivos()}}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:"check"}}),a._v(" Processar Máquinas ")],1)],1)],1),e("b-tab",{attrs:{title:"Finaliza"}},[e("h4",{staticClass:"my-0 mb-4"},[a._v("Processo Concluído")]),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12  mb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Job"}},[e("b-form-input",{attrs:{disabled:""},model:{value:a.selPlvMaquina.job,callback:function(t){a.$set(a.selPlvMaquina,"job",t)},expression:"selPlvMaquina.job"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-5  mb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Arquivo"}},[e("b-form-input",{attrs:{disabled:""},model:{value:a.selPlvMaquina.arq,callback:function(t){a.$set(a.selPlvMaquina,"arq",t)},expression:"selPlvMaquina.arq"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-4  mb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Versão do Arquivo"}},[e("b-form-input",{attrs:{disabled:""},model:{value:a.selPlvMaquina.versao,callback:function(t){a.$set(a.selPlvMaquina,"versao",t)},expression:"selPlvMaquina.versao"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-3 mb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Ação"}},[e("b-button",{staticStyle:{width:"100%"},attrs:{variant:"outline-primary"},on:{click:function(t){return a.getProcessaMaquinas()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}}),a._v(" Atualizar ")],1)],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mb-3 area"},[e("b-table",{ref:"tabProcesso",staticClass:"tab-processo mb-0",attrs:{id:"tabProcesso","show-empty":"",small:"",striped:"",stacked:"md",items:a.listaProcesso,fields:a.titTabela,"empty-text":"Não há registro para sua pesquisa."},scopedSlots:a._u([{key:"cell(arquivo_destino)",fn:function(t){return[e("div",{staticClass:"wrap"},[a._v(" "+a._s(t.item.arquivo_destino)+" ")])]}},{key:"cell(dth)",fn:function(t){return[e("div",[a._v(" "+a._s(a.formatData(t.item.dth))+" ")])]}},{key:"cell(status)",fn:function(a){return[e("div",{staticClass:"block text-center"},[e("b-icon",{staticClass:"mr-2",attrs:{icon:"PEND"==a.item.status?"square":"check-square-fill",variant:"PEND"==a.item.status?"secondary":"success",title:"PEND"==a.item.status?"Pendente":"Instalado","font-scale":"1.2"}})],1)]}}])})],1)])])])],1)],1),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)],1)},Kt=[],ae=new Headers;ae.append("Content-Type","application/json"),ae.append("Content-Type","text/plain"),ae.append("Cache-Control","no-cache"),ae.append("Expires","-1"),ae.append("Pragma","no-cache");var te={components:{loader:U["a"]},props:["arquivos"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!0,tabIndex:0,setGrupoDLP:"",filtro:"",travaFiltro:!1,memoriaMaquinas:[],memoriaValores:[],selPlvMaquina:{arq:"",versao:"",grupo_dlp:"",maquinas:[],job:"",modal:"lg"},valida:{versao:null},listaMaquinas:[{computer_name:"",hash_maquina:""}],listaArquivos:[],listaProcesso:[],titTabela:[{key:"fullMaq",label:"Máquina",sortable:!0,class:"text-left",sortDirection:"asc"},{key:"grupo_dlp",label:"Grupo DLP",sortable:!0,class:"text-left"},{key:"arquivo_destino",label:"Destino",sortable:!0,class:"text-left"},{key:"dth",label:"Data Processamento",sortable:!0,class:"text-left"},{key:"status",label:"Status",class:"text-left"}],totalRows:1,currentPage:1,perPage:20,pageOptions:[5,10,20,50,100],filter:null,resposta:{status:0,texto:""}}},methods:{formatData(a){let t=a;if(t){t=t.split(" ");let a=t[0].split("-").reverse();return`${a[0]}/${a[1]}/${a[2]} ${t[1]}`}return t},valVersao(a){let t=a.replace(/[a-zA-Z_`´~!@#$%^&*()|+\=?;:'"¨, <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");if(this.selPlvMaquina.versao=t,t){let a=t.split("");"."==a[0]||"-"==a[0]?this.valida.versao=!1:this.valida.versao=!0}else this.valida.versao=null},getListaArquivos(){this.loaderCheck=!1,this.listaArquivos=this.arquivos,this.getListaMaquinas(),console.log("OPA, ME ACESSARAM AQUI PESSOAL!! :) "),console.log("QTD DE ARQUIVOS DUPLICADOS: "+this.listaArquivos.length)},getProcessaArquivo(){this.loaderCheck=!0,0==this.listaMaquinas.length&&this.getProcessaMaquinas();let a=this.selPlvMaquina.arq,t=`${this.locationUrl}/palavras/geraArqPals/${this.token}/${this.setGrupoDLP}/${a}/resp_rest`;document.querySelector(".botao-processamento-arquivo").disabled=!0,setTimeout(()=>{this.$http.get(t,ae).then(()=>{this.tabIndex++,this.respostasEnvio(!0),this.loaderCheck=!1,console.log("URL: "),console.log(t),console.log("ARQUIVO ENVIADA"),console.log(this.selPlvMaquina)}).catch(()=>{this.respostasEnvio(!1),this.loaderCheck=!1})},5e3)},getExcluirArquivos(){this.loaderCheck=!0,0==this.listaMaquinas.length&&this.getProcessaMaquinas();let a="",t=0;this.selPlvMaquina.maquinas.forEach(e=>{a=t>0?a+","+e.hash_maquina:e.hash_maquina,t++});let e="";document.querySelector(".botao-processamento-arquivo").disabled=!0,console.log("CODIGOS DE MAQUINA: "),console.log(a),this.selPlvMaquina.maquinas.forEach(a=>{setTimeout(()=>{e=`${this.locationUrl}/palavras/limpaPalavrasSensiveis/${this.token}/${a.hash_maquina}/resp_rest`,this.$http.get(e,ae).then(()=>{this.respostasEnvio(!0),this.loaderCheck=!1,console.log("URL: "),console.log(e),console.log("ARQUIVO ENVIADA"),console.log(this.selPlvMaquina)}).catch(()=>{this.respostasEnvio(!1),this.loaderCheck=!1})},5e3)}),this.getGeraJob()},getGeraJob(){this.loaderCheck=!0;let a=this.selPlvMaquina.arq,t=this.selPlvMaquina.versao,e="",s=0;this.selPlvMaquina.maquinas.forEach(a=>{e=s>0?e+","+a.computer_name:a.computer_name,s++}),console.log("MAQUINAS A SEREM INSERIDOS OS ARQUIVOS: "),console.log(e);let o=e,i=`${this.locationUrl}/palavras/enviaPals/${this.token}/${o}/${a}/${t}/resp_rest`;setTimeout(()=>{this.$http.get(i,ae).then(a=>{let t=a.data;t=t.split(","),this.selPlvMaquina.job=t[1],setTimeout(()=>{this.getProcessaMaquinas()},100),this.loaderCheck=!1,console.log("URL"),console.log(i),console.log("ARQUIVO ENVIADA"),console.log(this.selPlvMaquina),console.log("RESPOSTA DA REQUISICAO"),console.log(t)}).catch(()=>{this.respostasEnvio(!1),this.loaderCheck=!1})},5e3)},getProcessaMaquinas(){this.loaderCheck=!0;let a=this.selPlvMaquina.job,t=JSON.stringify({tabela:"gestao_arquivos",select:`job='${a}'`,pagina:"1",qt:"1000",campos_select_end_point:"job^maquina^computer_name^grupo_dlp^arquivo_origem^arquivo_destino^status^versao^dth",get_qt:"1"}),e=`${this.locationUrl}/sql/selectSql/${this.token}/resp_rest`;setTimeout(()=>{this.$http.post(e,t,ae).then(a=>{let t=a.bodyText;t=t.replace("[","[{").replace("]","]}]").replace(", ",'}, {"dados":[').replaceAll(/\n/gi,"").replaceAll("\\","\\\\"),t=JSON.parse(t),t=t[1].dados,t.forEach(a=>{a.fullMaq=`${a.computer_name}-${a.maquina}`}),this.listaProcesso=t,this.selPlvMaquina.modal="xl",this.tabIndex=2,this.respostasEnvio(!0),this.loaderCheck=!1}).catch(()=>{this.respostasEnvio(!1),this.loaderCheck=!1})},5e3)},getListaMaquinas(){this.loaderCheck=!0;let a=`${this.locationUrl}/maquinas/listaSecret/${this.token}/resp_rest`;setTimeout(()=>{this.$http.get(a,ae).then(a=>{let t=a.data,e=[];t.forEach(a=>{const t={computer_name:a.computer_name,hash_maquina:a.hash_maquina};e.push(t)}),this.listaMaquinas=[...new Set(e)],this.loaderCheck=!1,console.log("MEU OBJETO::: "),console.log(this.listaMaquinas)}).catch(()=>{this.respostasEnvio(!1),this.loaderCheck=!1})},5e3)},getLocalizaMaquinaArray(a){0==this.travaFiltro&&(this.memoriaValores=this.listaMaquinas,this.memoriaMaquinas=this.memoriaValores,this.listaMaquinas=[],this.travaFiltro=!0),this.memoriaMaquinas.indexOf(a)>=0?this.listaMaquinas.push(this.memoriaMaquinas[this.memoriaMaquinas.indexOf(a)]):console.log("Não está no array")},respostasEnvio(a){a?0==this.tabIndex?this.resposta={status:1,texto:"Lista de Arquivos foi processado com sucesso!"}:1==this.tabIndex?this.resposta={status:1,texto:`O processamento do arquivo ${this.selPlvMaquina.arq} com a versão ${this.selPlvMaquina.versao} foi realizado com sucesso!`}:2==this.tabIndex?this.resposta={status:1,texto:"O processamento de arquivo para as maquinas foi realizado com sucesso, caso haja pendência de máquinas as mesmas serão atualizadas quando estiverem online."}:this.resposta={status:2,texto:"Estamos em Processamento!"}:this.resposta={status:2,texto:"Ocorreu erro no processamento, tente novamente!"}},fechaModal(a){this.$refs[a].hide(),this.tabIndex=0,this.listaArquivos=[],this.listaMaquinas=[],this.listaProcesso=[],this.selPlvMaquina={arq:"",versao:"",grupo_dlp:"",maquinas:[],job:"",modal:"lg"},this.getListaArquivos()},abreModal(a){this.$bvModal.show(a)},onFiltered(a){this.totalRows=a.length,this.currentPage=1}},mounted(){let a=window.atob(this.token);a=a.split("^"),this.setGrupoDLP=a[1],this.getListaArquivos()}},ee=te,se=(e("d345"),Object(L["a"])(ee,Xt,Kt,!1,null,null,null)),oe=se.exports;const ie=ambientes.ativo[0].url+":"+ambientes.ativo[0].porta_api;e("caf9"),e("d7e8");var re=new Headers;re.append("Content-Type","application/json"),re.append("Cache-Control","no-cache"),re.append("Expires","-1"),re.append("Pragma","no-cache");var le={components:{"meu-painel":B["a"],"menu-lateral":H["a"],"sub-menu":Z["a"],"nova-plv":Lt,"edita-plv":Jt,"remove-plv":Wt,"maq-plv":oe,loader:U["a"]},data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,ambiente:this.$store.state.variaveisAmbiente.ambiente,loaderCheck:!0,ativa:{btnListaArquivos:!0},listaArquivos:[],modal:{plvMaq:!1,plvNova:!1},setGrupoDLP:"",selTipo:[],ultVerifServer:"",listaPalavras:[],tabListaPalavras:[],tabTitulo:"Palavras por Página",getItens:[],titTabela:[{key:"actions",label:"Ações"},{key:"gravidade",label:"Gravidade",sortable:!0,class:"text-left"},{key:"idx",label:"Id",sortable:!0,class:"text-left"},{key:"palavra",label:"Palavra",sortable:!0,class:"text-left",sortDirection:"asc"},{key:"tipo",label:"Tipo",sortable:!0,class:"text-left"},{key:"grupo_dlp",label:"Grupo DLP",sortable:!0,class:"text-left"},{key:"data",label:"Data de Criação",sortable:!0,class:"text-left"},{key:"status",label:"Status",class:"text-left"}],selGravidade:["GRAVISSIMO","GRAVE","SERIO","NEUTRO"],totalRows:1,currentPage:1,perPage:10,pageOptions:[5,10,50,100,200,500,1e3],filter:null,xlsTitulo:{Palavra:"palavra",Tipo:"tipo","Fonético":"fonetico","Grupo DLP":"grupo_dlp","Data de Criação":"data",Status:"status",Gravidade:"gravidade"},xlsDados:[]}},computed:{sortOptions(){return this.fields.filter(a=>a.sortable).map(a=>({text:a.label,value:a.key}))}},watch:{currentPage(){this.getListaPalavras(),console.log("ALTEROU O VALOR DO CURRENT PAGE!!")},perPage(){this.getListaPalavras()},totalRows(a){this.totalRows=a},tabListaPalavras(a){this.geraXls(a)},getItems(a){this.getItems=a}},methods:{geraXls(a){var t=a;t&&(this.xlsDados=t)},horaFormat(a){var t=new Date(a).toString();return t=t.split(" GMT"),t=t[0].split(" ").reverse(),t=t[0],t},formatDateMilisec(a){let t=a,e=108e5;t-=e,t=new Date(t);var s=t.getDate(),o=t.getMonth()+1,i=t.getFullYear(),r=t.getUTCHours(),l=t.getMinutes(),n=t.getSeconds(),c=`${s<10?"0"+s:s}/${o<10?"0"+o:o}/${i} - ${r<10?"0"+r:r}:${l<10?"0"+l:l}:${n<10?"0"+n:n}`;return c},formatData(a){let t=a;if(t){t=t.split(" ");let a=t[0].split("-").reverse();return`${a[0]}/${a[1]}/${a[2]} ${t[1]}`}return t},getGrupoDpl(){let a=window.atob(this.token);return console.log("MEU TOKEN CONVERTIDO"),console.log(window.atob(this.token)),a=a.split("^"),a[1]},getListaPalavras(){let a;if(this.loaderCheck=!0,console.log("Filter: "+this.filter),""==this.filter&&(this.filter=null),null==this.filter?a="1=1":(a=`palavra like '%${this.filter}%' or grupo_dlp like '%${this.filter}%'`,this.getByNomePalavra()),null==this.filter){console.log("Query: "+a);let t=JSON.stringify({tabela:"palavras",select:a,pagina:this.currentPage,qt:this.perPage,campos_select_end_point:"palavra^tipo^status^fonetico^grupo_dlp^dataCriacao^gravidade"}),e=this.locationUrl+"/sql/selectSql/"+this.token+"/resp_rest";setTimeout(()=>{console.log("URL: "+e),console.log("Parametro: "+t),this.$http.post(e,t,re).then(a=>{let t=a.data;if(console.log("PESQUISA PALAVRAS"),console.log(t),t){let a=this.perPage*this.currentPage-this.perPage+1;t.forEach(t=>{"Continua..."!==t.palavra?(t.idx=a++,t.data=this.formatData(t.dataCriacao),t.gravidade=""==t.gravidade?"NEUTRO":t.gravidade,t.gravado=0,console.log("Palavra: "+t.palavra),console.log("ID: "+t.idx),console.log("Data: "+t.data),console.log("Gravidade: "+t.gravidade),console.log("Gravado: "+t.gravado)):t={}}),this.listaPalavras=t,this.getListaArquivos(),this.listaPalavrasTodas()}else this.listaPalavras=[],this.listaPalavrasTodas();this.ultVerifServer=this.formatDateMilisec(Date.now()),this.loaderCheck=!1}).catch(()=>{this.listaPalavras=[],this.listaPalavrasTodas(),this.ultVerifServer=this.formatDateMilisec(Date.now()),this.loaderCheck=!1})},1)}},getByNomePalavra(){if(this.loaderCheck=!0,null!=this.filter){let a=`${ie}/api/palflash/getpalavrabypalavra/${this.filter}/${this.getGrupoDpl().replace("*","")}/${this.ambiente}/${this.token}`;console.log("NOVO ENDPOINT: "),console.log("URL: "+a),setTimeout(()=>{this.$http.get(a,re).then(a=>{console.log("ACESSOU AQUI"),a.data=JSON.stringify(a.data).replaceAll('palavras":','palavra":'),a.data=a.data.replaceAll('grupoDlp":','grupo_dlp":'),a.data=JSON.parse(a.data),console.log(a.data);let t=a.data;if(console.log("PESQUISA PALAVRAS"),console.log(t),t){let a=this.perPage*this.currentPage-this.perPage+1;t.forEach(t=>{"Continua..."!==t.palavra?(t.idx=a++,t.data=this.formatData(t.dataCriacao),t.gravidade=""==t.gravidade?"NEUTRO":t.gravidade,t.gravado=0,console.log("Palavra: "+t.palavra),console.log("ID: "+t.idx),console.log("Data: "+t.data),console.log("Gravidade: "+t.gravidade),console.log("Gravado: "+t.gravado)):t={}}),this.listaPalavras=t,this.getListaArquivos(),this.listaPalavrasTodas()}else this.listaPalavras=[],this.listaPalavrasTodas();this.ultVerifServer=this.formatDateMilisec(Date.now()),this.loaderCheck=!1}).catch(()=>{this.listaPalavras=[],this.listaPalavrasTodas(),this.ultVerifServer=this.formatDateMilisec(Date.now()),this.loaderCheck=!1})},1)}else this.filter=null,this.getListaPalavras()},deleteListaPalavrasSensiveis(){let a=JSON.stringify({tabela:"palavras",select:"1=1"}),t=this.locationUrl+"/sql/deleteSql/"+this.token+"/resp_rest";setTimeout(()=>{console.log("URL: "+t),console.log("Parametro: "+a),this.$http.post(t,a,re).then(()=>{this.ultVerifServer=this.formatDateMilisec(Date.now()),this.loaderCheck=!1,this.$swal({title:"Sucesso!",html:"<h6>Lista de PALAVRAS CLASSIFICADAS excluida com sucesso!</h6>"}),this.esconderModalExcluirPalavrasSensiveis(),this.getListaPalavras()}).catch(()=>{this.$swal({title:"Atenção!",html:"<h6>Ocorreu um erro ao tentar excluir a lista de PALAVRAS CLASSIFICADAS!</h6>"}),this.esconderModalExcluirPalavrasSensiveis()})},1)},listaPalavrasTodas(){this.tabTitulo="Palavras na Pagina",this.tabListaPalavras=this.listaPalavras,this.totalRows=this.tabListaPalavras.length},getStatus(a,t){this.loaderCheck=!0;let e={palavras:a.palavra,tipo:a.tipo,status:"ATIVA"==a.status?"INATIVA":"ATIVA",fonetico:a.fonetico,grupoDlp:a.grupo_dlp,dataCriacao:a.dataCriacao,gravidade:a.gravidade},s=`${ie}/api/palflash/updateporpalavra/${a.palavra}/${this.ambiente}/${this.token}`;console.log("URL: "),console.log(s),setTimeout(()=>{this.$http.put(s,e,re).then(a=>{this.loaderCheck=!1,this.getListaPalavras()}).catch(()=>{this.loaderCheck=!1})},3e3)},getListaTipo(){let a=this.getGrupoDpl();console.log("Tipo de acesso: "+a);let t=`${this.locationUrl}/palavras/getTipos/${this.token}/${a}/resp_rest`;setTimeout(()=>{this.$http.get(t,re).then(a=>{let t=a.bodyText;t=t.replace("{","").replace("}","").replaceAll('"',"").replaceAll(/\n/gi,""),t=t.split(","),t.forEach(a=>{let t=a.split(":");this.selTipo.push(t[0])})}).catch(()=>{console.log("Erro ao carregar Tipos")})},4e3)},getListaArquivos(){this.loaderCheck=!0,console.log("Tipo de acesso: "+this.setGrupoDLP);let a=`${this.locationUrl}/palavras/listaArqsPals/${this.token}/${this.setGrupoDLP}/resp_rest`;setTimeout(()=>{this.$http.get(a,re).then(a=>{let t=a.data;console.log("RESPOSTA DA REQUISISAO"),console.log(t),this.listaArquivos.length>=1&&(console.log("ARRAY ZERADO PARA SER INSERIDO UM NOVO DADO"),this.listaArquivos=[]),t=t.replaceAll(" ","").split(","),t.filter(a=>""!=a?this.listaArquivos.push(a):""),this.loaderCheck=!1,console.log("OBJ DA RESPOSTA: "),console.log(obj)}).catch(()=>{this.loaderCheck=!1}),this.ativa.btnListaArquivos=!1},5e3)},abreComponentes(a,t){console.log(t),"0"==t.gravidade?(t.gravidade="NEUTRO",console.log("Tipo gravidade: "+t.gravidade)):"1"==t.gravidade?(t.gravidade="SERIO",console.log("Tipo gravidade: "+t.gravidade)):"2"==t.gravidade?(t.gravidade="GRAVE",console.log("Tipo gravidade: "+t.gravidade)):"3"==t.gravidade&&(t.gravidade="GRAVISSIMO",console.log("Tipo gravidade: "+t.gravidadee)),this.getItens=t,this.$bvModal.show(a)},abreModal(a){this.$bvModal.show(a)},fechaModal(a){this.$bvModal.hide(a)},onFiltered(a){this.totalRows=a.length,this.currentPage=1},chkTokenGdlp(){let a=window.atob(this.token).split("^").reverse();return a[0]},mostrarModalExcluirPalavrasSensiveis(){this.$refs["excluirPalavrasSensiveis-modal"].show()},esconderModalExcluirPalavrasSensiveis(){this.$refs["excluirPalavrasSensiveis-modal"].hide()},toggleModal(){this.$refs["excluirPalavrasSensiveis-modal"].toggle("#toggle-btn")}},mounted(){this.setGrupoDLP=this.chkTokenGdlp(),console.log("Tipode perfil: "+this.chkTokenGdlp().indexOf("*")),this.chkTokenGdlp().indexOf("*")<0&&this.$router.push("erro"),this.getListaPalavras(),setTimeout(()=>{this.getListaTipo()},100),console.log("Teste: "+((new Date).getMinutes()-parseInt(localStorage.getItem("dataLogin")))),(new Date).getMinutes()-parseInt(localStorage.getItem("dataLogin"))>=localStorage.getItem("limiteSessao")&&(localStorage.removeItem("infoUser"),localStorage.removeItem("user"),localStorage.removeItem("dataLogin"),location.reload(!0))}},ne=le,ce=(e("3dad"),Object(L["a"])(ne,Mt,Dt,!1,null,"74fc0b23",null)),de=ce.exports,ue=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"Usuários"}}),e("div",{staticClass:"container-full m-3"},[e("div",{staticClass:"row",attrs:{id:"box-tabela"}},[e("b-row",{staticClass:"mb-3",attrs:{id:"row-box-input"}},[e("b-col",{staticClass:"my-2",attrs:{xs:"12",sm:"7",md:"8"}},[e("small",[a._v("Última Verificação no Servidor: "+a._s(a.ultVerifServer))])]),e("b-col",{staticClass:"text-right",attrs:{xs:"12",sm:"5",md:"4"}},[e("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a.abreModal("user-adiciona")}}},[e("b-icon",{attrs:{icon:"person-plus-fill"}}),a._v(" Adicionar Usuário")],1)],1)],1),e("b-row",[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("b-card",{attrs:{"no-block":""}},[e("div",[e("b-button-group",{staticClass:"abas-h"},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.xlsDados,name:"Lista_Usuarios.xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.getListaUsuarios()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.total?"primary":"outline-primary"},on:{click:function(t){return a.listaUsuariosTodos()}}},[a._v("Todas: "+a._s(a.estatisticas.total))])],1),e("b-button-group",{staticClass:"abas-v",attrs:{vertical:""}},[e("download-xls",{staticClass:"btn btn-outline-primary",attrs:{fields:a.xlsTitulo,data:a.tabListaUsuarios,name:"Lista_Usuarios.xls"}},[e("b-icon",{staticClass:"mx-2",attrs:{icon:"download"}})],1),e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.getListaUsuarios()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1),e("b-button",{attrs:{variant:a.btnSel.total?"primary":"outline-primary"},on:{click:function(t){return a.listaUsuariosTodos()}}},[a._v("Todas: "+a._s(a.estatisticas.total))])],1)],1),e("hr",{staticClass:"my-0"}),e("b-row",{staticClass:"pt-3 bg-ice"},[e("b-col",{attrs:{xs:"12",sm:"12",md:"12"}},[e("h3",[a._v(a._s(a.tabTitulo))])]),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"4"}},[e("b-form-group",{attrs:{description:"Pesquise no resultado"}},[e("b-form-input",{attrs:{type:"search",placeholder:"Busca",size:"sm"},model:{value:a.filter,callback:function(t){a.filter=t},expression:"filter"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12 ",md:"2"}},[e("b-form-group",{attrs:{description:"por página"}},[e("b-form-select",{attrs:{options:a.pageOptions,size:"sm"},model:{value:a.perPage,callback:function(t){a.perPage=t},expression:"perPage"}})],1)],1),e("b-col",{staticClass:"py-1",attrs:{xs:"12",sm:"12",md:"6"}},[e("b-form-group",[e("small",[a._v(a._s("Total de Registros: "+a.totalRows))]),e("br"),e("b-pagination",{attrs:{"total-rows":a.totalRows,"per-page":a.perPage,size:"sm"},model:{value:a.currentPage,callback:function(t){a.currentPage=t},expression:"currentPage"}})],1)],1)],1),e("b-row",{attrs:{id:"box-tabela"}},[e("b-col",[e("div",{staticClass:"e-tab"},[a.listaUsuarios?e("b-table",{ref:"tabUsuarios",staticClass:"tab-usuarios mb-0",attrs:{id:"tabUsuarios","show-empty":"",small:"",striped:"",stacked:"md",items:a.tabListaUsuarios,fields:a.titTabela,"current-page":a.currentPage,"per-page":a.perPage,filter:a.filter,"tbody-tr-class":a.rowDisable,"empty-text":"Não há registro para sua pesquisa."},on:{filtered:a.onFiltered},scopedSlots:a._u([{key:"cell(icon)",fn:function(a){return[e("div",{staticClass:"text-center"},[e("b-icon",{staticClass:"mr-2",attrs:{icon:"person-fill",variant:"primary"}})],1)]}},{key:"cell(loginId)",fn:function(t){return[e("div",{staticClass:"text-left pr-3"},[a._v(" "+a._s(t.item.loginId)+" ")])]}},{key:"cell(emailLogin)",fn:function(t){return[e("div",[a._v(" "+a._s(a.descrEmail(t.item.emailLogin))+" ")])]}},{key:"cell(dtCriacaoLogin)",fn:function(t){return[e("div",[a._v(" "+a._s(a.formatDate(t.item.dtCriacaoLogin))+" ")])]}},{key:"cell(dtAtualizacaoLogin)",fn:function(t){return[e("div",[a._v(" "+a._s(a.formatDate(t.item.dtAtualizacaoLogin))+" ")])]}},{key:"cell(actions)",fn:function(t){return[e("div",{staticClass:"text-left"},[e("b-button-group",[e("b-button",{attrs:{id:"tooltip-button-ver-watcher-"+t.index,title:"Alterar Senha",size:"sm",variant:"outline-primary"},on:{click:function(e){return a.abreModal("user-senha",t.item)}}},[e("b-icon",{attrs:{icon:"key","font-scale":"1.5"}})],1),e("b-button",{attrs:{id:"tooltip-button-ver-watcher-"+t.index,title:"Editar Usuário",size:"sm",variant:"outline-primary"},on:{click:function(e){return a.abreModal("user-edita",t.item)}}},[e("b-icon",{attrs:{icon:"pencil","font-scale":"1.5"}})],1),e("b-button",{attrs:{id:"tooltip-button-ver-watcher-"+t.index,title:"Remover Usuário",size:"sm",variant:"danger"},on:{click:function(e){return a.abreModal("user-remove",t.item)}}},[e("b-icon",{attrs:{icon:"trash-fill","font-scale":"1.5"}})],1)],1)],1)]}}],null,!1,3255496162)}):a._e()],1)])],1)],1)],1)],1)],1)])],1)])]),a.modalUsuario.adiciona?e("modal-adiciona",{attrs:{modalUsuario:!0},on:{limpaModal:a.fechaModal}}):a._e(),a.dadosUsuario?e("div",[a.modalUsuario.edita?e("modal-edita",{attrs:{modalUsuario:!0,dados:a.dadosUsuario},on:{limpaModal:a.fechaModal}}):a._e(),a.modalUsuario.remove?e("modal-remove",{attrs:{modalUsuario:!0,dados:a.dadosUsuario},on:{limpaModal:a.fechaModal}}):a._e(),a.modalUsuario.senha?e("modal-senha",{attrs:{modalUsuario:!0,dados:a.dadosUsuario},on:{limpaModal:a.fechaModal}}):a._e()],1):a._e(),e("loader",{attrs:{status:a.loaderCheck}})],1)},pe=[],me=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"user-adiciona",attrs:{"ok-only":"",id:"user-adiciona",size:"lg","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Adicionar Usuário: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{attrs:{variant:"success",disabled:!a.verificaSalvar()},on:{click:function(t){return a.salvarUser()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"check"}}),a._v(" Salvar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal("user-adiciona")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}]),model:{value:a.modal,callback:function(t){a.modal=t},expression:"modal"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"E-mail","label-for":"addUsuario",description:"Caracteres permitidos: ([-_.], [a-z], [A-Z] e [0-9])"}},[e("b-form-input",{attrs:{id:"addUsuario",placeholder:"E-mail do usuário",state:a.valida.usuario,maxlength:"50"},on:{keyup:function(t){return a.verificaUsuario(a.dadosUser.usernameLogin)},blur:function(t){return a.verificaUsuario(a.dadosUser.usernameLogin)}},model:{value:a.dadosUser.usernameLogin,callback:function(t){a.$set(a.dadosUser,"usernameLogin",t)},expression:"dadosUser.usernameLogin"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Confirme seu e-mail","label-for":"addEmail",description:"Caracteres permitidos ([-_.], [a-z], [A-Z] e [0-9])"}},[e("b-form-input",{attrs:{id:"addEmail",placeholder:"Confirme seu e-mail",state:a.verificaEmailRep(),maxlength:"50"},on:{keyup:function(t){return a.verificaEmail(a.dadosUser.emailLogin)},blur:function(t){return a.verificaEmail(a.dadosUser.emailLogin)}},model:{value:a.dadosUser.emailLogin,callback:function(t){a.$set(a.dadosUser,"emailLogin",t)},expression:"dadosUser.emailLogin"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Empresa","label-for":"addEmpresa",description:"Caracteres permitidos ([*], [a-z] e [0-9])"}},[e("b-form-input",{attrs:{id:"addEmpresa",placeholder:"Identicação empresa",disabled:"*"!==a.userLogado.grupoDlp,maxlength:"30"},on:{keyup:function(t){return a.verificaEmpresa(a.dadosUser.empresa)},blur:function(t){return a.verificaEmpresa(a.dadosUser.empresa)}},model:{value:a.dadosUser.empresa,callback:function(t){a.$set(a.dadosUser,"empresa",t)},expression:"dadosUser.empresa"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Departamento","label-for":"addDepartamento",description:"Caracteres permitidos ([*], [a-z] e [0-9])"}},[e("b-form-input",{attrs:{id:"addDepartamento",placeholder:"Identicação deparamento!",disabled:!a.dadosUser.empresa||"*"===a.dadosUser.empresa||a.userLogado.grupoDlp.indexOf("*")<0,maxlength:"20"},on:{keyup:function(t){return a.verificaDpto(a.dadosUser.dpto)},blur:function(t){return a.verificaDpto(a.dadosUser.dpto)}},model:{value:a.dadosUser.dpto,callback:function(t){a.$set(a.dadosUser,"dpto",t)},expression:"dadosUser.dpto"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Grupo DLP","label-for":"addGrupo",description:"Resultado de empresa e depart."}},[e("b-form-input",{attrs:{id:"addGrupo",placeholder:"Grupo DLP gerado",disabled:"",state:a.valida.grupoDlp},model:{value:a.dadosUser.grupoDlp,callback:function(t){a.$set(a.dadosUser,"grupoDlp",t)},expression:"dadosUser.grupoDlp"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Senha","label-for":"addSenha"}},[e("b-form-input",{staticClass:"senha",attrs:{id:"addSenha",maxlength:"40",autocomplete:"off",type:a.verSenha.senha?"text":"password",placeholder:"Digite sua senha","dadosUser.senharep":"",state:a.valida.senha},on:{keyup:function(t){return a.verificaSenha(a.dadosUser.senhanova)},blur:function(t){return a.verificaSenha(a.dadosUser.senhanova)}},model:{value:a.dadosUser.senhanova,callback:function(t){a.$set(a.dadosUser,"senhanova",t)},expression:"dadosUser.senhanova"}}),e("b-icon",{staticClass:"verSenha",attrs:{"font-scale":"1.5",variant:"secondary",icon:a.verSenha.senha?"eye-slash-fill":"eye-fill"},on:{click:function(t){a.verSenha.senha=!a.verSenha.senha}}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Repita a Senha","label-for":"addRepSenha"}},[e("b-form-input",{staticClass:"senha",attrs:{id:"addRepSenha",maxlength:"40",autocomplete:"nope",type:a.verSenha.repete?"text":"password",placeholder:"Digite novamente sua senha",state:a.valida.repete},on:{keyup:function(t){return a.verificaSenhaRep(a.dadosUser.senharep)},blur:function(t){return a.verificaSenhaRep(a.dadosUser.senharep)}},model:{value:a.dadosUser.senharep,callback:function(t){a.$set(a.dadosUser,"senharep",t)},expression:"dadosUser.senharep"}}),e("b-icon",{staticClass:"verSenha",attrs:{"font-scale":"1.5",variant:"secondary",icon:a.verSenha.repete?"eye-slash-fill":"eye-fill"},on:{click:function(t){a.verSenha.repete=!a.verSenha.repete}}})],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[a._v(" Qualidade da Senha: "),e("div",{staticClass:"gadget"},[e("small",{staticClass:"status"},[a._v(a._s(a.valSenha.txt))]),e("div",{staticClass:"mark",style:{left:[a.valSenha.val+"%"]}})])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("small",[a._v(" Verifique se a senha contem pelo menos uma letra maiúscula, uma letra minúscula, um caractere especial, um número e no mínimo 8 posições digitadas."),e("br")])])]),e("div",{staticClass:"row"}),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},he=[],ve=new Headers;ve.append("Content-Type","application/json"),ve.append("Content-Type","text/plain"),ve.append("Cache-Control","no-cache"),ve.append("Expires","-1"),ve.append("Pragma","no-cache");var be={props:["modalUsuario"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,userLogado:{grupoDlp:"",user:""},modal:!!this.modalUsuario,dadosUser:{login_idLogin:"",usernameLogin:"",emailLogin:"",permissoesLogin:"adm",senhanova:"",senharep:"",dpo_idLogin:"",grupoDlp:"",empresa:"",dpto:""},valida:{usuario:null,email:null,grupoDlp:null,senha:null,repete:null,emailIgual:null},verSenha:{senha:!1,repete:!1},valSenha:{val:0,txt:""},resposta:{status:0,texto:""}}},watch:{modalUsuario(a){this.modal=a},dados(a){this.dados=a}},methods:{verificaEmailRep(){let a=this.dadosUser.emailLogin===this.dadosUser.usernameLogin;return a},descSenha(a){return window.atob(a)},verificaSalvar(){
//!!this.valida.id  ||||REMOVIDO PARA ENVIAR O USUARIO COMO EMAIL E O ID COMO NULL
return!!this.valida.usuario&&!!this.valida.email&&!!this.valida.grupoDlp&&!!this.valida.senha&&!!this.valida.repete&&!!this.verificaEmailRep()},verificaUsuario(a){let t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,e=a;if(e){let a=e.search(t);this.valida.usuario=-1!=a}else this.valida.usuario=null},verificaEmail(a){let t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,e=a;if(e){let a=e.search(t);this.valida.email=-1!=a}else this.valida.email=null},verificaEmpresa(a){var t=a.replace(/[`´~!@#$\%^&()|_\+\-\=?;:'"¨., <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");t=t.toLowerCase(),t=-1!=t.indexOf(" ")?t.replaceAll(" ",""):t,this.dadosUser.empresa=t,t.length>1&&t.indexOf("*")>-1&&(this.dadosUser.empresa=t.replace("*",""),this.dadosUser.dpto="*"),this.dadosUser.dpto="*"!==t&&t?this.dadosUser.dpto:"",this.dadosUser.grupoDlp=this.verificaGrupoDLPEdit()},verificaDpto(a){var t=a.replace(/[`´~!@#$\%^&()|_\+\-\=?;:'"¨., <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");t=t.toLowerCase(),this.dadosUser.dpto=t,t.length>1&&t.indexOf("*")>-1&&(this.dadosUser.dpto=t.replace("*","")),this.dadosUser.grupoDlp=this.verificaGrupoDLPEdit()},verificaGrupoDLPEdit(){if(""==this.dadosUser.empresa&&""==this.dadosUser.dpto)this.valida.grupoDlp=!1;else{if("*"===this.dadosUser.empresa)return this.valida.grupoDlp=!0,this.dadosUser.empresa;if(this.dadosUser.empresa&&"*"===this.dadosUser.dpto)return this.valida.grupoDlp=!0,this.dadosUser.empresa+this.dadosUser.dpto;if(this.dadosUser.empresa&&this.dadosUser.dpto)return this.valida.grupoDlp=!0,this.dadosUser.empresa+"_"+this.dadosUser.dpto;if(this.dadosUser.empresa.indexOf("*")>-1&&!this.dadosUser.dpto){this.valida.grupoDlp=!0;var a=this.dadosUser.empresa.split("*");return a[1]?a[0]+a[1]+"*":a[0]+"*"}if(this.dadosUser.empresa.indexOf("*")<0&&!this.dadosUser.dpto)return this.valida.grupoDlp=!0,this.dadosUser.empresa;this.dadosUser.empresa?this.valida.grupoDlp=!1:(this.valida.grupoDlp=!0,this.dadosUser.dpto="")}},verificaSenha(a){let t=/(?=.*\d)/,e=/(?=.*[a-z])/,s=/(?=.*[A-Z])/,o=/(?=.*[$*&@#%!?+-=:;\(\)\{\}\<\>\\\?])/,i=/[0-9a-zA-Z$*&@#%!?+-=:;\(\)\{\}\<\>\\\?)]{8,}$/,r=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[$*&@#%!?+-=:;\(\)\{\}\<\>\\\?])[0-9a-zA-Z$*&@#%!?+-=:;\(\)\{\}\<\>\\\?)]{8,}$/,l=0,n=t.test(a)&&e.test(a)&&s.test(a)&&o.test(a)&&i.test(a);l+=t.test(a)?12:0,l+=e.test(a)?12:0,l+=s.test(a)?12:0,l+=o.test(a)?12:0,l+=i.test(a)?12:0,l+=a.length>11&&n?20:0,l+=a.length>15&&n?20:0,this.valSenha.val=l,this.valSenha.txt=l>=100?"Excelente":l<100&&l>=80?"Ótimo":l<80&&l>=60?"Bom":l<60&&l>=40?"Regular":l<40&&l>=20?"Fraco":l<20&&l>=0?"Ruim":"Força da senha";let c=r.test(a);this.valida.senha=c,this.dadosUser.senhanova=a,this.valida.repete=!1},verificaSenhaRep(a){this.valida.repete=this.setCrpPsw(this.dadosUser.senhanova)===this.setCrpPsw(a),this.dadosUser.senharep=a},async salvarUser(){this.loaderCheck=!0;let a=this.setCrpPsw(this.dadosUser.senhanova),t=JSON.stringify({idDpo:null,nomeDpo:this.dadosUser.usernameLogin,emailDpo:this.dadosUser.emailLogin,tipoPerfilDpo:1,hash_senhaLogin:a,grupoDlp:this.dadosUser.grupoDlp}),e=`${this.locationUrl}/dpo/perfil/novo/${this.token}/resp_rest`;await this.$http.post(e,t,ve).then(a=>{this.loaderCheck=!1,this.salvaLogin()}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},async salvaLogin(){this.loaderCheck=!0;let a=this.setCrpPsw(this.dadosUser.senhanova),t={login_idLogin:null,usernameLogin:this.dadosUser.usernameLogin,emailLogin:this.dadosUser.emailLogin,permissoesLogin:"adm",hash_senhaLogin:a,dpo_idLogin:null,grupoDlp:this.dadosUser.grupoDlp},e=`${this.locationUrl}/dpo/login/novo/${this.token}/resp_rest`;await this.$http.post(e,t,ve).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0)}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`Usuário "${this.dadosUser.usernameLogin}" foi criado com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3e3),setTimeout(()=>{this.fechaModal()},3e3)):(this.resposta={status:2,texto:`Falha ao criar do usuário "${this.dadosUser.usernameLogin}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3e3))},setCrpPsw(a){a=a;return a=this.$CryptoJS.SHA256(a).toString(),a},fechaModal(){this.$emit("limpaModal","user-adiciona")},userLog(){let a=window.atob(this.token),t=a.split("-");this.userLogado.user=t[0];let e=a.split("^");if(this.userLogado.grupoDlp=e[1],"*"!==this.userLogado.grupoDlp)if(this.userLogado.grupoDlp.indexOf("*")>-1){let a=this.userLogado.grupoDlp.replace("*","");this.dadosUser.empresa=a,this.dadosUser.dpto="",this.dadosUser.grupoDlp=this.userLogado.grupoDlp}else{let a=this.userLogado.grupoDlp.split("_");this.dadosUser.empresa=a[0],this.dadosUser.dpto=a[1],this.dadosUser.grupoDlp=this.userLogado.grupoDlp,this.valida.grupoDlp=!0}}},mounted(){this.userLog(),this.$refs["user-adiciona"].hide()}},ge=be,fe=(e("3a68"),Object(L["a"])(ge,me,he,!1,null,null,null)),Ae=fe.exports,Ce=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"user-edita",attrs:{"ok-only":"",id:"user-edita",size:"lg","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{attrs:{variant:"success",disabled:!a.verificaSalvar()},on:{click:function(t){return a.salvaLogin()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"check"}}),a._v(" Salvar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal("user-edita")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}]),model:{value:a.modal,callback:function(t){a.modal=t},expression:"modal"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Usuário","label-for":"editUsuario",description:"Caracteres permitidos: ([-_.], [a-z], [A-Z] e [0-9])"}},[e("b-form-input",{attrs:{id:"editUsuario",placeholder:"Nome de usuário",state:a.valida.usuario,maxlength:"30"},on:{keyup:function(t){return a.verificaUsuario(a.dadosUser.usernameLogin)},blur:function(t){return a.verificaUsuario(a.dadosUser.usernameLogin)}},model:{value:a.dadosUser.usernameLogin,callback:function(t){a.$set(a.dadosUser,"usernameLogin",t)},expression:"dadosUser.usernameLogin"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"E-mail","label-for":"editEmail",description:"Caracteres permitidos ([-_.], [a-z], [A-Z] e [0-9])"}},[e("b-form-input",{attrs:{id:"editEmail",placeholder:"E-mail do usuário",state:a.verificaEmailRep(),maxlength:"50"},on:{keyup:function(t){return a.verificaEmail(a.dadosUser.emailDesc)},blur:function(t){return a.verificaEmail(a.dadosUser.emailDesc)}},model:{value:a.dadosUser.emailDesc,callback:function(t){a.$set(a.dadosUser,"emailDesc",t)},expression:"dadosUser.emailDesc"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Empresa","label-for":"editEmpresa",description:"Caracteres permitidos ([*], [a-z] e [0-9])"}},[e("b-form-input",{attrs:{id:"editEmpresa",placeholder:"Identicação empresa",maxlength:"30",disabled:"*"!==a.userLogado.grupoDlp},on:{keyup:function(t){return a.verificaEmpresa(a.dadosUser.empresa)},blur:function(t){return a.verificaEmpresa(a.dadosUser.empresa)}},model:{value:a.dadosUser.empresa,callback:function(t){a.$set(a.dadosUser,"empresa",t)},expression:"dadosUser.empresa"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Departamento","label-for":"editDepartamento",description:"Caracteres permitidos ([*], [a-z] e [0-9])"}},[e("b-form-input",{attrs:{id:"editDepartamento",placeholder:"Identicação deparamento!",disabled:!a.dadosUser.empresa||"*"===a.dadosUser.empresa||a.userLogado.grupoDlp.indexOf("*")<0,maxlength:"20"},on:{keyup:function(t){return a.verificaDpto(a.dadosUser.dpto)},blur:function(t){return a.verificaDpto(a.dadosUser.dpto)}},model:{value:a.dadosUser.dpto,callback:function(t){a.$set(a.dadosUser,"dpto",t)},expression:"dadosUser.dpto"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Grupo DLP","label-for":"editGrupo",description:"Resultado de empresa e depart."}},[e("b-form-input",{attrs:{id:"editGrupo",placeholder:"Grupo DLP gerado",disabled:"",state:a.valida.grupoDlp},model:{value:a.dadosUser.grupoDlp,callback:function(t){a.$set(a.dadosUser,"grupoDlp",t)},expression:"dadosUser.grupoDlp"}})],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},_e=[],xe=new Headers;xe.append("Content-Type","application/json"),xe.append("Content-Type","text/plain"),xe.append("Cache-Control","no-cache"),xe.append("Expires","-1"),xe.append("Pragma","no-cache");var ke={props:["modalUsuario","dados"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,userLogado:{grupoDlp:"",user:""},modal:!!this.modalUsuario,dadosUser:this.dados,valida:{usuario:null,email:null,grupoDlp:null},resposta:{status:0,texto:""}}},watch:{modalUsuario(a){this.modal=a},dados(a){this.dados=a}},methods:{descSenha(a){return window.atob(a)},verificaEmailRep(){let a=this.dadosUser.emailDesc===this.dadosUser.usernameLogin;return a},verificaSalvar(){return!!this.valida.usuario&&!!this.valida.email&&!!this.valida.grupoDlp&&!!this.verificaEmailRep()},verificaEmail(a){let t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,e=a,s=e.search(t);this.valida.email=-1!=s},verificaUsuario(a){let t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,e=a;if(e){let a=e.search(t);this.valida.usuario=-1!=a}else this.valida.usuario=null},verificaEmpresa(a){var t=a.replace(/[`´~!@#$\%^&()|_\+\-\=?;:'"¨., <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");t=t.toLowerCase(),t=-1!=t.indexOf(" ")?t.replaceAll(" ",""):t,this.dadosUser.empresa=t,t.length>1&&t.indexOf("*")>-1&&(this.dadosUser.empresa=t.replace("*",""),this.dadosUser.dpto="*"),this.dadosUser.dpto="*"!==t&&t?this.dadosUser.dpto:"",this.dadosUser.grupoDlp=this.verificaGrupoDLPEdit()},verificaDpto(a){var t=a.replace(/[`´~!@#$\%^&()|_\+\-\=?;:'"¨., <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");t=t.toLowerCase(),this.dadosUser.dpto=t,t.length>1&&t.indexOf("*")>-1&&(this.dadosUser.dpto=t.replace("*","")),this.dadosUser.grupoDlp=this.verificaGrupoDLPEdit()},verificaGrupoDLPEdit(){if(""==this.dadosUser.empresa&&""==this.dadosUser.dpto)this.valida.grupoDlp=!1;else{if("*"===this.dadosUser.empresa)return this.valida.grupoDlp=!0,this.dadosUser.empresa;if(this.dadosUser.empresa&&"*"===this.dadosUser.dpto)return this.valida.grupoDlp=!0,this.dadosUser.empresa+this.dadosUser.dpto;if(this.dadosUser.empresa&&this.dadosUser.dpto)return this.valida.grupoDlp=!0,this.dadosUser.empresa+"_"+this.dadosUser.dpto;if(this.dadosUser.empresa.indexOf("*")>-1&&!this.dadosUser.dpto){this.valida.grupoDlp=!0;var a=this.dadosUser.empresa.split("*");return a[1]?a[0]+a[1]+"*":a[0]+"*"}if(this.dadosUser.empresa.indexOf("*")<0&&!this.dadosUser.dpto)return this.valida.grupoDlp=!0,this.dadosUser.empresa;this.dadosUser.empresa?this.valida.grupoDlp=!1:(this.valida.grupoDlp=!0,this.dadosUser.dpto="")}},async salvarUser(){this.loaderCheck=!0;let a=JSON.stringify({nomeDpo:this.dadosUser.usernameLogin,emailDpo:this.dadosUser.emailLogin,tipoPerfilDpo:1}),t=`${this.locationUrl}/dpo/perfil/atu/${this.dadosUser.dpo_idLogin}/${this.token}/resp_rest`;await this.$http.post(t,a,xe).then(a=>{this.loaderCheck=!1,this.salvaLogin()}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},async salvaLogin(){let a=window.atob(this.dadosUser.hashSenhaLogin),t=new Date;t=`${t.getFullYear()}-${t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1}-${t.getDate()<10?"0"+t.getDate():t.getDate()} ${t.getHours()<10?"0"+t.getHours():t.getHours()}:${t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}:${t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()}}`;let e=JSON.stringify({login_idLogin:this.dadosUser.loginId,usernameLogin:this.dadosUser.usernameLogin,emailLogin:this.dadosUser.emailDesc,dtCriacaoLogin:this.dadosUser.dtCriacaoLogin,dtAtualizacaoLogin:t,permissoesLogin:this.dadosUser.permissoesLogin,hash_senhaLogin:a,dpo_idLogin:this.dadosUser.loginId,grupoDlp:this.dadosUser.grupoDlp}),s=`${this.locationUrl}/dpo/login/atua/${this.dadosUser.loginId}/${this.token}/resp_rest`;await this.$http.post(s,e,xe).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0)}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`Usuário "${this.dadosUser.usernameLogin}" foi alterado com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3e3),setTimeout(()=>{this.fechaModal()},3100)):(this.resposta={status:2,texto:`Falha ao salvar as alterações do usuário "${this.dadosUser.usernameLogin}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3e3))},fechaModal(){this.$emit("limpaModal","user-edita")},userLog(){let a=window.atob(this.token),t=a.split("-");this.userLogado.user=t[0];let e=a.split("^");this.userLogado.grupoDlp=e[1]}},mounted(){this.$refs["user-edita"].hide(),this.userLog()}},Se=ke,ye=(e("16d0"),Object(L["a"])(Se,Ce,_e,!1,null,null,null)),Me=ye.exports,De=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"user-remove",attrs:{"ok-only":"",id:"user-remove",size:"md","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Remover Usuário: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"warning",disabled:!a.verificaRemover()},on:{click:function(t){return a.removeLogin()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"trash-fill"}}),a._v(" Remover ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal("user-remove")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}]),model:{value:a.modal,callback:function(t){a.modal=t},expression:"modal"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Usuário","label-for":"removeUsuario"}},[e("b-form-input",{attrs:{id:"removeUsuario",disabled:""},model:{value:a.dadosUser.usernameLogin,callback:function(t){a.$set(a.dadosUser,"usernameLogin",t)},expression:"dadosUser.usernameLogin"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Grupo DLP","label-for":"removeGrupo"}},[e("b-form-input",{attrs:{id:"vemoveGrupo",disabled:""},model:{value:a.dadosUser.grupoDlp,callback:function(t){a.$set(a.dadosUser,"grupoDlp",t)},expression:"dadosUser.grupoDlp"}})],1)],1),e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Aceite de remoção de usuário:","label-for":"remover"}},[e("b-form-checkbox",{staticClass:"remove",attrs:{id:"remover","button-variant":"danger",value:"true","unchecked-value":"false",switch:""},model:{value:a.valida.remove,callback:function(t){a.$set(a.valida,"remove",t)},expression:"valida.remove"}},[a._v(" Deseja realmente remover o usuário do grupo DLP acima? ")])],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},we=[],Pe=new Headers;Pe.append("Content-Type","application/json"),Pe.append("Content-Type","text/plain"),Pe.append("Cache-Control","no-cache"),Pe.append("Expires","-1"),Pe.append("Pragma","no-cache");var qe={props:["modalUsuario","dados"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,modal:!!this.modalUsuario,dadosUser:this.dados,removeItem:!1,valida:{remove:null},resposta:{status:0,texto:""}}},watch:{modalUsuario(a){this.modal=a},dados(a){this.dados=a}},methods:{descSenha(a){return window.atob(a)},verificaRemover(){return"true"===this.valida.remove},async removeUser(){this.loaderCheck=!0;let a=`${this.locationUrl}/dpo/perfil/del/${this.dadosUser.loginId}/${this.token}/resp_rest`;await this.$http.post(a,Pe).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0)}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},async removeLogin(){this.loaderCheck=!0;let a=`${this.locationUrl}/dpo/login/del/${this.dadosUser.loginId}/${this.token}/resp_rest`;await this.$http.post(a,Pe).then(a=>{this.loaderCheck=!1,this.removeUser()}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`Usuário "${this.dadosUser.usernameLogin}" foi removido com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal()},3600)):(this.resposta={status:2,texto:`Falha ao remover o usuário "${this.dadosUser.usernameLogin}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},fechaModal(){this.$emit("limpaModal","user-remove")}},mounted(){this.$refs["user-remove"].hide()}},Ue=qe,Ee=(e("f7c2"),Object(L["a"])(Ue,De,we,!1,null,null,null)),$e=Ee.exports,Te=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"user-senha",attrs:{"ok-only":"",id:"user-senha",size:"lg","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Alterar Senha do Usuário: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{attrs:{variant:"success",disabled:!a.verificaSalvar()},on:{click:function(t){return a.salvaSenha()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"check"}}),a._v(" Salvar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal("user-edit")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}]),model:{value:a.modal,callback:function(t){a.modal=t},expression:"modal"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Usuário","label-for":"senhaUsuario"}},[e("b-form-input",{attrs:{id:"senhaUsuario",disabled:""},model:{value:a.dadosUser.usernameLogin,callback:function(t){a.$set(a.dadosUser,"usernameLogin",t)},expression:"dadosUser.usernameLogin"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Grupo DLP","label-for":"senhaGrupo"}},[e("b-form-input",{attrs:{id:"senhaGrupo",disabled:""},model:{value:a.dadosUser.grupoDlp,callback:function(t){a.$set(a.dadosUser,"grupoDlp",t)},expression:"dadosUser.grupoDlp"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Nova Senha","label-for":"senhaNova"}},[e("b-form-input",{class:a.showSenhaAntiga?"":"senha",attrs:{id:"senhaNova",maxlength:"40",autocomplete:"off",type:a.verSenha.senha?"text":"password",placeholder:"Digite sua senha",state:a.valida.senha,disabled:a.showSenhaAntiga},on:{keyup:function(t){return a.verificaSenha(a.dadosUser.senhanova)},blur:function(t){return a.verificaSenha(a.dadosUser.senhanova)}},model:{value:a.dadosUser.senhanova,callback:function(t){a.$set(a.dadosUser,"senhanova",t)},expression:"dadosUser.senhanova"}}),a.showSenhaAntiga?a._e():e("b-icon",{staticClass:"verSenha",attrs:{"font-scale":"1.5",variant:"secondary",icon:a.verSenha.senha?"eye-slash-fill":"eye-fill"},on:{click:function(t){a.verSenha.senha=!a.verSenha.senha}}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Repita a Senha","label-for":"senhaRep"}},[e("b-form-input",{class:a.showSenhaAntiga?"":"senha",attrs:{id:"senhaRep",maxlength:"40",autocomplete:"nope",type:a.verSenha.repete?"text":"password",placeholder:"Digite novamente a sua senha!",state:a.valida.repete,disabled:a.showSenhaAntiga},on:{keyup:function(t){return a.verificaSenhaRep(a.dadosUser.senharep)},blur:function(t){return a.verificaSenhaRep(a.dadosUser.senharep)}},model:{value:a.dadosUser.senharep,callback:function(t){a.$set(a.dadosUser,"senharep",t)},expression:"dadosUser.senharep"}}),a.showSenhaAntiga?a._e():e("b-icon",{staticClass:"verSenha",attrs:{"font-scale":"1.5",variant:"secondary",icon:a.verSenha.repete?"eye-slash-fill":"eye-fill"},on:{click:function(t){a.verSenha.repete=!a.verSenha.repete}}})],1)],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[a._v(" Qualidade da Senha: "),e("div",{staticClass:"gadget"},[e("small",{staticClass:"status"},[a._v(a._s(a.valSenha.txt))]),e("div",{staticClass:"mark",style:{left:[a.valSenha.val+"%"]}})])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("small",[a._v(" Verifique se a senha contem pelo menos uma letra maiúscula, uma letra minúscula, um caractere especial, um número e no mínimo 8 posições digitadas."),e("br")])])]),a.showSenhaAntiga?e("b-alert",{attrs:{variant:"info",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:"info-circle-fill","font-scale":"1.2"}}),a._v(" Clique em salvar para ajustar a senha atual no novo padão em hash! ")],1):a._e(),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},Le=[],Ie=new Headers;Ie.append("Content-Type","application/json"),Ie.append("Content-Type","text/plain"),Ie.append("Cache-Control","no-cache"),Ie.append("Expires","-1"),Ie.append("Pragma","no-cache");var Oe={props:["modalUsuario","dados"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,modal:!!this.modalUsuario,dadosUser:this.dados,showSenhaAntiga:!1,verSenha:{senha:!1,repete:!1},valida:{senha:null,repete:null},valSenha:{val:0,txt:"Força da senha"},resposta:{status:0,texto:""}}},watch:{modalUsuario(a){this.modal=a},dados(a){this.dados=a}},methods:{getSenhaAntiga(a){var t=new Date(this.dadosUser.dtAtualizacaoLogin),e=new Date("2021-03-07 23:59:59");t<e&&(this.dadosUser.senhanova=this.senhaDesc(a),this.dadosUser.senharep=this.senhaDesc(a)),this.showSenhaAntiga=t<e},senhaDesc(a){return window.atob(a)},verificaSalvar(){return!0===this.valida.senha&&!0===this.valida.repete||this.showSenhaAntiga},verificaSenha(a){let t=/(?=.*\d)/,e=/(?=.*[a-z])/,s=/(?=.*[A-Z])/,o=/(?=.*[$*&@#%!?+-=:;\(\)\{\}\<\>\\\?])/,i=/[0-9a-zA-Z$*&@#%!?+-=:;\(\)\{\}\<\>\\\?)]{8,}$/,r=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[$*&@#%!?+-=:;\(\)\{\}\<\>\\\?])[0-9a-zA-Z$*&@#%!?+-=:;\(\)\{\}\<\>\\\?)]{8,}$/;var l=0,n=t.test(a)&&e.test(a)&&s.test(a)&&o.test(a)&&i.test(a);l+=t.test(a)?12:0,l+=e.test(a)?12:0,l+=s.test(a)?12:0,l+=o.test(a)?12:0,l+=i.test(a)?12:0,l+=a.length>11&&n?20:0,l+=a.length>15&&n?20:0,this.valSenha.val=l,this.valSenha.txt=l>=100?"Excelente":l<100&&l>=80?"Ótimo":l<80&&l>=60?"Bom":l<60&&l>=40?"Regular":l<40&&l>=20?"Fraco":l<20&&l>=0?"Ruim":"Força da senha";let c=r.test(a);this.valida.senha=c,this.dadosUser.senhanova=a,this.valida.repete=!1},verificaSenhaRep(a){this.valida.repete=this.setCrpPsw(this.dadosUser.senhanova)===this.setCrpPsw(a),this.dadosUser.senharep=a},async salvaSenha(){this.loaderCheck=!0;let a=new Date;a=`${a.getFullYear()}-${a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1}-${a.getDate()<10?"0"+a.getDate():a.getDate()} ${a.getHours()<10?"0"+a.getHours():a.getHours()}:${a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes()}:${a.getSeconds()<10?"0"+a.getSeconds():a.getSeconds()}}`;let t=this.setCrpPsw(this.dadosUser.senhanova),e=JSON.stringify({login_idLogin:this.dadosUser.loginId,usernameLogin:this.dadosUser.usernameLogin,emailLogin:this.dadosUser.emailDesc,dtCriacaoLogin:this.dadosUser.dtCriacaoLogin,dtAtualizacaoLogin:this.dadosUser.dtAtualizacaoLogin,permissoesLogin:this.dadosUser.permissoesLogin,hash_senhaLogin:t,dpo_idLogin:this.dadosUser.loginId,grupoDlp:this.dadosUser.grupoDlp}),s=`${this.locationUrl}/dpo/login/atua/${this.dadosUser.loginId}/${this.token}/resp_rest`;await this.$http.post(s,e,Ie).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0)}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`A senha do usuário "${this.dadosUser.usernameLogin}" foi alterada com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal()},3600)):(this.resposta={status:2,texto:`Falha ao salvar a alteração de senha do usuário "${this.dadosUser.usernameLogin}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},getParaphase(){return this.token+"%"+this.locationInfo},setCrpPsw(a){a=a;return a=this.$CryptoJS.SHA256(a).toString(),a},fechaModal(){this.$emit("limpaModal","user-senha")}},mounted(){this.dadosUser.senhanova="",this.dadosUser.senharep="",this.$refs["user-senha"].hide(),setTimeout(()=>{this.getSenhaAntiga(this.dadosUser.hashSenhaLogin)},10)}},Re=Oe,je=(e("0074"),Object(L["a"])(Re,Te,Le,!1,null,null,null)),Ne=je.exports;e("caf9"),e("d7e8");var ze=new Headers;ze.append("Content-Type","application/json"),ze.append("Cache-Control","no-cache"),ze.append("Expires","-1"),ze.append("Pragma","no-cache");var Ge={components:{"meu-painel":B["a"],"menu-lateral":H["a"],"modal-adiciona":Ae,"modal-edita":Me,"modal-remove":$e,"modal-senha":Ne,loader:U["a"]},data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!0,tempoAtividade:Date.now()-12e4,tempoAtualizacao:1e4,ultVerifServer:"",modalUsuario:{adiciona:!1,edita:!1,remove:!1,senha:!1},listaUsuarios:[],tabListaUsuarios:[],dadosUsuario:"",tabTitulo:"Total",evidencias:[],imgFull:"",chkIndex:null,titTabela:[{key:"actions",label:"Ações"},{key:"loginId",label:"ID",sortable:!0,class:"text-left"},{key:"usernameLogin",label:"Usuário",sortable:!0,class:"text-left",sortDirection:"desc"},{key:"emailLogin",label:"Email",sortable:!0,class:"text-left",sortDirection:"desc"},{key:"dtCriacaoLogin",label:"Cadastro",sortable:!0,class:"text-left"},{key:"dtAtualizacaoLogin",label:"Data Atualização",sortable:!0,class:"text-left"},{key:"grupoDlp",label:"grupo dlp",sortable:!0,class:"text-left"}],estatisticas:{total:0},btnSel:{total:!1},totalRows:1,currentPage:1,perPage:20,pageOptions:[10,20,50,100],filter:null,xlsTitulo:{"Id Login":"loginId","Usuário":"usernameLogin","E-mail":"emailDesc",Senha:"senhaDesc","Grupo DLP":"grupoDlp","Criado em:":"criacaoDat","Atualizado em:":"atualizacaoDat"},xlsDados:[]}},computed:{sortOptions(){return this.fields.filter(a=>a.sortable).map(a=>({text:a.label,value:a.key}))}},watch:{totalRows(a){this.totalRows=a},tabListaUsuarios(a){this.geraXls(a)},listaUsuarios(a){this.geraEstatisticas()}},methods:{geraXls(a){var t=a;t&&(t.forEach(a=>{a.emailDesc=this.descrEmail(a.emailLogin),a.criacaoDat=this.formatDate(a.dtCriacaoLogin),a.atualizacaoDat=this.formatDate(a.dtAtualizacaoLogin),a.senhaDesc="*************************"}),this.xlsDados=t)},horaFormat(a){var t=new Date(a).toString();return t=t.split(" GMT"),t=t[0].split(" ").reverse(),t=t[0],t},formatDate(a){let t=a;if("NULL"!=t){t=t.split(" ");let a=t[1],s=t[0].split("-").reverse();s=s[0]+"/"+s[1]+"/"+s[2];var e=`${s} - ${a}`;return e}return"Data Indefinida"},formatDateMilisec(a){let t=a,e=108e5;t-=e,t=new Date(t);var s=t.getDate(),o=t.getMonth()+1,i=t.getFullYear(),r=t.getUTCHours(),l=t.getMinutes(),n=t.getSeconds(),c=`${s<10?"0"+s:s}/${o<10?"0"+o:o}/${i} - ${r<10?"0"+r:r}:${l<10?"0"+l:l}:${n<10?"0"+n:n}`;return c},htmlFormat(a){let t=a;t=t.replace(/=(\r\n|\n|\r)/gm,"<br>")},descrEmail(a){let t=window.atob(a);return t},botaoSelecionado(a){this.btnSel={total:!1},this.btnSel[a]=!0},rowDisable(a,t){if(a&&null!==a.maq_ativa)return"false"===a.maq_ativa?"inativo":"ativo"},async getListaUsuarios(){this.loaderCheck=!0,this.listaUsuarios=[];let a=`${this.locationUrl}/dpo/login/todos/${this.token}/resp_rest`;await this.$http.get(a,ze).then(a=>{this.loaderCheck=!1,console.log(a);let t=JSON.parse(`[${a.bodyText}]`);t.forEach(a=>{let t=a.grupoDlp;if("*"===t)a.empresa="*",a.dpto="";else if(t.indexOf("*")>-1&&t.length>1)a.empresa=t.replace("*",""),a.dpto="*";else if(t.indexOf("_")>-1){var e=t.split("_");a.empresa=e[0],a.dpto=e[1]}else a.empresa=t,a.dpto=""}),this.listaUsuarios=t,this.geraEstatisticas(),this.listaUsuariosTodos(),this.ultVerifServer=this.formatDateMilisec(Date.now())}).catch(a=>{this.loaderCheck=!1,this.listaUsuarios=[],this.listaUsuariosTodos(),this.ultVerifServer=this.formatDateMilisec(Date.now()),console.log(a)})},listaUsuariosTodos(){this.tabTitulo="Todos os usuários",this.botaoSelecionado("total"),this.tabListaUsuarios=this.listaUsuarios,this.totalRows=this.tabListaUsuarios.length},geraEstatisticas(){this.estatisticas={total:0,ativo:0,inativo:0},this.estatisticas.total=this.listaUsuarios.length},getParaphase(){return this.token+"%"+this.locationInfo},setCrpStorage(a){a=a;a=this.$CryptoJS.AES.encrypt(a,this.getParaphase()).toString(),localStorage.setItem("x-mon-maq",a)},getCrpStorage(){var a=localStorage.getItem("x-mon-maq");return a=a?this.$CryptoJS.AES.decrypt(a,this.getParaphase()).toString(this.CryptoJS.enc.Utf8):"",a},abreModal(a,t){t&&(this.dadosUsuario=t),this.modalUsuario={adiciona:"user-adiciona"==a,edita:"user-edita"==a,remove:"user-remove"==a,senha:"user-senha"==a},setTimeout(()=>{this.$bvModal.show(a)},10)},fechaModal(a){this.$bvModal.hide(a),this.getListaUsuarios(),setTimeout(()=>{this.dadosUsuario="",this.modalUsuario={adiciona:!1,edita:!1,remove:!1,senha:!1}},500)},onFiltered(a){this.totalRows=a.length,this.currentPage=1}},mounted(){this.getListaUsuarios()}},Je=Ge,Ve=(e("55fe"),Object(L["a"])(Je,ue,pe,!1,null,"8fbade4c",null)),Fe=Ve.exports,Be=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"Parâmetros do Servidor"}}),e("div",{staticClass:"container-full m-3"},[e("div",{staticClass:"row",attrs:{id:"box-tabela"}},[e("b-row",{staticClass:"mb-3",attrs:{id:"row-box-input"}},[e("b-col",{staticClass:"my-2",attrs:{sm:"7",md:"8"}},[e("small",[a._v("Última Verificação no Servidor: "+a._s(a.ultVerifServer))])]),e("b-col",{staticClass:"text-right",attrs:{sm:"5",md:"4"}},[e("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a.abreModal("modal-adiciona")}}},[e("b-icon",{attrs:{icon:"person-plus-fill"}}),a._v(" Adicionar Parâmetro")],1)],1)],1),e("b-row",[e("b-col",{attrs:{sm:"12",md:"12"}},[e("b-card",{attrs:{"no-block":""}},[e("div",[e("b-button-group",{staticClass:"abas-h"},[e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.getListaUsuarios()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1)],1),e("b-button-group",{staticClass:"abas-v",attrs:{vertical:""}},[e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.getListaUsuarios()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1)],1)],1),e("hr",{staticClass:"my-0"}),e("b-row",{staticClass:"pt-3 bg-ice"},[e("b-col",{attrs:{sm:"12",md:"12"}},[e("h3",[a._v(a._s(a.tabTitulo))])])],1),e("b-row",{attrs:{"align-v":"stretch"}},a._l(a.listaParam,(function(t,s,o){return e("b-col",{key:o,staticClass:"my-2 pb-3 border-bottom",style:{display:[a.checaArray(s)&&"json"!==s?"block":"none"]},attrs:{sm:"12",md:"6",lg:"4",xl:"4"}},[a.checaArray(s)&&"json"!==s?e("b-form-group",{attrs:{id:"input-group-1",label:o+") Parâmetro: "+s,"label-for":s}},["object"==typeof t?e("b-form-tags",{staticClass:"tag-area",attrs:{"input-id":s,separator:",",value:t,"add-button-text":"Inserir",placeholder:"Adicione...",disabled:o!==a.editCampo},model:{value:a.listaParam[s],callback:function(t){a.$set(a.listaParam,s,t)},expression:"listaParam[campo]"}}):"number"==typeof t?e("b-form-input",{attrs:{type:"number",id:s,name:s,value:t,disabled:o!==a.editCampo},model:{value:a.listaParam[s],callback:function(t){a.$set(a.listaParam,s,t)},expression:"listaParam[campo]"}}):"boolean"==typeof t?e("b-form-checkbox",{staticClass:"text-grey",attrs:{switch:"",id:s,name:s,disabled:o!==a.editCampo},model:{value:a.listaParam[s],callback:function(t){a.$set(a.listaParam,s,t)},expression:"listaParam[campo]"}},[a._v(" Sim ")]):e("b-form-input",{attrs:{id:s,name:s,value:t,type:"text",required:"",disabled:o!==a.editCampo},model:{value:a.listaParam[s],callback:function(t){a.$set(a.listaParam,s,t)},expression:"listaParam[campo]"}}),o===a.editCampo?e("b-button-group",{staticClass:"box-button"},[e("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(t){return a.salvaEdicao(s,a.listaParam[s])}}},[e("b-icon",{attrs:{icon:"check"}})],1),e("b-button",{staticClass:"text-light",attrs:{variant:"warning",size:"sm"},on:{click:function(t){return a.cancelaEdicao(-1)}}},[e("b-icon",{attrs:{icon:"x"}})],1)],1):a._e(),o!==a.editCampo?e("b-button-group",{staticClass:"box-button"},[e("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(t){return a.habilitaEdicao(o,[s,a.listaParam[s]])}}},[e("b-icon",{attrs:{icon:"pencil-square"}})],1),"*"===a.chkToken.grupoDlp?e("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(t){return a.abreModal("modal-remove",{descricao:s,conteudo:a.listaParam[s]})}}},[e("b-icon",{attrs:{icon:"trash"}})],1):a._e()],1):a._e()],1):a._e(),0!==a.resposta.status&&o===a.editCampo?e("div",{staticClass:"box-mensagem"},[e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1)],1):a._e()],1)})),1)],1)],1)],1)],1)])],1)])]),a.modalParam.adiciona?e("modal-adiciona",{attrs:{modalParam:!0},on:{limpaModal:a.fechaModal}}):a._e(),a.modalParam.remove?e("modal-remove",{attrs:{modalParam:!0,dados:a.dadosParam},on:{limpaModal:a.fechaModal}}):a._e()],1)},He=[],Ze=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"text-center"},[e("b-modal",{ref:"modal-adiciona",attrs:{"ok-only":"",show:"",id:"modal-adiciona",size:"md","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Adicionar Parâmetro: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{attrs:{variant:"success",disabled:!a.verificaSalvar()},on:{click:function(t){return a.salvarParam()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"check"}}),a._v(" Salvar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal("modal-adiciona")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}]),model:{value:a.modal,callback:function(t){a.modal=t},expression:"modal"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Tipo de Dado","label-for":"tipo",description:"Selecione o tipo de dado que vai incluir"}},[e("b-form-select",{attrs:{state:a.valida.tipo},on:{change:function(t){return a.verificaTipo(a.dadosParam.tipo)}},model:{value:a.dadosParam.tipo,callback:function(t){a.$set(a.dadosParam,"tipo",t)},expression:"dadosParam.tipo"}},a._l(a.dadosParam.opcoes,(function(t,s){return e("b-form-select-option",{key:s+1,attrs:{value:s+1}},[a._v(" "+a._s(s+1)+") "+a._s(t)+" ")])})),1)],1)],1),e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Nome do Campo","label-for":"campo",description:"Caracteres permitidos: ([-_.], [a-z], [A-Z] e [0-9])"}},[e("b-form-input",{attrs:{id:"campo",placeholder:"Nome do Campo",state:a.valida.campo,maxlength:"30"},on:{keyup:function(t){return a.verificaCampo(a.dadosParam.campo)},blur:function(t){return a.verificaCampo(a.dadosParam.campo)}},model:{value:a.dadosParam.campo,callback:function(t){a.$set(a.dadosParam,"campo",t)},expression:"dadosParam.campo"}})],1)],1),e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Valor","label-for":"valor",description:"Caracteres permitidos ([-_.], [a-z], [A-Z] e [0-9])"}},[4==a.dadosParam.tipo?e("b-form-tags",{staticClass:"tag-area",attrs:{"input-id":"valor","add-button-text":"Inserir",placeholder:"Adicione...",separator:","},model:{value:a.dadosParam.valor,callback:function(t){a.$set(a.dadosParam,"valor",t)},expression:"dadosParam.valor"}}):2==a.dadosParam.tipo?e("b-form-input",{attrs:{id:"valor",type:"number",required:"",name:"valor"},model:{value:a.dadosParam.valor,callback:function(t){a.$set(a.dadosParam,"valor",t)},expression:"dadosParam.valor"}}):3==a.dadosParam.tipo?e("b-form-checkbox",{attrs:{id:"valor",switch:""},model:{value:a.dadosParam.valor,callback:function(t){a.$set(a.dadosParam,"valor",t)},expression:"dadosParam.valor"}},[a._v(" Sim ")]):e("b-form-input",{attrs:{id:"valor",name:"valor",type:"text",required:""},model:{value:a.dadosParam.valor,callback:function(t){a.$set(a.dadosParam,"valor",t)},expression:"dadosParam.valor"}})],1)],1)]),e("div",{staticClass:"row"},[0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])])],1)},Qe=[],Ye=new Headers;Ye.append("Content-Type","application/json"),Ye.append("Content-Type","text/plain"),Ye.append("Cache-Control","no-cache"),Ye.append("Expires","-1"),Ye.append("Pragma","no-cache");var We={props:["modalParam"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,userLogado:{grupoDlp:"",user:""},modal:!!this.modalParam,dadosParam:{tipo:"",opcoes:["Texto","Número","Booleano","Objeto"],campo:"",valor:null},valida:{tipo:null,campo:null,valor:null},resposta:{status:0,texto:""}}},watch:{modalParam(a){this.modal=a,console.log(a)},dados(a){this.dados=a}},methods:{descSenha(a){return window.atob(a)},verificaSalvar(){return console.log(!!this.valida.tipo&&!!this.valida.campo),!!this.valida.tipo&&!!this.valida.campo},verificaTipo(a){this.valida.tipo=!!a},verificaCampo(a){var t=a.replace(/[`´~!@#$%^&*()|\+\-\=_?;:'"¨, <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");this.valida.campo=!!t,this.dadosParam.campo=t},salvarParam(){this.loaderCheck=!0;let a=JSON.stringify({tabela_end_point:"json_configs",campos_select_end_point:"conteudo",grupo_dlp:"*",maquina:"SERVER",descricao:this.dadosParam.campo,conteudo:this.dadosParam.valor}),t=this.locationUrl+"/sql/updateSql/"+this.token+"/resp_rest";console.log(a),console.log(t),this.loaderCheck=!1,this.respostasEnvio(!0)},respostasEnvio(a){a?(this.resposta={status:1,texto:"Parâmetro foi criado com sucesso!"},setTimeout(()=>{this.resposta={status:0,texto:""}},3e3),setTimeout(()=>{this.fechaModal()},3100)):(this.resposta={status:2,texto:"Falha ao criar o Parâmetro!"},setTimeout(()=>{this.resposta={status:0,texto:""}},3e3))},abreModal(){this.$bvModal.show("modal-adiciona")},fechaModal(){this.$emit("limpaModal","modal-adiciona")}},mounted(){this.abreModal()}},Xe=We,Ke=(e("8925"),Object(L["a"])(Xe,Ze,Qe,!1,null,null,null)),as=Ke.exports,ts=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"user-edita",attrs:{"ok-only":"",id:"user-edita",size:"lg","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{attrs:{variant:"success",disabled:a.verificaSalvar()},on:{click:function(t){return a.salvarUser()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"check"}}),a._v(" Salvar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal("user-edita")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}]),model:{value:a.modal,callback:function(t){a.modal=t},expression:"modal"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Usuário","label-for":"editUsuario",description:"Caracteres permitidos: ([-_.], [a-z], [A-Z] e [0-9])"}},[e("b-form-input",{attrs:{id:"editUsuario",placeholder:"Nome de usuário",state:a.valida.usuario,maxlength:"30"},on:{keyup:function(t){return a.verificaUsuario(a.dadosUser.usernameLogin)},blur:function(t){return a.verificaUsuario(a.dadosUser.usernameLogin)}},model:{value:a.dadosUser.usernameLogin,callback:function(t){a.$set(a.dadosUser,"usernameLogin",t)},expression:"dadosUser.usernameLogin"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"E-mail","label-for":"editEmail",description:"Caracteres permitidos ([-_.], [a-z], [A-Z] e [0-9])"}},[e("b-form-input",{attrs:{id:"editEmail",placeholder:"E-mail do usuário",state:a.valida.email,maxlength:"50"},on:{keyup:function(t){return a.verificaEmail(a.dadosUser.emailDesc)},blur:function(t){return a.verificaEmail(a.dadosUser.emailDesc)}},model:{value:a.dadosUser.emailDesc,callback:function(t){a.$set(a.dadosUser,"emailDesc",t)},expression:"dadosUser.emailDesc"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Empresa","label-for":"editEmpresa",description:"Caracteres permitidos ([*], [a-z] e [0-9])"}},[e("b-form-input",{attrs:{id:"editEmpresa",placeholder:"Identicação empresa",maxlength:"30",disabled:"*"!==a.userLogado.grupoDlp},on:{keyup:function(t){return a.verificaEmpresa(a.dadosUser.empresa)},blur:function(t){return a.verificaEmpresa(a.dadosUser.empresa)}},model:{value:a.dadosUser.empresa,callback:function(t){a.$set(a.dadosUser,"empresa",t)},expression:"dadosUser.empresa"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Departamento","label-for":"editDepartamento",description:"Caracteres permitidos ([*], [a-z] e [0-9])"}},[e("b-form-input",{attrs:{id:"editDepartamento",placeholder:"Identicação deparamento!",disabled:!a.dadosUser.empresa||"*"===a.dadosUser.empresa||a.userLogado.grupoDlp.indexOf("*")<0,maxlength:"20"},on:{keyup:function(t){return a.verificaDpto(a.dadosUser.dpto)},blur:function(t){return a.verificaDpto(a.dadosUser.dpto)}},model:{value:a.dadosUser.dpto,callback:function(t){a.$set(a.dadosUser,"dpto",t)},expression:"dadosUser.dpto"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Grupo DLP","label-for":"editGrupo",description:"Resultado de empresa e depart."}},[e("b-form-input",{attrs:{id:"editGrupo",placeholder:"Grupo DLP gerado",disabled:"",state:a.valida.grupoDlp},model:{value:a.dadosUser.grupoDlp,callback:function(t){a.$set(a.dadosUser,"grupoDlp",t)},expression:"dadosUser.grupoDlp"}})],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},es=[],ss=new Headers;ss.append("Content-Type","application/json"),ss.append("Content-Type","text/plain"),ss.append("Cache-Control","no-cache"),ss.append("Expires","-1"),ss.append("Pragma","no-cache");var os={props:["modalUsuario","dados"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,userLogado:{grupoDlp:"",user:""},modal:!!this.modalUsuario,dadosUser:this.dados,valida:{usuario:null,email:null,grupoDlp:null},resposta:{status:0,texto:""}}},watch:{modalUsuario(a){this.modal=a},dados(a){this.dados=a}},methods:{descSenha(a){return window.atob(a)},verificaSalvar(){return!1===this.valida.usuario||!1===this.valida.email||!1===this.valida.grupoDlp},verificaEmail(a){let t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,e=a,s=e.search(t);this.valida.email=-1!=s},verificaUsuario(a){var t=a.replace(/[`´~!@#$%^&*()|+\=?;:'"¨, <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");this.valida.usuario=!!t,this.dadosUser.usernameLogin=t},verificaEmpresa(a){var t=a.replace(/[`´~!@#$\%^&()|_\+\-\=?;:'"¨., <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");t=t.toLowerCase(),t=-1!=t.indexOf(" ")?t.replaceAll(" ",""):t,this.dadosUser.empresa=t,t.length>1&&t.indexOf("*")>-1&&(this.dadosUser.empresa=t.replace("*",""),this.dadosUser.dpto="*"),this.dadosUser.dpto="*"!==t&&t?this.dadosUser.dpto:"",this.dadosUser.grupoDlp=this.verificaGrupoDLPEdit()},verificaDpto(a){var t=a.replace(/[`´~!@#$\%^&()|_\+\-\=?;:'"¨., <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");t=t.toLowerCase(),this.dadosUser.dpto=t,t.length>1&&t.indexOf("*")>-1&&(this.dadosUser.dpto=t.replace("*","")),this.dadosUser.grupoDlp=this.verificaGrupoDLPEdit()},verificaGrupoDLPEdit(){if(""==this.dadosUser.empresa&&""==this.dadosUser.dpto)this.valida.grupoDlp=!1;else{if("*"===this.dadosUser.empresa)return this.valida.grupoDlp=!0,this.dadosUser.empresa;if(this.dadosUser.empresa&&"*"===this.dadosUser.dpto)return this.valida.grupoDlp=!0,this.dadosUser.empresa+this.dadosUser.dpto;if(this.dadosUser.empresa&&this.dadosUser.dpto)return this.valida.grupoDlp=!0,this.dadosUser.empresa+"_"+this.dadosUser.dpto;if(this.dadosUser.empresa.indexOf("*")>-1&&!this.dadosUser.dpto){this.valida.grupoDlp=!0;var a=this.dadosUser.empresa.split("*");return a[1]?a[0]+a[1]+"*":a[0]+"*"}if(this.dadosUser.empresa.indexOf("*")<0&&!this.dadosUser.dpto)return this.valida.grupoDlp=!0,this.dadosUser.empresa;this.dadosUser.empresa?this.valida.grupoDlp=!1:(this.valida.grupoDlp=!0,this.dadosUser.dpto="")}},async salvarUser(){this.loaderCheck=!0;let a=JSON.stringify({nomeDpo:this.dadosUser.usernameLogin,emailDpo:this.dadosUser.emailLogin,tipoPerfilDpo:1}),t=`${this.locationUrl}/dpo/perfil/atu/${this.dadosUser.dpo_idLogin}/${this.token}/resp_rest`;await this.$http.post(t,a,ss).then(a=>{this.loaderCheck=!1,this.salvaLogin()}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},async salvaLogin(){let a=window.atob(this.dadosUser.hashSenhaLogin),t=new Date;t=`${t.getFullYear()}-${t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1}-${t.getDate()<10?"0"+t.getDate():t.getDate()} ${t.getHours()<10?"0"+t.getHours():t.getHours()}:${t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}:${t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()}}`;let e=JSON.stringify({login_idLogin:this.dadosUser.loginId,usernameLogin:this.dadosUser.usernameLogin,emailLogin:this.dadosUser.emailDesc,dtCriacaoLogin:this.dadosUser.dtCriacaoLogin,dtAtualizacaoLogin:t,permissoesLogin:this.dadosUser.permissoesLogin,hash_senhaLogin:a,dpo_idLogin:this.dadosUser.loginId,grupoDlp:this.dadosUser.grupoDlp}),s=`${this.locationUrl}/dpo/login/atua/${this.dadosUser.loginId}/${this.token}/resp_rest`;await this.$http.post(s,e,ss).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0)}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`Usuário "${this.dadosUser.usernameLogin}" foi alterado com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3e3),setTimeout(()=>{this.fechaModal()},3100)):(this.resposta={status:2,texto:`Falha ao salvar as alterações do usuário "${this.dadosUser.usernameLogin}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3e3))},fechaModal(){this.$emit("limpaModal","user-edita")},userLog(){let a=window.atob(this.token),t=a.split("-");this.userLogado.user=t[0];let e=a.split("^");this.userLogado.grupoDlp=e[1]}},mounted(){this.$refs["user-edita"].hide(),this.userLog()}},is=os,rs=(e("de4e"),Object(L["a"])(is,ts,es,!1,null,null,null)),ls=rs.exports,ns=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"modal-remove",attrs:{"ok-only":"",id:"modal-remove",size:"md","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Remover Parâmetro: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"warning",disabled:!a.verificaRemover()},on:{click:function(t){return a.removeLogin()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"trash-fill"}}),a._v(" Remover ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal("modal-remove")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}]),model:{value:a.modal,callback:function(t){a.modal=t},expression:"modal"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Campo:","label-for":"campo"}},[e("b-form-input",{attrs:{id:"campo",disabled:""},model:{value:a.dadosParam.descricao,callback:function(t){a.$set(a.dadosParam,"descricao",t)},expression:"dadosParam.descricao"}})],1)],1),e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Valor:","label-for":"valor"}},["object"==typeof a.dadosParam.conteudo?e("b-form-tags",{staticClass:"tag-area",attrs:{"input-id":"valor","add-button-text":"Inserir",placeholder:"Adicione...",disabled:"",separator:",",value:a.dadosParam.conteudo},model:{value:a.dadosParam.conteudo,callback:function(t){a.$set(a.dadosParam,"conteudo",t)},expression:"dadosParam.conteudo"}}):"number"==typeof a.dadosParam.conteudo?e("b-form-input",{attrs:{id:"valor",name:"valor",type:"text",disabled:"",value:a.dadosParam.conteudo},model:{value:a.dadosParam.conteudo,callback:function(t){a.$set(a.dadosParam,"conteudo",t)},expression:"dadosParam.conteudo"}}):"boolean"==typeof a.dadosParam.conteudo?e("b-form-checkbox",{attrs:{id:"valor",name:"valor",disabled:"",switch:""},model:{value:a.dadosParam.conteudo,callback:function(t){a.$set(a.dadosParam,"conteudo",t)},expression:"dadosParam.conteudo"}},[a._v(" Sim ")]):e("b-form-input",{attrs:{id:"valor",name:"valor",type:"text",required:"",disabled:"",value:a.dadosParam.conteudo},model:{value:a.dadosParam.conteudo,callback:function(t){a.$set(a.dadosParam,"conteudo",t)},expression:"dadosParam.conteudo"}})],1)],1),e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Aceite de remoção de parâmetro:","label-for":"remover"}},[e("b-form-checkbox",{staticClass:"remove",attrs:{id:"remover","button-variant":"danger",value:"true","unchecked-value":"false",switch:""},model:{value:a.valida.remove,callback:function(t){a.$set(a.valida,"remove",t)},expression:"valida.remove"}},[a._v(" Deseja realmente remover esse parâmetro? ")])],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"danger":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},cs=[],ds=new Headers;ds.append("Content-Type","application/json"),ds.append("Content-Type","text/plain"),ds.append("Cache-Control","no-cache"),ds.append("Expires","-1"),ds.append("Pragma","no-cache");var us={props:["modalParam","dados"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,loaderCheck:!1,modal:!!this.modalParam,dadosParam:this.dados,removeItem:!1,valida:{remove:null},resposta:{status:0,texto:""}}},watch:{modalParam(a){this.modal=a},dados(a){this.dados=a}},methods:{verificaRemover(){return"true"===this.valida.remove},removeParam(){this.loaderCheck=!0;let a=JSON.stringify({tabela:"json_configs",select:`descricao='${dadosParam.descricao}'`}),t=`${this.locationUrl}/sql/deleteSql/${this.token}/resp_rest`;console.log(a),console.log(t),this.loaderCheck=!1,this.respostasEnvio(!0)},respostasEnvio(a){a?(this.resposta={status:1,texto:"Parâmetro removido com sucesso!"},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal()},3600)):(this.resposta={status:2,texto:"Falha ao remover o parâmetro!"},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},fechaModal(){this.$emit("limpaModal","modal-remove")}},mounted(){this.$refs["modal-remove"].hide(),console.log(this.modal)}},ps=us,ms=(e("4a33"),Object(L["a"])(ps,ns,cs,!1,null,null,null)),hs=ms.exports;const vs=e("d18f"),bs=e("9d86");var gs=new Headers;gs.append("Content-Type","application/json"),gs.append("Cache-Control","no-cache"),gs.append("Expires","-1"),gs.append("Pragma","no-cache");var fs={components:{"meu-painel":B["a"],"menu-lateral":H["a"],"modal-adiciona":as,"modal-edita":ls,"modal-remove":hs,loader:U["a"]},data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!0,chkToken:Wa.getToken(),chkPermissao:vs.permissaoDlp,editCampo:-1,ultVerifServer:"",dadosParam:"",dadosTemp:{},modalParam:{adiciona:!1,edita:!1,remove:!1},listaParam:[],tabTitulo:"Lista de Parâmetros",evidencias:[],imgFull:"",chkIndex:null,estatisticas:{total:0},btnSel:{total:!1},resposta:{status:0,texto:""}}},watch:{},methods:{horaFormat(a){var t=new Date(a).toString();return t=t.split(" GMT"),t=t[0].split(" ").reverse(),t=t[0],t},formatDate(a){let t=a;if("NULL"!=t){t=t.split(" ");let a=t[1],s=t[0].split("-").reverse();s=s[0]+"/"+s[1]+"/"+s[2];var e=`${s} - ${a}`;return e}return"Data Indefinida"},formatDateMilisec(a){let t=a,e=108e5;t-=e,t=new Date(t);var s=t.getDate(),o=t.getMonth()+1,i=t.getFullYear(),r=t.getUTCHours(),l=t.getMinutes(),n=t.getSeconds(),c=`${s<10?"0"+s:s}/${o<10?"0"+o:o}/${i} - ${r<10?"0"+r:r}:${l<10?"0"+l:l}:${n<10?"0"+n:n}`;return c},htmlFormat(a){let t=a;t=t.replace(/=(\r\n|\n|\r)/gm,"<br>")},getParamServer(){this.loaderCheck=!0,this.listaParam=[];let a=JSON.stringify({tabela:"json_configs",select:"1=1",pagina:this.currentPage,qt:this.perPage,campos_select_end_point:"palavra^tipo^status^fonetico^grupo_dlp^dataCriacao^gravidade"}),t=this.locationUrl+"/sql/selectSql/"+this.token+"/resp_rest";console.log("QUERY: "+a),console.log("URL: "+t),console.log("Ocorrencias por pagina: "+this.currentPage),console.log("Quantidade de itens por pagina: "+this.perPage);let e=bs[0];for(let s in e){let a=e[s];a="string"===typeof a&&a.indexOf(",")>-1?a.split(","):a,a="string"!==typeof a||isNaN(a)?a:parseInt(a),a="string"===typeof a&&a.indexOf("true")>-1||a,a=!("string"===typeof a&&a.indexOf("false")>-1)&&a,e[s]=a}this.listaParam=e,this.ultVerifServer=this.formatDateMilisec(Date.now()),this.loaderCheck=!1,this.ultVerifServer=this.formatDateMilisec(Date.now())},checaArray(a){return"*"===this.chkToken.grupoDlp||this.chkPermissao.indexOf(a)<0},getArray(a){return"string"===typeof a?a.split(","):a},habilitaEdicao(a,t){console.log(a),this.dadosTemp=t,this.editCampo=a},cancelaEdicao(){this.listaParam[this.dadosTemp[0]]=this.dadosTemp[1],this.editCampo=-1},salvaEdicao(a,t){const e=a;let s=t;s="object"===typeof s?s.join():s,s="number"===typeof s||"boolean"===typeof s?s.toString():s,this.loaderCheck=!0;let o=JSON.stringify({tabela_end_point:"json_configs",campos_select_end_point:"conteudo",grupo_dlp:"*",maquina:"SERVER",descricao:e,conteudo:s}),i=this.locationUrl+"/sql/updateSql/"+this.token+"/resp_rest";console.log(o),console.log(i),this.loaderCheck=!1,this.respostasEnvio(1,"Parâmetro alterado com Sucesso!"),this.loaderCheck=!1},abreModal(a,t){console.log(a),console.log(t),t&&(this.dadosParam=t),this.modalParam={adiciona:"modal-adiciona"==a,edita:"modal-edita"==a,remove:"modal-remove"==a,senha:"modal-senha"==a},setTimeout(()=>{this.$bvModal.show(a)},10)},fechaModal(a){this.$bvModal.hide(a),this.getParamServer(),setTimeout(()=>{this.dadosParam="",this.modalParam={adiciona:!1,edita:!1,remove:!1,senha:!1}},500)},respostasEnvio(a,t){console.log(a),console.log(t),this.resposta={status:a,texto:t},setTimeout(()=>{this.resposta={status:0,texto:""},this.editCampo=-1},3e3)}},mounted(){this.getParamServer()}},As=fs,Cs=(e("aa94"),Object(L["a"])(As,Be,He,!1,null,"72253dcb",null)),_s=Cs.exports,xs=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"Permissão Padrão"}}),e("div",{staticClass:"container-full m-3"},[e("div",{staticClass:"row",attrs:{id:"box-tabela"}},[e("b-row",{staticClass:"mb-3",attrs:{id:"row-box-input"}},[e("b-col",{staticClass:"my-2",attrs:{sm:"7",md:"8"}},[e("small",[a._v("Última Verificação no Servidor: "+a._s(a.ultVerifServer))])]),e("b-col",{staticClass:"text-right",attrs:{sm:"5",md:"4"}},[e("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a.abreModal("modal-adiciona")}}},[e("b-icon",{attrs:{icon:"person-plus-fill"}}),a._v(" Adicionar Parâmetro")],1)],1)],1),e("b-row",[e("b-col",{attrs:{sm:"12",md:"12"}},[e("b-card",{attrs:{"no-block":""}},[e("div",[e("b-button-group",{staticClass:"abas-h"},[e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.getListaUsuarios()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1)],1),e("b-button-group",{staticClass:"abas-v",attrs:{vertical:""}},[e("b-button",{attrs:{variant:"outline-primary"},on:{click:function(t){return a.getListaUsuarios()}}},[e("b-icon",{attrs:{icon:"arrow-clockwise"}})],1)],1)],1),e("hr",{staticClass:"my-0"}),e("b-row",{staticClass:"pt-3 bg-ice"},[e("b-col",{attrs:{sm:"12",md:"12"}},[e("h3",[a._v(a._s(a.tabTitulo))])])],1),e("b-row",{attrs:{"align-v":"stretch"}},a._l(a.listaParam,(function(t,s,o){return e("b-col",{key:o,staticClass:"my-2 pb-3 border-bottom",style:{display:[a.checaArray(s)&&"json"!==s?"block":"none"]},attrs:{sm:"12",md:"6",lg:"4",xl:"4"}},[a.checaArray(s)&&"json"!==s?e("b-form-group",{attrs:{id:"input-group-1",label:o+") Parâmetro: "+s,"label-for":s}},["object"==typeof t?e("b-form-tags",{staticClass:"tag-area",attrs:{"input-id":s,separator:",",value:t,"add-button-text":"Inserir",placeholder:"Adicione...",disabled:o!==a.editCampo},model:{value:a.listaParam[s],callback:function(t){a.$set(a.listaParam,s,t)},expression:"listaParam[campo]"}}):"number"==typeof t?e("b-form-input",{attrs:{type:"number",id:s,name:s,value:t,disabled:o!==a.editCampo},model:{value:a.listaParam[s],callback:function(t){a.$set(a.listaParam,s,t)},expression:"listaParam[campo]"}}):"boolean"==typeof t?e("b-form-checkbox",{staticClass:"text-grey",attrs:{switch:"",id:s,name:s,disabled:o!==a.editCampo},model:{value:a.listaParam[s],callback:function(t){a.$set(a.listaParam,s,t)},expression:"listaParam[campo]"}},[a._v(" Sim ")]):e("b-form-input",{attrs:{id:s,name:s,value:t,type:"text",required:"",disabled:o!==a.editCampo},model:{value:a.listaParam[s],callback:function(t){a.$set(a.listaParam,s,t)},expression:"listaParam[campo]"}}),o===a.editCampo?e("b-button-group",{staticClass:"box-button"},[e("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(t){return a.salvaEdicao(s,a.listaParam[s])}}},[e("b-icon",{attrs:{icon:"check"}})],1),e("b-button",{staticClass:"text-light",attrs:{variant:"warning",size:"sm"},on:{click:function(t){return a.cancelaEdicao(-1)}}},[e("b-icon",{attrs:{icon:"x"}})],1)],1):a._e(),o!==a.editCampo?e("b-button-group",{staticClass:"box-button"},[e("b-button",{attrs:{variant:"outline-primary",size:"sm"},on:{click:function(t){return a.habilitaEdicao(o,[s,a.listaParam[s]])}}},[e("b-icon",{attrs:{icon:"pencil-square"}})],1),"*"===a.chkToken.grupoDlp?e("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(t){return a.abreModal("modal-remove",{descricao:s,conteudo:a.listaParam[s]})}}},[e("b-icon",{attrs:{icon:"trash"}})],1):a._e()],1):a._e()],1):a._e(),0!==a.resposta.status&&o===a.editCampo?e("div",{staticClass:"box-mensagem"},[e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1)],1):a._e()],1)})),1)],1)],1)],1)],1)])],1)])]),a.modalParam.adiciona?e("modal-adiciona",{attrs:{modalParam:!0},on:{limpaModal:a.fechaModal}}):a._e(),a.modalParam.remove?e("modal-remove",{attrs:{modalParam:!0,dados:a.dadosParam},on:{limpaModal:a.fechaModal}}):a._e()],1)},ks=[],Ss=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"text-center"},[e("b-modal",{ref:"modal-adiciona",attrs:{"ok-only":"",show:"",id:"modal-adiciona",size:"md","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Adicionar Parâmetro: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{attrs:{variant:"success",disabled:!a.verificaSalvar()},on:{click:function(t){return a.salvarParam()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"check"}}),a._v(" Salvar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal("modal-adiciona")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}]),model:{value:a.modal,callback:function(t){a.modal=t},expression:"modal"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Tipo de Dado","label-for":"tipo",description:"Selecione o tipo de dado que vai incluir"}},[e("b-form-select",{attrs:{state:a.valida.tipo},on:{change:function(t){return a.verificaTipo(a.dadosParam.tipo)}},model:{value:a.dadosParam.tipo,callback:function(t){a.$set(a.dadosParam,"tipo",t)},expression:"dadosParam.tipo"}},a._l(a.dadosParam.opcoes,(function(t,s){return e("b-form-select-option",{key:s+1,attrs:{value:s+1}},[a._v(" "+a._s(s+1)+") "+a._s(t)+" ")])})),1)],1)],1),e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Nome do Campo","label-for":"campo",description:"Caracteres permitidos: ([-_.], [a-z], [A-Z] e [0-9])"}},[e("b-form-input",{attrs:{id:"campo",placeholder:"Nome do Campo",state:a.valida.campo,maxlength:"30"},on:{keyup:function(t){return a.verificaCampo(a.dadosParam.campo)},blur:function(t){return a.verificaCampo(a.dadosParam.campo)}},model:{value:a.dadosParam.campo,callback:function(t){a.$set(a.dadosParam,"campo",t)},expression:"dadosParam.campo"}})],1)],1),e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Valor","label-for":"valor",description:"Caracteres permitidos ([-_.], [a-z], [A-Z] e [0-9])"}},[4==a.dadosParam.tipo?e("b-form-tags",{staticClass:"tag-area",attrs:{"input-id":"valor","add-button-text":"Inserir",placeholder:"Adicione...",separator:","},model:{value:a.dadosParam.valor,callback:function(t){a.$set(a.dadosParam,"valor",t)},expression:"dadosParam.valor"}}):2==a.dadosParam.tipo?e("b-form-input",{attrs:{id:"valor",type:"number",required:"",name:"valor"},model:{value:a.dadosParam.valor,callback:function(t){a.$set(a.dadosParam,"valor",t)},expression:"dadosParam.valor"}}):3==a.dadosParam.tipo?e("b-form-checkbox",{attrs:{id:"valor",switch:""},model:{value:a.dadosParam.valor,callback:function(t){a.$set(a.dadosParam,"valor",t)},expression:"dadosParam.valor"}},[a._v(" Sim ")]):e("b-form-input",{attrs:{id:"valor",name:"valor",type:"text",required:""},model:{value:a.dadosParam.valor,callback:function(t){a.$set(a.dadosParam,"valor",t)},expression:"dadosParam.valor"}})],1)],1)]),e("div",{staticClass:"row"},[0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])])],1)},ys=[],Ms=new Headers;Ms.append("Content-Type","application/json"),Ms.append("Content-Type","text/plain"),Ms.append("Cache-Control","no-cache"),Ms.append("Expires","-1"),Ms.append("Pragma","no-cache");var Ds={props:["modalParam"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,userLogado:{grupoDlp:"",user:""},modal:!!this.modalParam,dadosParam:{tipo:"",opcoes:["Texto","Número","Booleano","Objeto"],campo:"",valor:null},valida:{tipo:null,campo:null,valor:null},resposta:{status:0,texto:""}}},watch:{modalParam(a){this.modal=a,console.log(a)},dados(a){this.dados=a}},methods:{descSenha(a){return window.atob(a)},verificaSalvar(){return console.log(!!this.valida.tipo&&!!this.valida.campo),!!this.valida.tipo&&!!this.valida.campo},verificaTipo(a){this.valida.tipo=!!a},verificaCampo(a){var t=a.replace(/[`´~!@#$%^&*()|\+\-\=_?;:'"¨, <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");this.valida.campo=!!t,this.dadosParam.campo=t},salvarParam(){this.loaderCheck=!0;let a=JSON.stringify({tabela_end_point:"json_configs",campos_select_end_point:"conteudo",grupo_dlp:"*",maquina:"SERVER",descricao:this.dadosParam.campo,conteudo:this.dadosParam.valor}),t=this.locationUrl+"/sql/updateSql/"+this.token+"/resp_rest";console.log(a),console.log(t),this.loaderCheck=!1,this.respostasEnvio(!0)},respostasEnvio(a){a?(this.resposta={status:1,texto:"Parâmetro foi criado com sucesso!"},setTimeout(()=>{this.resposta={status:0,texto:""}},3e3),setTimeout(()=>{this.fechaModal()},3100)):(this.resposta={status:2,texto:"Falha ao criar o Parâmetro!"},setTimeout(()=>{this.resposta={status:0,texto:""}},3e3))},abreModal(){this.$bvModal.show("modal-adiciona")},fechaModal(){this.$emit("limpaModal","modal-adiciona")}},mounted(){this.abreModal()}},ws=Ds,Ps=(e("fb46"),Object(L["a"])(ws,Ss,ys,!1,null,null,null)),qs=Ps.exports,Us=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"user-edita",attrs:{"ok-only":"",id:"user-edita",size:"lg","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{attrs:{variant:"success",disabled:a.verificaSalvar()},on:{click:function(t){return a.salvarUser()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"check"}}),a._v(" Salvar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal("user-edita")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}]),model:{value:a.modal,callback:function(t){a.modal=t},expression:"modal"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Usuário","label-for":"editUsuario",description:"Caracteres permitidos: ([-_.], [a-z], [A-Z] e [0-9])"}},[e("b-form-input",{attrs:{id:"editUsuario",placeholder:"Nome de usuário",state:a.valida.usuario,maxlength:"30"},on:{keyup:function(t){return a.verificaUsuario(a.dadosUser.usernameLogin)},blur:function(t){return a.verificaUsuario(a.dadosUser.usernameLogin)}},model:{value:a.dadosUser.usernameLogin,callback:function(t){a.$set(a.dadosUser,"usernameLogin",t)},expression:"dadosUser.usernameLogin"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-6 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"E-mail","label-for":"editEmail",description:"Caracteres permitidos ([-_.], [a-z], [A-Z] e [0-9])"}},[e("b-form-input",{attrs:{id:"editEmail",placeholder:"E-mail do usuário",state:a.valida.email,maxlength:"50"},on:{keyup:function(t){return a.verificaEmail(a.dadosUser.emailDesc)},blur:function(t){return a.verificaEmail(a.dadosUser.emailDesc)}},model:{value:a.dadosUser.emailDesc,callback:function(t){a.$set(a.dadosUser,"emailDesc",t)},expression:"dadosUser.emailDesc"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Empresa","label-for":"editEmpresa",description:"Caracteres permitidos ([*], [a-z] e [0-9])"}},[e("b-form-input",{attrs:{id:"editEmpresa",placeholder:"Identicação empresa",maxlength:"30",disabled:"*"!==a.userLogado.grupoDlp},on:{keyup:function(t){return a.verificaEmpresa(a.dadosUser.empresa)},blur:function(t){return a.verificaEmpresa(a.dadosUser.empresa)}},model:{value:a.dadosUser.empresa,callback:function(t){a.$set(a.dadosUser,"empresa",t)},expression:"dadosUser.empresa"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Departamento","label-for":"editDepartamento",description:"Caracteres permitidos ([*], [a-z] e [0-9])"}},[e("b-form-input",{attrs:{id:"editDepartamento",placeholder:"Identicação deparamento!",disabled:!a.dadosUser.empresa||"*"===a.dadosUser.empresa||a.userLogado.grupoDlp.indexOf("*")<0,maxlength:"20"},on:{keyup:function(t){return a.verificaDpto(a.dadosUser.dpto)},blur:function(t){return a.verificaDpto(a.dadosUser.dpto)}},model:{value:a.dadosUser.dpto,callback:function(t){a.$set(a.dadosUser,"dpto",t)},expression:"dadosUser.dpto"}})],1)],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-4 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Grupo DLP","label-for":"editGrupo",description:"Resultado de empresa e depart."}},[e("b-form-input",{attrs:{id:"editGrupo",placeholder:"Grupo DLP gerado",disabled:"",state:a.valida.grupoDlp},model:{value:a.dadosUser.grupoDlp,callback:function(t){a.$set(a.dadosUser,"grupoDlp",t)},expression:"dadosUser.grupoDlp"}})],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},Es=[],$s=new Headers;$s.append("Content-Type","application/json"),$s.append("Content-Type","text/plain"),$s.append("Cache-Control","no-cache"),$s.append("Expires","-1"),$s.append("Pragma","no-cache");var Ts={props:["modalUsuario","dados"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,userLogado:{grupoDlp:"",user:""},modal:!!this.modalUsuario,dadosUser:this.dados,valida:{usuario:null,email:null,grupoDlp:null},resposta:{status:0,texto:""}}},watch:{modalUsuario(a){this.modal=a},dados(a){this.dados=a}},methods:{descSenha(a){return window.atob(a)},verificaSalvar(){return!1===this.valida.usuario||!1===this.valida.email||!1===this.valida.grupoDlp},verificaEmail(a){let t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,e=a,s=e.search(t);this.valida.email=-1!=s},verificaUsuario(a){var t=a.replace(/[`´~!@#$%^&*()|+\=?;:'"¨, <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");this.valida.usuario=!!t,this.dadosUser.usernameLogin=t},verificaEmpresa(a){var t=a.replace(/[`´~!@#$\%^&()|_\+\-\=?;:'"¨., <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");t=t.toLowerCase(),t=-1!=t.indexOf(" ")?t.replaceAll(" ",""):t,this.dadosUser.empresa=t,t.length>1&&t.indexOf("*")>-1&&(this.dadosUser.empresa=t.replace("*",""),this.dadosUser.dpto="*"),this.dadosUser.dpto="*"!==t&&t?this.dadosUser.dpto:"",this.dadosUser.grupoDlp=this.verificaGrupoDLPEdit()},verificaDpto(a){var t=a.replace(/[`´~!@#$\%^&()|_\+\-\=?;:'"¨., <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,"");t=t.toLowerCase(),this.dadosUser.dpto=t,t.length>1&&t.indexOf("*")>-1&&(this.dadosUser.dpto=t.replace("*","")),this.dadosUser.grupoDlp=this.verificaGrupoDLPEdit()},verificaGrupoDLPEdit(){if(""==this.dadosUser.empresa&&""==this.dadosUser.dpto)this.valida.grupoDlp=!1;else{if("*"===this.dadosUser.empresa)return this.valida.grupoDlp=!0,this.dadosUser.empresa;if(this.dadosUser.empresa&&"*"===this.dadosUser.dpto)return this.valida.grupoDlp=!0,this.dadosUser.empresa+this.dadosUser.dpto;if(this.dadosUser.empresa&&this.dadosUser.dpto)return this.valida.grupoDlp=!0,this.dadosUser.empresa+"_"+this.dadosUser.dpto;if(this.dadosUser.empresa.indexOf("*")>-1&&!this.dadosUser.dpto){this.valida.grupoDlp=!0;var a=this.dadosUser.empresa.split("*");return a[1]?a[0]+a[1]+"*":a[0]+"*"}if(this.dadosUser.empresa.indexOf("*")<0&&!this.dadosUser.dpto)return this.valida.grupoDlp=!0,this.dadosUser.empresa;this.dadosUser.empresa?this.valida.grupoDlp=!1:(this.valida.grupoDlp=!0,this.dadosUser.dpto="")}},async salvarUser(){this.loaderCheck=!0;let a=JSON.stringify({nomeDpo:this.dadosUser.usernameLogin,emailDpo:this.dadosUser.emailLogin,tipoPerfilDpo:1}),t=`${this.locationUrl}/dpo/perfil/atu/${this.dadosUser.dpo_idLogin}/${this.token}/resp_rest`;await this.$http.post(t,a,$s).then(a=>{this.loaderCheck=!1,this.salvaLogin()}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},async salvaLogin(){let a=window.atob(this.dadosUser.hashSenhaLogin),t=new Date;t=`${t.getFullYear()}-${t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1}-${t.getDate()<10?"0"+t.getDate():t.getDate()} ${t.getHours()<10?"0"+t.getHours():t.getHours()}:${t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes()}:${t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()}}`;let e=JSON.stringify({login_idLogin:this.dadosUser.loginId,usernameLogin:this.dadosUser.usernameLogin,emailLogin:this.dadosUser.emailDesc,dtCriacaoLogin:this.dadosUser.dtCriacaoLogin,dtAtualizacaoLogin:t,permissoesLogin:this.dadosUser.permissoesLogin,hash_senhaLogin:a,dpo_idLogin:this.dadosUser.loginId,grupoDlp:this.dadosUser.grupoDlp}),s=`${this.locationUrl}/dpo/login/atua/${this.dadosUser.loginId}/${this.token}/resp_rest`;await this.$http.post(s,e,$s).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0)}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`Usuário "${this.dadosUser.usernameLogin}" foi alterado com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3e3),setTimeout(()=>{this.fechaModal()},3100)):(this.resposta={status:2,texto:`Falha ao salvar as alterações do usuário "${this.dadosUser.usernameLogin}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3e3))},fechaModal(){this.$emit("limpaModal","user-edita")},userLog(){let a=window.atob(this.token),t=a.split("-");this.userLogado.user=t[0];let e=a.split("^");this.userLogado.grupoDlp=e[1]}},mounted(){this.$refs["user-edita"].hide(),this.userLog()}},Ls=Ts,Is=(e("3879"),Object(L["a"])(Ls,Us,Es,!1,null,null,null)),Os=Is.exports,Rs=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"modal-remove",attrs:{"ok-only":"",id:"modal-remove",size:"md","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Remover Parâmetro: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"warning",disabled:!a.verificaRemover()},on:{click:function(t){return a.removeLogin()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"trash-fill"}}),a._v(" Remover ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal("modal-remove")}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}]),model:{value:a.modal,callback:function(t){a.modal=t},expression:"modal"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Campo:","label-for":"campo"}},[e("b-form-input",{attrs:{id:"campo",disabled:""},model:{value:a.dadosParam.descricao,callback:function(t){a.$set(a.dadosParam,"descricao",t)},expression:"dadosParam.descricao"}})],1)],1),e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Valor:","label-for":"valor"}},["object"==typeof a.dadosParam.conteudo?e("b-form-tags",{staticClass:"tag-area",attrs:{"input-id":"valor","add-button-text":"Inserir",placeholder:"Adicione...",disabled:"",separator:",",value:a.dadosParam.conteudo},model:{value:a.dadosParam.conteudo,callback:function(t){a.$set(a.dadosParam,"conteudo",t)},expression:"dadosParam.conteudo"}}):"number"==typeof a.dadosParam.conteudo?e("b-form-input",{attrs:{id:"valor",name:"valor",type:"text",disabled:"",value:a.dadosParam.conteudo},model:{value:a.dadosParam.conteudo,callback:function(t){a.$set(a.dadosParam,"conteudo",t)},expression:"dadosParam.conteudo"}}):"boolean"==typeof a.dadosParam.conteudo?e("b-form-checkbox",{attrs:{id:"valor",name:"valor",disabled:"",switch:""},model:{value:a.dadosParam.conteudo,callback:function(t){a.$set(a.dadosParam,"conteudo",t)},expression:"dadosParam.conteudo"}},[a._v(" Sim ")]):e("b-form-input",{attrs:{id:"valor",name:"valor",type:"text",required:"",disabled:"",value:a.dadosParam.conteudo},model:{value:a.dadosParam.conteudo,callback:function(t){a.$set(a.dadosParam,"conteudo",t)},expression:"dadosParam.conteudo"}})],1)],1),e("div",{staticClass:"col-sm-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Aceite de remoção de parâmetro:","label-for":"remover"}},[e("b-form-checkbox",{staticClass:"remove",attrs:{id:"remover","button-variant":"danger",value:"true","unchecked-value":"false",switch:""},model:{value:a.valida.remove,callback:function(t){a.$set(a.valida,"remove",t)},expression:"valida.remove"}},[a._v(" Deseja realmente remover esse parâmetro? ")])],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"danger":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},js=[],Ns=new Headers;Ns.append("Content-Type","application/json"),Ns.append("Content-Type","text/plain"),Ns.append("Cache-Control","no-cache"),Ns.append("Expires","-1"),Ns.append("Pragma","no-cache");var zs={props:["modalParam","dados"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,loaderCheck:!1,modal:!!this.modalParam,dadosParam:this.dados,removeItem:!1,valida:{remove:null},resposta:{status:0,texto:""}}},watch:{modalParam(a){this.modal=a},dados(a){this.dados=a}},methods:{verificaRemover(){return"true"===this.valida.remove},removeParam(){this.loaderCheck=!0;let a=JSON.stringify({tabela:"json_configs",select:`descricao='${dadosParam.descricao}'`}),t=`${this.locationUrl}/sql/deleteSql/${this.token}/resp_rest`;console.log(a),console.log(t),this.loaderCheck=!1,this.respostasEnvio(!0)},respostasEnvio(a){a?(this.resposta={status:1,texto:"Parâmetro removido com sucesso!"},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal()},3600)):(this.resposta={status:2,texto:"Falha ao remover o parâmetro!"},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},fechaModal(){this.$emit("limpaModal","modal-remove")}},mounted(){this.$refs["modal-remove"].hide(),console.log(this.modal)}},Gs=zs,Js=(e("6fb0"),Object(L["a"])(Gs,Rs,js,!1,null,null,null)),Vs=Js.exports;const Fs=e("d18f"),Bs=e("6519");var Hs=new Headers;Hs.append("Content-Type","application/json"),Hs.append("Cache-Control","no-cache"),Hs.append("Expires","-1"),Hs.append("Pragma","no-cache");var Zs={components:{"meu-painel":B["a"],"menu-lateral":H["a"],"modal-adiciona":qs,"modal-edita":Os,"modal-remove":Vs,loader:U["a"]},data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!0,chkToken:Wa.getToken(),chkPermissao:Fs.permissaoDlp,editCampo:-1,ultVerifServer:"",dadosParam:"",dadosTemp:{},modalParam:{adiciona:!1,edita:!1,remove:!1},listaParam:[],tabTitulo:"Configuração Padrão",evidencias:[],imgFull:"",chkIndex:null,estatisticas:{total:0},btnSel:{total:!1},resposta:{status:0,texto:""}}},watch:{},methods:{horaFormat(a){var t=new Date(a).toString();return t=t.split(" GMT"),t=t[0].split(" ").reverse(),t=t[0],t},formatDate(a){let t=a;if("NULL"!=t){t=t.split(" ");let a=t[1],s=t[0].split("-").reverse();s=s[0]+"/"+s[1]+"/"+s[2];var e=`${s} - ${a}`;return e}return"Data Indefinida"},formatDateMilisec(a){let t=a,e=108e5;t-=e,t=new Date(t);var s=t.getDate(),o=t.getMonth()+1,i=t.getFullYear(),r=t.getUTCHours(),l=t.getMinutes(),n=t.getSeconds(),c=`${s<10?"0"+s:s}/${o<10?"0"+o:o}/${i} - ${r<10?"0"+r:r}:${l<10?"0"+l:l}:${n<10?"0"+n:n}`;return c},htmlFormat(a){let t=a;t=t.replace(/=(\r\n|\n|\r)/gm,"<br>")},getParamServer(){this.loaderCheck=!0,this.listaParam=[];let a=JSON.stringify({tabela:"json_configs",select:"1=1",pagina:this.currentPage,qt:this.perPage,campos_select_end_point:"palavra^tipo^status^fonetico^grupo_dlp^dataCriacao^gravidade"}),t=this.locationUrl+"/sql/selectSql/"+this.token+"/resp_rest";console.log(a),console.log(t);let e=Bs;console.log(e),e=e.find(a=>a.indexOf("true")>-1?a.replaceAll('"true"',!0):a),e=e.find(a=>a.indexOf("false")>-1?a.replaceAll('"false"',!1):a),console.log(e),this.listaParam.permitidas=e.filter(a=>1===a.tipo?a:""),this.listaParam=e,this.ultVerifServer=this.formatDateMilisec(Date.now()),this.loaderCheck=!1,console.log(this.listaParam),this.ultVerifServer=this.formatDateMilisec(Date.now())},checaArray(a){return"*"===this.chkToken.grupoDlp||this.chkPermissao.indexOf(a)<0},getArray(a){return"string"===typeof a?a.split(","):a},habilitaEdicao(a,t){console.log(a),this.dadosTemp=t,this.editCampo=a},cancelaEdicao(){this.listaParam[this.dadosTemp[0]]=this.dadosTemp[1],this.editCampo=-1},salvaEdicao(a,t){const e=a;let s=t;s="object"===typeof s?s.join():s,s="number"===typeof s||"boolean"===typeof s?s.toString():s,this.loaderCheck=!0;let o=JSON.stringify({tabela_end_point:"json_configs",campos_select_end_point:"conteudo",grupo_dlp:"*",maquina:"SERVER",descricao:e,conteudo:s}),i=this.locationUrl+"/sql/updateSql/"+this.token+"/resp_rest";console.log(o),console.log(i),this.loaderCheck=!1,this.respostasEnvio(1,"Parâmetro alterado com Sucesso!"),this.loaderCheck=!1},abreModal(a,t){console.log(a),console.log(t),t&&(this.dadosParam=t),this.modalParam={adiciona:"modal-adiciona"==a,edita:"modal-edita"==a,remove:"modal-remove"==a,senha:"modal-senha"==a},setTimeout(()=>{this.$bvModal.show(a)},10)},fechaModal(a){this.$bvModal.hide(a),this.getParamServer(),setTimeout(()=>{this.dadosParam="",this.modalParam={adiciona:!1,edita:!1,remove:!1,senha:!1}},500)},respostasEnvio(a,t){console.log(a),console.log(t),this.resposta={status:a,texto:t},setTimeout(()=>{this.resposta={status:0,texto:""},this.editCampo=-1},3e3)}},mounted(){this.getParamServer()}},Qs=Zs,Ys=(e("3bb6"),Object(L["a"])(Qs,xs,ks,!1,null,"0f0e42b0",null)),Ws=Ys.exports,Xs=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"pb-5"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",attrs:{id:"box-main"}},[e("div",{attrs:{id:"main"}},[e("meu-painel",{attrs:{titulo:"Erro"}}),e("b-card",{staticClass:"container m-3 mx-auto erro p-0 m-0",attrs:{"no-block":"","header-bg-variant":"white"}},[e("b-container",{staticClass:"px-0"},[e("b-row",{staticClass:"mb-3"},[e("b-col",{staticClass:"col-12 p-2"},[e("b-card",{staticClass:"conf-item pa-0",attrs:{"body-text-variant":"grey"}},[e("b-row",{staticClass:"flex flex-center align-items-stretch"},[e("b-col",{staticClass:"bg-light text-warning d-flex justify-content-center d-flex align-items-center p-5",attrs:{sm:"3",xs:"3"}},[e("b-icon",{staticClass:"conf-icon",staticStyle:{width:"80px",height:"80px"},attrs:{icon:"exclamation-triangle-fill"}})],1),e("b-col",{staticClass:"bg-light text-grey p-3 conf-flex",attrs:{sm:"9",xs:"9"}},[e("b-card-text",[a._v(" Não é possível acessar a tela, provavelmente não tem permissão ou o mesmo não existe."),e("br"),e("small",[a._v(" Qualquer problema entre em contato com o suporte")])])],1)],1)],1)],1)],1)],1)],1)],1)])])])},Ks=[],ao=new Headers;ao.append("Content-Type","application/json"),ao.append("Cache-Control","no-cache"),ao.append("Expires","-1"),ao.append("Pragma","no-cache");var to={components:{"meu-painel":B["a"],"menu-lateral":H["a"],loader:U["a"]},data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,loaderCheck:!1}},methods:{abreModulo(a){this.$router.push(a)}}},eo=to,so=(e("09dd"),Object(L["a"])(eo,Xs,Ks,!1,null,"2a0af20c",null)),oo=so.exports;const io=[{path:"/login/",name:"Login",component:O,titulo:"Login",ver:!1},{path:"/dashboard",name:"Dashboard",component:Da,titulo:"Dashboard",ver:!0},{path:"/",name:"Redes home",component:J,titulo:"Redes",ver:!1},{path:"/redes",name:"Redes",component:J,titulo:"Redes",ver:!0},{path:"/alertas",name:"Alertas",component:la,titulo:"Alertas",ver:!0},{path:"/monitoramento/",name:"Monitoramento",component:Ta,titulo:"Monitoramento",ver:!0},{path:"/monitoramento/:grupo/:maquina",name:"Monitoramento Detalhes",component:Ta,titulo:"Monitoramento",ver:!1},{path:"/resumo-aplicacoes/",name:"Resumo Aplicacoes",component:za,titulo:"Resumo de Aplicações",ver:!1},{path:"/resumo-aplicacoes/:grupo/:maquina",name:"Resumo Aplicacoes Detalhes",component:za,titulo:"Resumo de Aplicações",ver:!1},{path:"/atividades/:grupo/:maquina",name:"Atividades",component:Za,titulo:"Atividades de Máquina",ver:!1},{path:"/configuracoes",name:"Configurações",component:st,titulo:"Configurações",ver:!0},{path:"/dispositivos",name:"Dispositivos",component:yt,titulo:"Dispositivos",ver:!1},{path:"/palavras",name:"Palavras",component:de,titulo:"PALAVRAS CLASSIFICADAS",ver:!1},{path:"/usuarios",name:"Usuarios",component:Fe,titulo:"Usuários e Grupos",ver:!1},{path:"/param-server",name:"Parametros Servidor",component:_s,titulo:"Parâmetro do Servidor",ver:!1},{path:"/perm-padrao",name:"Permissão Padrão",component:Ws,titulo:"Permissão Padrão",ver:!1},{path:"/erro",name:"Erro",component:oo,titulo:"Erro",ver:!1}]},"568a":function(a,t,e){a.exports=e.p+"img/o-email.88cb6e15.png"},"56d7":function(a,t,e){"use strict";e.r(t),e.d(t,"router",(function(){return V}));var s=e("2b0e"),o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[a.isIdle?e("modal-idle"):a._e(),e("router-view")],1)},i=[],r=e("5665"),l=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("b-modal",{ref:"modIdle",attrs:{"ok-only":"",id:"modIdle",title:"Encerrando Sessão"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"p-3"},[e("p",[a._v("Sua sessão está sendo encerrada por inatividade durante 1 hora. Para continuar faça alguma ação para fechar essa janela.")]),e("p",[e("strong",[a._v(a._s(a.second)+" segundos restantes")])])])])])])],1)},n=[],c={data(){return{time:6e4}},mounted(){this.showModal()},computed:{second(){return this.time/1e3}},created(){var a=window.location.href;a.includes("login")&&(this.$store.state.idleVue.isIdle=!1),this.locationUrl=this.$store.state.variaveisAmbiente.locationUrl;let t=setInterval(()=>{this.time-=1e3,this.$store.state.idleVue.isIdle||clearInterval(t),this.time<1&&(this.redireciona(),this.hideModal(),clearInterval(t))},1e3)},methods:{redireciona(){var a=JSON.parse(localStorage.getItem("user"));a="string"==typeof a?a:a.keyAcesssSecret,console.log(a);var t=`${this.$store.state.variaveisAmbiente.locationUrl}/dpo/acesso/sessao/${a}/resp_rest`;this.$http.post(t).then(a=>a.text()).then(a=>this.$store.dispatch("ActionSignOut"),localStorage.removeItem("user")).catch(()=>{console.log("Sessão Encerrada!")}),this.$router.push({name:"login"}),localStorage.clear()},showModal(){this.$root.$emit("bv::show::modal","modIdle","#btnShow")},hideModal(){this.$root.$emit("bv::hide::modal","modIdle","#btnShow")},toggleModal(){this.$root.$emit("bv::toggle::modal","modIdle","#btnToggle")}}},d=c,u=(e("00f9"),e("0c7c")),p=Object(u["a"])(d,l,n,!1,null,"ef7c2d40",null),m=p.exports,h={components:{"modal-idle":m},data(){return{routes:r["a"],ModalIdle:m}},created(){document.title="Epsoft DLP - "+this.$route.name,icon="favicon.ico"},computed:{isIdle(){return this.$store.state.idleVue.isIdle}}},v=h,b=(e("034f"),Object(u["a"])(v,o,i,!1,null,null,null)),g=b.exports,f=e("28dd"),A=e("8c4f"),C=e("5f5b"),_=e("b1e0"),x=(e("f9e3"),e("2dd8"),e("5df9"),e("ecee")),k=e("c074"),S=e("ad3d"),y=e("5886"),M=(e("4413"),e("2f62")),D=e("fcc2"),w={CHANGE_VARIAVELSISTEMA(a,t){a.variavelSistema=t},CHANGE_VARIAVELWATCHER(a,t){a.variavelWatcher=t},CHANGE_VARIAVELWATCHERFILTER(a,t){a.variavelWatcherFilter=t},CHANGE_SET_USER(a,t){a.user=t},CHANGE_SET_TOKEN(a,t){a.token=t},CHANGE_SET_INFO_ALERTA(a,t){a.infoAlerta=t}};e("885b");s["default"].use(f["a"]);const P=s["default"].http,q=ambientes.ativo[0].porta_localhost,U=ambientes.ativo[0].endereco_localhost;P.options.root=U+":"+q+"/";var E={};s["default"].use(M["a"]);var $=new M["a"].Store({state:D["a"],mutations:w,actions:E}),T=async(a,t,e)=>{const s=["/login"],o=!s.includes(a.path),i=localStorage.getItem("user");return o&&!i?e({path:"/login",query:{returnUrl:a.path}}):"/login"==a.path&&i?e({path:"/",query:{returnUrl:a.path}}):(document.title="Epsoft DLP - "+a.name,void e())},L=e("dcb8"),I=e.n(L),O=e("d7b1"),R=e("b73b"),j=e.n(R),N=e("2347"),z=e.n(N),G=e("f2d9"),J=e("b6d0");s["default"].use(J["a"]),s["default"].use(j.a),s["default"].use(O["a"]),s["default"].use(y["a"]),s["default"].component("downloadCsv",z.a),s["default"].component("downloadXls",G["a"]);x["c"].add(k["a"]),s["default"].component("font-awesome-icon",S["a"]),s["default"].config.productionTip=!1,s["default"].use(C["a"]),s["default"].use(_["a"]),s["default"].use(e("2ead")),s["default"].use(A["a"]);const V=new A["a"]({routes:r["a"]});V.beforeEach(T),s["default"].use(f["a"]),V.beforeEach(T);const F=new s["default"];s["default"].use(I.a,{eventEmitter:F,store:$,idleTime:36e5,startAtIdle:!1}),new s["default"]({el:"#app",store:$,router:V,beforeEach:T,render:a=>a(g)}),window.addEventListener("beforeunload",(function(a){console.log(localStorage.getItem("dataLogin")),(new Date).getMinutes()-parseInt(localStorage.getItem("dataLogin"))>=localStorage.getItem("limiteSessao")&&(localStorage.removeItem("infoUser"),localStorage.removeItem("user"),localStorage.removeItem("dataLogin"))}),!1)},5864:function(a,t,e){"use strict";var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"sidenav",attrs:{id:"mySidenav"}},[e("i",{staticClass:"closebtn",attrs:{href:"javascript:void(0)"},on:{click:function(t){return a.closeNav()}}},[a._v("×")]),e("nav",{attrs:{id:"menu-lateral"}},[e("ul",a._l(a.routes,(function(t){return e("li",{key:t.id,style:{display:[a.verItemMenu(t.ver)]}},[e("router-link",{attrs:{to:t.path}},[a._v(" "+a._s(t.titulo)+" ")])],1)})),0)])]),e("b-button",{staticClass:"text-white px-1 outline-none",attrs:{variant:"transparente",title:"Menu"},on:{click:function(t){return a.viewSideBar()}}},[e("b-icon",{attrs:{icon:"list","font-scale":"2"}})],1)],1)},o=[],i=e("7669"),r=e.n(i),l=e("0f71"),n=e.n(l),c=e("7ea7"),d=e("bcf5"),u=e("5665"),p={components:{btnNotification:c["a"],buttonConfiguracoes:d["a"]},data(){return{routes:u["a"],sideBar:!0,foto:{url:r.a,titulo:"logo flash"},foto2:{url:n.a,titulo:"foto user"},status:!1,tokenUsuario:""}},methods:{voltaPagina(){this.$router.go(-1)},viewSideBar(){this.sideBar=!this.sideBar,0==this.sideBar?this.closeNav():this.openNav()},closeNav(){this.sideBar=!1,document.getElementById("mySidenav").style.width="0",document.getElementById("main").style.marginLeft="0"},openNav(){this.sideBar=!0;var a=screen.width;window.location.pathname;a>=992?(document.getElementById("mySidenav").style.width="200px",document.getElementById("main").style.marginLeft="200px"):document.getElementById("mySidenav").style.width="200px"},redireciona(){var a=JSON.parse(localStorage.getItem("user")),t=`${this.$store.state.variaveisAmbiente.locationUrl}/dpo/acesso/sessao/${a}/resp_rest`;this.$http.post(t).then(a=>a.text()).then(a=>this.$store.dispatch("ActionSignOut"),localStorage.removeItem("user")).catch(a=>console.log("error",a)),this.$router.push({name:"login"}),localStorage.clear()},verItemMenu(a){return a?"block":"none"}},mounted(){var a=screen.width,t=window.location.pathname;a>=992&&!t.includes("monitoramento")&&(this.status=!0,this.openNav()),this.openNav(),this.tokenUsuario=JSON.parse(localStorage.getItem("user")).keyAcesssSecret}},m=p,h=(e("79a7"),e("0c7c")),v=Object(h["a"])(m,s,o,!1,null,"a353cf5a",null);t["a"]=v.exports},"5aae":function(a,t,e){"use strict";e("d55d")},"5bf0":function(a,t,e){a.exports=e.p+"img/facebook.169d6f68.png"},"5d45":function(a,t,e){},6519:function(a){a.exports=JSON.parse('[{"json":"1","tipo":"1","print":"false","filma":"false","impede_copia":"false","registra_copia":"false","monitora_dados":"false","particular":"false","derruba_app":"false"},{"json":"1","tipo":2,"print":"true","filma":"true","impede_copia":"true","registra_copia":"true","monitora_dados":"true","particular":"false","derruba_app":"false"},{"json":"1","tipo":3,"print":"false","filma":"false","impede_copia":"false","registra_copia":"false","monitora_dados":"false","particular":"false","derruba_app":"false"}]')},"653f":function(a,t,e){a.exports=e.p+"img/epsoft.f10e6e12.jpg"},"66d0":function(a,t,e){},6840:function(a,t,e){"use strict";e("874f")},"6e66":function(a,t,e){"use strict";e("cf6e")},"6fb0":function(a,t,e){"use strict";e("c25a")},"70be":function(a,t,e){},"70c1":function(a,t,e){},"71a1":function(a,t,e){},"725e":function(a,t,e){"use strict";e("1643")},7669:function(a,t,e){a.exports=e.p+"img/flashIcon2.713c6548.png"},"79a7":function(a,t,e){"use strict";e("ea92")},"79f6":function(a,t,e){a.exports=e.p+"img/instagram.f9bdc92b.png"},"7bb8":function(a,t,e){"use strict";e("dbde")},"7d44":function(a,t,e){},"7ea7":function(a,t,e){"use strict";var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("a",{staticClass:"header-menu-tab nav-alerta alerta font-weight-light header-menu-tab",attrs:{id:"tooltip-button-alertas",title:"Ver Alertas"}},[e("div",{staticClass:"v-btn__content"},[e("span",[e("span",{staticClass:"v-badge__badge white"},[a._m(0),e("a",{attrs:{href:a.caminhoUrlAlertas,id:"tooltip-button-alertas"}},[e("router-link",{staticClass:"link-router-novo",attrs:{id:"sair",to:"/alertas"}},[e("img",{staticClass:"img-icon",attrs:{border:"0",alt:"W3Schools",src:a.bell.url,width:"45px",height:"40px"}})])],1)])])])])},o=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("span",{staticClass:"black--text"},[e("a",{staticClass:"header-menu-number red"},[a._v("1")])])}],i=e("aefd"),r=e.n(i),l={data(){return{locationUrl:null,caminhoUrlAlertas:"",bell:{url:r.a,titulo:"foto imagem drive"}}},created(){this.locationUrl=window.location.origin,this.caminhoUrlAlertas="/alertas"}},n=l,c=(e("ab7b"),e("0c7c")),d=Object(c["a"])(n,s,o,!1,null,"36cea840",null);t["a"]=d.exports},8302:function(a,t){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABOFBMVEUAAADn8v+v0/6GvP1jqfxCl/wwjfslh/kagfno8v/M4/56tv00jvxMerJ7tv3N4/6Zx/2Owf0khPmPwf2y1f4vivvt9f9gqPxhqPzu9f8/lfygyv3c7P75+//b6/6fyv0+lPyt0v4bf/kagPmjzP3+/v/////9/v8ZgvmYxv0Wf/nG4P73+v+VxP1DlvyWxf34+//E3/6Xxv3j7/87k/w8lPzk8P+oz/6pz/7I4f6dyf3r9P8si/pfp/zs9P9dpfxEmPzZ6v7q8/8bg/np8/9bpPtFmPzY6v4ujPvJ4f6byP3K4v49lfw9k/yr0f7l8f+cyP2ax/3C3v6u0v6w0/4xi/sxjvvO5P5lqfzu9v+01v4mhfmSw/04kPzN5P58t/06kfx+uP3P5f6Hvf0miPkxjPtmq/yJvv3ELwgNAAAAAXRSTlMAQObYZgAAAAFiS0dEJloImLUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAG9SURBVFjD7ZRZV4JAFIAnFbSSIjOzCDXSC5mpWba5a2mZlbbv+/L//0FYeTxzEcGXzukcvgdm8M53ce4dIMTCwsLiHzBkszsY1ulyOVnGYbcND2aPjLo5hHts3LTOa+zfHLwpfcLD6eKZNNS9U1xfprx9dd80Z4h/Rt8fZ+m1s8KcKAaCIfpXVrea8xK1cCEcgW9kQaEC0nxvfzFK+0sQW2YUJZ5IwgqdIdqzHSm01zCsrv3M0usQRMFFrb9BP5+bjcTWOvO0KKM6RDexv+VCzxBguXuTgm0UlrZoP5PF3ZoDRr3m8pmCOhShhOPZPJUgp2m3CO3CqavK6lCBpGZBzlSCDCE7OgmmqQR5zRYCEFevhfLOrjpUoYbjez66CPsSWhCERPeGhzou4gFuwyZqY0hOpjvzhigfojYeGR8kAdZ/MzSOoYmCrV5Hkaf/g7KiJi1WKlX13J7QG4w2e78Mp/SJV4ROoEn7ypnu63yO6rBdIqRWR/u/uCS6zPg5Q66uST+MPmnnN8SISae+fntnqLdp6XzW75um9DYPj/fYfnp+Ma1/M3z2ehW/eJOkt/fqx6e3PJhtYWFh8fd8AZToVwOv47e1AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA1LTI1VDIwOjM5OjUwKzAyOjAw+gPpEAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNS0yNVQyMDozOTo1MCswMjowMIteUawAAAAASUVORK5CYII="},"86a5":function(a,t,e){},"874f":function(a,t,e){},"880f":function(a,t,e){"use strict";e("9f12")},"885b":function(a,t){ambientes={ativo:[{url:"https://homologa.epsoft.com.br",endereco_localhost:"http://localhost",porta_localhost:"8787",ambiente:"AWSSERVERDEV",porta:"8088",porta_react:"3003",porta_api:"5003"}]}},8925:function(a,t,e){"use strict";e("0515")},"8b66":function(a,t,e){},"8da6":function(a,t,e){},"8e39":function(a,t,e){},"90e4":function(a,t,e){},9347:function(a,t,e){a.exports=e.p+"img/phone.d8ea8c5f.png"},"9d7c":function(a,t,e){},"9d86":function(a){a.exports=JSON.parse('[{"json":"vars","imgBlockPrtSc":"/j/users/dlp/TELA_BLOQUEIO_PRINT.png","desativaPrintScreen":"false","titulosADesprezar":"Alternancia,salerta,program manager,Emblema,Andamento","classesDebugar":"","quandoPegarDadosSensiveis":"true","monitoraDispExternos":"true","jansFilhasMonitorar":"save,salvar,save file,salvar arquivo,open,open file,abrir,abrir arquivo,anexar,envio de arquivos,anexar arquivos","ipCloud":"localhost","portaCloud":"8090","portaDlp":"8085","ativaSmsAlmSerios":"true","ativaSmsAlmGraves":"true","ativaSmsAlmGravissimos":"true","ativaEmailAlmSerios":"true","ativaEmailAlmGraves":"true","ativaEmailAlmGravissimos":"true","conectivosExcluir":",DE,DO,DAS,A,O,AS,OS,SA,PELO,PELA,PARA,DEL,DELA,","extensoesSensiveis":"txt,xlsx,docx,ppt,pptx,xls,doc,pdf,html,xml","driveServer":"e:","cliAtual":"epsoft","grupoDlp":"epsoft","filmar_sempre":"false","percentualCompacArquivos":"60%","origensAlarme":"CoPIA INDEVIDA,GRAVACAO INDEVIDA,ANEXACAO ARQUIVO,DISPOSITIVO NAO CONHECIDO,DISPOSITIVO SEM IDENT VALIDA,RESPOSTA DE MENSAGEM,ACAO INDEVIDA,ERRO PROCESSAMENTO","statusAlarme":"NAO VISTO,VISTO,EM ANDAMENTO,PENDENTE,TRATADO,DISPOSITIVO AUTORIZADO,DISPOSITIVO NAO AUTORIZADO,ARQUIVADO,MENSAGEM LIDA","tiposAlarme":"SERIO,GRAVE,GRAVISSIMO,INFO","anonimizaDadosRelatorios":"false","tamMaxDadosRelevantes":"2000","qtMinQualifsTab":"3","qtMinQualifsDoc":"5","maxQtFalsosNomes":"3","qtPalsManterQualificador":"1","QtMaxLinhasResult":"60","tMinQualifsTab":"3","comFonetizacao":"true","notaCorteSerios":"20","notaCorteGraves":"100","notaCorteGravissimos":"500"}]')},"9e7b":function(a,t,e){"use strict";e("2dec")},"9f12":function(a,t,e){},a42f:function(a,t,e){"use strict";e("8da6")},aa94:function(a,t,e){"use strict";e("5d45")},ab7b:function(a,t,e){"use strict";e("c01b")},ae26:function(a,t,e){},aefd:function(a,t){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACUlBMVEUAAACnusVHboQZSGUZR2dCa4Ofs79ZfJFMerJNc4rz9vdujJ9khJjW3+TT3OKLpLOOprRxj6F1kqTX4OWitsJ3lKQvWHQpWHNqip2dsr7V3uOGn681YXsuWHV8l6jU3ePN2N5Weo5PdIvD0Nfk6u1afJHi6OyvwMoiUW0cTmh0kqMgTWyNpbS2xc/r7/L////w8/Xj6e3U3eKuwMqFn65YfJEbS2pmh5kXSGNlhpm+zNS3xs9khZkWRWVef5VggpYURmRtjJ7e5elsip5ig5cyXnjI1NvH09owXHZ/mquzw81VeY7x9PZXepDp7fAhUGphgpZfgZQjUGzo7fBQdoxTd4y/zdXv8/Xt8fPBztZBaYHL1t27ydJykKG5yNEdTmvu8vRLcYjR2+AZTGns8PMaSmdvjaC1xc7K1dy6yNFripwzX3gkUGyAm6t9makmU3DF0diPp7WSqbdUd45cf5RXe5CXrbqVq7nO2N/Y4OWjt8IYSWSmucRGbIV4laagtMDh6OvJ1dzm6+6VrLksWXQnV3KbsL1Sd41OdItNdIktWXKar7yYrru9y9S7ytIVRGLg5+vf5erc4+g6ZH1KboaluMShtcEoVXDG0tmZr7wlU29AaYJIb4asvcjM193b4+eWrbpbf5OIobAmVm/E0NiEnq6JorE5Y3qpu8bQ2uBoiZwYS2hwjqDP2d9CbIM0YHr19/j09viitcE2YHtnh5u4x9A5Y30nVnJti5+qvMd5laZ9mKmUqrhzkaPq7vHAzdXd5Og0YXmrvceBnKxMcYmCnay99DxLAAAAAXRSTlMAQObYZgAAAAFiS0dELyPUIBEAAAAJcEhZcwAADsQAAA7EAZUrDhsAAARnSURBVHja7ZrnVxQxFMUHWGTA3gVUsIKoPAsq2BFlLVhAxYqIKDZsCFgQFBV7xS527L1j7/5fmpdRFISdJG9mj+fkft159/52NjN5SdYwtLS0tLS0tLS0/msFBAZ5gpv4Lz/ERIWG+Sm/qWmpmX/ym5u/1cIvAC1rAVr5BaB1LUAb99PbtmvfoRagY6fwCDfTIyI7m/XUpWuUS/HR3cwG1L2HC/E9e5mNKKS30/kxsWaj6hPgbH7c76S+vfr1j4gHgAEDBw1OGDLUnSdimBWSmDQc6mjEyFHWh6Odyx/DE8Ym94R/aFzKWP75eKfyE7j/hFRoQN6J/IpJzuRP5u5TBkCDSpvKr5nsRP606eg9AxpVOl6UMdMBgCS0ngU+NJtj0udnovHEOb4A5vJxMI8cYD6Of6+vfIAF+CwEU+cvxO+V5TsfgE/Ti4gBAplpdrwdgMU4WnNo85fgt4q0kw8QiRcPIgXAOSB3qT2Apcvo5wS8q03t5QPk4buAMn853tQVdgG8ePlKQoBVOAfYzQdYza5PJgTIZ4Zr7AOsZdevo8tfgbc01T7AeixYQgawgdnF2s8HwMatgAxgI7MrFAHAzrWIDAAbvmIRgE3YNlLlR+EvGi0CsBlLthABbGVmQSL5ACWsZhsRQBYzKxUDCGY1ZUQAOBPGiQFkUc6IfZjZdjGAcFYznSZ/Bw6ocjEAPh3sJAFYiV5pYgBzsCiTBGAXs9otlg9Qwar2kABgj7dXFGAf3WOwn1m1FwXAHmoKCcABZnVQFOAQthAkADicDosCHGFVRynytyDAMVGA41hWSQCA/aBHNN+aDRYSABQwoxPiALiTV0wAkCfcjXBhTxJHAHAS9zzEAbAx7U4AgB3xKXGA06zujHp+vMxUxHSWTyHKAD3QZ7E4gEWuDHAO76R4PsB5bCOUAfAh2CgDEEqzRq5iNmtlAMpY5QVlgERmc1EG4BTuKajmX8KhdFkGgC8nVM+zruASRyYfABdU4YoAV5nJVDkAbIpUzxQzmMkGOYBrrLZaLb9c9j3IdJ1gl+AGs8iXy7cGwU0lANzsSZIFKGTVt1Ty+d5MjCzAbSy/owBwFzdoZfMh7R6rvy+fvxNfg8nSAICHXJ5p0gD3+S2UB+BLVOm+7AHu/IfK5wM8xNWB5L512CO+wlUBWIQWtx5LAfB/iISo5FtNgdRZZhg/pM6tVANoi+sTM/2JaH45v//mU7V8gALu82yBUPyIIl5mPlfN/3WS+PO3fGEvO7DqZU2JVWN2eJWnrJSaX24lNS+rAn0CmA5LA2gAoafx38J1d0Wdh+01uh8hsPct3upt+hsA31se9bWwLWGfFvTgz3x+YF3oTj4/wDDz/zjKf8N/X69LAAbO8uaot9Zh+vpgnp/uVr5Rmc0TE2cnHHz33pq2zOoPrgEYmSX1n6/cS+7lG8bH7Lr5Galu5hvGp9K/83Mc/xtdPQV8ro1/9sX1eCbv15xqj6fi23f1rTAtLS0tLS0tLS0/6gfXjOjin95mlwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMi0xOFQxOTozNjozMCswMTowMDTIqVEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDItMThUMTk6MzY6MzArMDE6MDBFlRHtAAAAAElFTkSuQmCC"},b699:function(a,t,e){"use strict";e("70be")},b73d:function(a,t,e){},bb0a:function(a,t,e){"use strict";e("86a5")},bcf5:function(a,t,e){"use strict";var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-nav-item-dropdown",{staticClass:"perfil-menu",attrs:{right:""},scopedSlots:a._u([{key:"button-content",fn:function(){return[e("b-icon",{attrs:{icon:"person-circle","font-scale":"1.65",variant:"white"}}),e("span",{staticClass:"user-label"},[a._v(a._s(a.username))])]},proxy:!0}])},[e("b-dropdown-item",{on:{click:a.redireciona}},[e("router-link",{staticClass:"link-router-novo",attrs:{id:"sair",to:""}},[e("b-icon",{attrs:{icon:"x"}}),a._v(" Sair")],1)],1)],1)},o=[],i=(e("15e8"),e("0f71")),r=e.n(i),l=e("5665");const n=e("3452");var c={data(){return{foto:{routes:l["a"],url:r.a,titulo:"foto user"},locationUrl:"",username:""}},created(){this.locationUrl=this.$store.state.variaveisAmbiente.locationUrl},methods:{redireciona(){this.$store.state.variaveisAmbiente.memoriaMaquinasRede=[],this.$store.state.variaveisAmbiente.total=0,this.$store.state.variaveisAmbiente.ativo=0,this.$store.state.variaveisAmbiente.inativo=0;var a=JSON.parse(localStorage.getItem("user")).keyAcesssSecret,t=`${this.$store.state.variaveisAmbiente.locationUrl}/dpo/acesso/sessao/${a}/resp_rest`;this.$http.post(t).then(a=>a.text()).then(a=>this.$store.dispatch("ActionSignOut"),localStorage.removeItem("user")).catch(()=>console.log("Sessão encerrada")),this.$router.push({name:"login"}),localStorage.clear()}},mounted(){var a=localStorage.getItem("user");a=JSON.parse(a),a=a.keyAcesssSecret;var t=n.enc.Base64.parse(a);t=t.toString(n.enc.Utf8);t=t.split("-"),this.username=t[0]}},d=c,u=(e("4218"),e("0c7c")),p=Object(u["a"])(d,s,o,!1,null,"b29cc3b6",null);t["a"]=p.exports},be34:function(a,t,e){},bf78:function(a,t,e){"use strict";e("ae26")},c01b:function(a,t,e){},c25a:function(a,t,e){},c617:function(a,t,e){"use strict";e("1662")},c76b:function(a,t,e){"use strict";e("66d0")},c826:function(a,t,e){"use strict";e("90e4")},c92b:function(a,t,e){},caf9:function(a,t){a.exports.TrataValor=function(a){var t=a.split(" ")[0],e=a.split(" ")[1],s=t.split("-")[2],o=t.split("-")[1],i=t.split("-")[0],r=e+" - "+s+"/"+o+"/"+i;return r=JSON.stringify(r),r=r.replace(new RegExp('["]',"gi"),""),r},a.exports.TrataValorTimestamp=function(a){let t=new Date(a);t=t.toISOString(),t=t.trim();var e=t.split("T")[0],s=t.split("T")[1].replace("Z","");s=s.substring(0,s.length-1);var o=e.split("-")[2],i=e.split("-")[1],r=e.split("-")[0],l=s+" - "+o+"/"+i+"/"+r;return l=JSON.stringify(l),l=l.replace(new RegExp('["]',"gi"),""),l},a.exports.TimestampData=function(a){a=new Date(a).toLocaleTimeString("pt-br");return a}},cd0e:function(a,t,e){},cf6e:function(a,t,e){},d084:function(a,t,e){"use strict";var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[a.chkModulo("sms")?e("b-dropdown-item-button",{attrs:{hidden:""},on:{click:function(t){return a.setSubMenu("sms",a.dadosMaq,a.indice)}}},[a._v(" SMS ")]):a._e(),a.chkModulo("email")?e("b-dropdown-item-button",{attrs:{hidden:""},on:{click:function(t){return a.setSubMenu("email",a.dadosMaq,a.indice)}}},[a._v(" E-mail ")]):a._e(),e("b-dropdown-divider",{attrs:{hidden:""}}),a.chkModulo("versaoDlp")?e("b-dropdown-item-button",{attrs:{hidden:""},on:{click:function(t){return a.setSubMenu("versaoDlp",a.dadosMaq,a.indice)}}},[a._v(" Versão DLP ")]):a._e(),a.chkModulo("desliga")?e("b-dropdown-item-button",{attrs:{disabled:a.habilitaMenu(),hidden:""},on:{click:function(t){return a.setSubMenu("desliga",a.dadosMaq,a.indice)}}},[a._v(" Desliga Computador ")]):a._e(),a.chkModulo("reinicia")?e("b-dropdown-item-button",{attrs:{disabled:a.habilitaMenu(),hidden:""},on:{click:function(t){return a.setSubMenu("reinicia",a.dadosMaq,a.indice)}}},[a._v(" Reincia Computador ")]):a._e(),a.chkModulo("reiniciaDlp")?e("b-dropdown-item-button",{attrs:{disabled:a.habilitaMenu()},on:{click:function(t){return a.setSubMenu("reiniciaDlp",a.dadosMaq,a.indice)}}},[a._v(" Reinicia o DLP ")]):a._e(),a.chkModulo("paraApp")?e("b-dropdown-item-button",{attrs:{disabled:a.habilitaMenu()||a.chkApp(),hidden:""},on:{click:function(t){return a.setSubMenu("paraApp",a.dadosMaq,a.indice)}}},[a._v(" Para Aplicação ")]):a._e(),a.chkModulo("exeCmd")?e("b-dropdown-item-button",{attrs:{disabled:a.habilitaMenu(),hidden:""},on:{click:function(t){return a.setSubMenu("exeCmd",a.dadosMaq,a.indice)}}},[a._v(" Execução de Comandos ")]):a._e(),[e("sms",{attrs:{dados:a.getItens,idx:a.indice}}),e("chat",{attrs:{dados:a.getItens,idx:a.indice}}),e("email",{attrs:{dados:a.getItens,idx:a.indice}}),e("versao-dlp",{attrs:{dados:a.getItens,idx:a.indice}}),e("desliga-maquina",{attrs:{dados:a.getItens,idx:a.indice},on:{carregaDados:function(t){return a.getCarregaDados()}}}),e("reinicia-maquina",{attrs:{dados:a.getItens,idx:a.indice},on:{carregaDados:function(t){return a.getCarregaDados()}}}),e("reinicia-dlp",{attrs:{dados:a.getItens,idx:a.indice},on:{carregaDados:function(t){return a.getCarregaDados()}}}),e("para-app",{attrs:{dados:a.getItens,idx:a.indice},on:{carregaDados:function(t){return a.getCarregaDados()}}}),e("exe-cmd",{attrs:{dados:a.getItens,idx:a.indice}})]],2)},o=[],i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"sms"+a.idx,attrs:{"ok-only":"",id:"sms"+a.idx,size:"md","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" SMS: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"success",disabled:!a.verificaSms()},on:{click:function(t){return a.geraIdSms()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"chat-right-text-fill"}}),a._v(" Enviar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Máquina:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosMaq.grupo_dlp+"-"+a.dadosMaq.computer_name+"-"+a.dadosMaq.cod_maquina))])]),e("div",{staticClass:"col-12 pb-3"},[a.mensagem.contato?e("b-form-group",{staticClass:"mb-0",attrs:{label:"Celular: ","label-for":"smsCelular",description:"Coloque somente numeros ex: (XX) XXXXX-XXXX"}},[e("b-form-input",{directives:[{name:"mask",rawName:"v-mask",value:a.maskNum(),expression:"maskNum()"}],staticClass:"contato",attrs:{id:"smsCelular",placeholder:"Coloque um Número de Celular",state:a.valida.numero},on:{keyup:function(t){return a.verificaNum(a.mensagem.numero)},blur:function(t){return a.verificaNum(a.mensagem.numero)}},model:{value:a.mensagem.numero,callback:function(t){a.$set(a.mensagem,"numero",t)},expression:"mensagem.numero"}}),e("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.topleft",value:"Alternar para Meta Dados?",expression:"'Alternar para Meta Dados?'",modifiers:{hover:!0,topleft:!0}}],staticClass:"contato-icon",attrs:{"font-scale":"1.5",icon:"person-fill",variant:"secondary"},on:{click:function(t){return a.verificaContato()}}})],1):a._e(),a.mensagem.contato?a._e():e("b-form-group",{staticClass:"mb-0",attrs:{label:"Meta Dados:","label-for":"smsUser",description:"Coloeque o metadado sem <>, ex: 'mariasantana' "}},[e("b-form-input",{staticClass:"contato",attrs:{id:"smsMeta",placeholder:"Coloque um Meta Dados",type:"text",maxlength:"20",state:a.valida.metadados},on:{keyup:function(t){return a.verificaMeta(a.mensagem.metadados)},blur:function(t){return a.verificaMeta(a.mensagem.metadados)}},model:{value:a.mensagem.metadados,callback:function(t){a.$set(a.mensagem,"metadados",t)},expression:"mensagem.metadados"}}),e("b-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.topleft",value:"Alternar para Número de Celular?",expression:"'Alternar para Número de Celular?'",modifiers:{hover:!0,topleft:!0}}],staticClass:"contato-icon",attrs:{"font-scale":"1.5",icon:"telephone-fill",variant:"secondary"},on:{click:function(t){return a.verificaContato()}}})],1)],1),e("div",{staticClass:"col-12 pb-3"},[e("b-form-group",{staticClass:"mb-0 descricao",attrs:{label:"Texto do SMS:","label-for":"smsTexto",description:a.mensagem.max-a.mensagem.texto.length+" caracteres restantes"}},[e("b-form-textarea",{staticClass:"mensagem",attrs:{id:"smsTexto",placeholder:"Limite 159 caracteres",maxlength:a.mensagem.max,state:a.valida.texto,"no-resize":"",rows:"4"},on:{keydown:function(t){return a.verificaTexto(a.mensagem.texto)},blur:function(t){return a.verificaTexto(a.mensagem.texto)}},model:{value:a.mensagem.texto,callback:function(t){a.$set(a.mensagem,"texto",t)},expression:"mensagem.texto"}})],1)],1),e("div",{staticClass:"col-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Comentario:","label-for":"smsComentario",description:a.mensagem.max-a.mensagem.comentario.length+" caracteres restantes"}},[e("b-form-textarea",{staticClass:"mensagem",attrs:{id:"smsComentario",state:a.valida.comentario,maxlength:a.mensagem.max,"no-resize":"",rows:"4"},on:{keydown:function(t){return a.verificaComent(a.mensagem.comentario)},blur:function(t){return a.verificaComent(a.mensagem.comentario)}},model:{value:a.mensagem.comentario,callback:function(t){a.$set(a.mensagem,"comentario",t)},expression:"mensagem.comentario"}})],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},r=[],l=new Headers;l.append("Content-Type","application/json"),l.append("Content-Type","text/plain"),l.append("Cache-Control","no-cache"),l.append("Expires","-1"),l.append("Pragma","no-cache");var n={props:["dados","idx"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,dadosMaq:this.dados,mensagem:{id:"",numero:"",metadados:"",contato:!0,texto:"",comentario:"",max:159},valida:{numero:null,metadados:null,texto:null,comentario:null},resposta:{status:0,texto:""}}},watch:{dados(a){this.dadosMaq=a}},methods:{verificaSms(){return this.valida.texto&&this.valida.comentario&&(this.valida.numero||this.valida.metadados)},maskNum(){var a=this.mensagem.numero;return a?15==a.length?"(##) #####-####":"(##) ####-#####":"(##) #####-####"},maskMeta(){let a=/[`´~!@#$%^&*()|+\=?;:'"¨, <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,t=this.mensagem.metadados;t.replace(a,""),this.mensagem.metadados=t.toLowerCase()},verificaNum(a){let t=a;this.valida.numero=t?t.length>=14:null},verificaMeta(a){let t=/[`´~!@#$%^&*()|+\=?;:'"¨, <>\{\}\[\]\\\/àáâãäÀÁÂÃÄèéêëÈÉÊËìíîïÌÍÎÏóòôõöÓÒÔÕÖúùûüÚÙÛÜçÇñÑ]/gi,e=a.replaceAll(t,"");e=e.toLowerCase(),this.mensagem.metadados=e,this.valida.metadados=!!e||null},verificaComent(a){let t=a;t?(this.mensagem.comentario=t,this.valida.comentario=t.length>=2):this.valida.comentario=null},verificaContato(){this.mensagem.contato=!this.mensagem.contato,this.mensagem.numero="",this.mensagem.metadados="",this.valida.numero=null,this.valida.metadados=null},verificaTexto(a){let t=a;this.valida.texto=!!t},resetDados(){this.mensagem={id:"",num:"",contato:!0,texto:"",comentario:"",max:159},this.valida={numero:null,metadados:null,texto:null,comentario:null},this.dadosMaq=[]},async geraIdSms(){this.loaderCheck=!0;let a=`${this.locationUrl}/subMenu/getIdSms/${this.token}/resp_rest`;await this.$http.get(a,l).then(a=>{this.loaderCheck=!1,this.mensagem.id=a.data.id_sms,setTimeout(()=>{this.enviaSMS()},100)}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},async enviaSMS(){this.loaderCheck=!0;let a=""!=this.mensagem.numero?"55"+this.mensagem.numero.replace(/\D/gim,""):`<${this.mensagem.metadados}>`;console.log("ID alarme: "+this.dadosMaq.id_alarme),console.log("Meu contato: "+a),console.log("Meu Texto: "+this.mensagem.texto.replace(/(\r\n|\n|\r)/gm," ")),console.log("Meu ID: "+this.mensagem.id),console.log("Meu Comentário: "+this.mensagem.comentario);let t=this.dadosMaq.id_alarme?JSON.stringify({id_alarme:this.dadosMaq.id_alarme,telefone:a,texto:`[ID DO ALARME: ${this.dadosMaq.id_alarme}] - `+this.mensagem.texto.replace(/(\r\n|\n|\r)/gm," "),id_sms:this.mensagem.id,comentarios:this.mensagem.comentario}):JSON.stringify({telefone:a,texto:this.mensagem.texto.replace(/(\r\n|\n|\r)/gm," "),id_sms:this.mensagem.id,comentarios:this.mensagem.comentario}),e=`${this.locationUrl}/subMenu/enviaSms/${this.token}/resp_rest`;await this.$http.post(e,t,l).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0),this.valida.chat=null,this.mensagem=""}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:"Mensagem de SMS enviada com sucesso!"},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal(),this.resetDados()},3600)):(this.resposta={status:2,texto:"Falha ao enviar mensagem de SMS!"},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},fechaModal(){this.$refs["sms"+this.idx].hide()},abreModal(){this.$refs["sms"+this.idx].hide()}},mounted(){this.fechaModal()}},c=n,d=(e("a42f"),e("0c7c")),u=Object(d["a"])(c,i,r,!1,null,null,null),p=u.exports,m=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"chat"+a.idx,attrs:{"ok-only":"",id:"chat"+a.idx,size:"md","hide-header-close":"","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Chat: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"success",disabled:!a.verificaChat()},on:{click:function(t){return a.enviaChat()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"chat-dots-fill"}}),a._v(" Enviar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Máquina:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosMaq.grupo_dlp+"-"+a.dadosMaq.computer_name+"-"+a.dadosMaq.cod_maquina))])]),a.dadosMaq.id_alarme?e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("ID do Alerta:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosMaq.id_alarme))])]):a._e(),e("div",{staticClass:"col-12 pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Mensagem:","label-for":"chatMensagem"}},[e("b-form-textarea",{staticClass:"mensagem",attrs:{id:"chatMensagem",state:a.valida.chat,placeholder:"Coloque pelo menos 3 caracteres","no-resize":"",rows:"4"},model:{value:a.mensagem,callback:function(t){a.mensagem=t},expression:"mensagem"}})],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},h=[],v=new Headers;v.append("Content-Type","application/json"),v.append("Content-Type","text/plain"),v.append("Cache-Control","no-cache"),v.append("Expires","-1"),v.append("Pragma","no-cache");var b={props:["dados","idx"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,dadosMaq:this.dados,mensagem:"",valida:{chat:null},resposta:{status:0,texto:""}}},watch:{modalDesliga(a){this.modal=a},dados(a){this.dadosMaq=a}},methods:{verificaChat(){var a=this.mensagem.length;this.valida.chat=a>2||null;let t=!0;return(" "===this.mensagem[0]||" "===this.mensagem[0]&&" "===this.mensagem[1])&&(t=!1),this.valida.chat&&t},async enviaChat(){this.loaderCheck=!0;let a=this.dadosMaq.id_alarme?JSON.stringify({maquina:this.dadosMaq.cod_maquina,chat:`[ID DO ALARME: ${this.dadosMaq.id_alarme}] - `+this.mensagem.replace(/(\r\n|\n|\r)/gm," ")}):JSON.stringify({id_alarme:this.dadosMaq.id_alarme,maquina:this.dadosMaq.cod_maquina,chat:this.mensagem.replace(/(\r\n|\n|\r)/gm," ")}),t=`${this.locationUrl}/subMenu/enviaNovoChat/${this.token}/resp_rest`;console.log(a),await this.$http.post(t,a,v).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0),this.valida.chat=null,this.mensagem=""}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`Mensagem para "${this.dadosMaq.computer_name}" enviada com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal(),this.$emit("carregaDados")},3600)):(this.resposta={status:2,texto:`Falha ao enviar mensagem para "${this.dadosMaq.computer_name}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},fechaModal(){this.$refs["chat"+this.idx].hide()},abreModal(){this.$refs["chat"+this.idx].hide()}},mounted(){this.fechaModal()}},g=b,f=(e("49a3"),Object(d["a"])(g,m,h,!1,null,null,null)),A=f.exports,C=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"email"+a.idx,attrs:{"ok-only":"",id:"email"+a.idx,size:"md","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" E-mail: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"success",disabled:!a.verificaEnvio()},on:{click:function(t){return a.enviaEmail()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"envelope-fill"}}),a._v(" Enviar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[a.dados.id_alarme?e("div",{staticClass:"col-12 pb-3"},[e("b-form-group",{attrs:{label:"Id Alerta:","label-for":"emlAlerta",description:"Separe os e-mail por vírgula (,)"}},[e("b-form-input",{attrs:{id:"emlAlerta",type:"text",disabled:""},model:{value:a.dados.id_alarme,callback:function(t){a.$set(a.dados,"id_alarme",t)},expression:"dados.id_alarme"}})],1)],1):a._e(),e("div",{staticClass:"col-12 pb-3"},[e("b-form-group",{attrs:{label:"Para:","label-for":"emlPara",description:"Separe os e-mail por vírgula (,)"}},[e("b-form-input",{attrs:{id:"emlPara",type:"email",placeholder:"Coloque o email de contato",state:a.valida.para},on:{keyup:function(t){return a.verificaEmail(a.mensagem.para,"para")},blur:function(t){return a.verificaEmail(a.mensagem.para,"para")}},model:{value:a.mensagem.para,callback:function(t){a.$set(a.mensagem,"para",t)},expression:"mensagem.para"}})],1)],1),e("div",{staticClass:"col-12 pb-3"},[e("b-form-group",{attrs:{label:"Assunto:","label-for":"emlAssunto"}},[e("b-form-input",{attrs:{id:"emlAssunto",type:"text",required:"",autocomplete:"off",placeholder:"Insira o asssunto aqui ...",state:a.valida.assunto},on:{keyup:function(t){return a.verificaAssunto(a.mensagem.assunto)},blur:function(t){return a.verificaAssunto(a.mensagem.assunto)}},model:{value:a.mensagem.assunto,callback:function(t){a.$set(a.mensagem,"assunto",t)},expression:"mensagem.assunto"}})],1)],1),e("div",{staticClass:"col-12 pb-3"},[e("b-form-group",{attrs:{id:"input-group-3",label:"Mensagem:","label-for":"emlTexto"}},[e("b-form-textarea",{attrs:{id:"emlTexto",placeholder:"Digite algo ...",rows:"3","max-rows":"6",state:a.valida.texto},on:{keyup:function(t){return a.verificaTexto(a.mensagem.texto)},blur:function(t){return a.verificaTexto(a.mensagem.texto)}},model:{value:a.mensagem.texto,callback:function(t){a.$set(a.mensagem,"texto",t)},expression:"mensagem.texto"}})],1)],1)]),1==a.resposta.status||2==a.resposta.status?e("b-alert",{attrs:{show:"",variant:1==a.resposta.status?"success":"warning",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},_=[];const x=ambientes.ativo[0].url+":"+ambientes.ativo[0].porta_api;var k=new Headers;k.append("Content-Type","application/json"),k.append("Cache-Control","no-cache"),k.append("Expires","-1"),k.append("Pragma","no-cache");var S={props:["dados","idx"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,dadosMaq:this.dados,show:!0,mensagem:{para:"",assunto:"",ccs:"",ccos:"",texto:"",idAlerta:""},valida:{para:null,assunto:null,ccs:null,ccos:null,texto:null},resposta:{status:0,texto:""}}},methods:{verificaEnvio(){return!!this.valida.para&&!1!==this.valida.ccs&&!1!==this.valida.ccos&&!!this.valida.assunto&&!!this.valida.texto},formatDate(a){let t=a.split(" "),e=t[1],s=t[0].split("-").reverse();s=s[0]+"/"+s[1]+"/"+s[2];var o=`${s} - ${e}`;return o},verificaEmail(a,t){let e=a,s=t,o="",i=e.indexOf(",")>-1,r=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;i?(o=[],e=e.split(","),e.forEach(a=>{let t=a.trim().search(r);t=-1!=t,o.push(t)}),o=o.indexOf(!1)<0):e?(e=e.search(r),o=!(e<0)):o=null,"para"==s?this.valida.para=o:"ccs"==s?this.valida.ccs=o:"ccos"==s&&(this.valida.ccos=o)},verificaAssunto(a){let t=a;this.valida.assunto=!!t},verificaTexto(a){let t=a;this.valida.texto=!!t},enviaEmail(){this.loaderCheck=!0;let a="";this.dados.id_alarme?(a="<br><br><hr>",a+=this.dados.id_alarme?`<br> <strong>ID:</strong><br> ${this.dados.id_alarme}<br>`:"",a+=this.dados.id_alarme?`<br> <strong>Descrição do alerta:</strong><br> ${this.dados.alarme}<br>`:"",a+=this.dados.providencias?`<br> <strong>Providências:</strong><br> ${this.dados.providencias}<br>`:"",a+=this.dados.user_name?`<br> <strong>Usuário:</strong><br> ${this.dados.user_name}<br>`:"",a+=this.dados.computer_name?`<br> <strong>Nome da máquina:</strong><br> ${this.dados.computer_name}<br>`:"",a+=this.dados.cod_maquina?`<br> <strong>Cód. máquina:</strong><br> ${this.dados.cod_maquina}<br>`:"",a+=this.dados.status_alarme?`<br> <strong>Status alerta:</strong><br> ${this.dados.status_alarme}<br>`:"",a+=this.dados.handler_alarme?`<br> <strong>Janela:</strong><br> ${this.dados.handler_alarme}<br>`:"",a+=this.dados.executavel?`<br> <strong>Executável:</strong><br> ${this.dados.executavel}<br>`:"",a+=this.dados.tipo_alarme?`<br> <strong>Tipo alerta:</strong><br> ${this.dados.tipo_alarme}<br>`:"",a+=this.dados.grupo_dlp?`<br> <strong>Grupo DLP:</strong><br> ${this.dados.grupo_dlp}<br>`:"",a+=this.dados.data_evento?`<br> <strong>Data do evento:</strong><br> ${this.formatDate(this.dados.data_evento)}<br>`:"",a=this.mensagem.texto+a):a=this.mensagem.texto,a=a.replaceAll(/\n/gi,"<br>");var t=JSON.stringify({to:this.mensagem.para,subject:this.mensagem.assunto,message:a}),e=x+"/api/sendmail";console.log(t),this.$http.post(e,t).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0)}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)}),setTimeout(()=>{this.emailMsg=0},3e3)},resetDados(){this.mensagem.para="",this.mensagem.assunto="",this.mensagem.ccs="",this.mensagem.ccos="",this.mensagem.texto=""},respostasEnvio(a){a?(this.resposta={status:1,texto:`Mensagem para o(s) e-mail(s) ${this.mensagem.para} enviada com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal(),this.resetDados()},3600)):this.resposta={status:2,texto:`Falha ao enviar mensagem para o(s) e-mail(s) ${this.mensagem.para}!`}},abreModal(){this.$refs["email"+this.idx].show()},fechaModal(){this.$refs["email"+this.idx].hide(),this.resetDados()}}},y=S,M=(e("bb0a"),Object(d["a"])(y,C,_,!1,null,"415f869b",null)),D=M.exports,w=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"versaoDlp"+a.idx,attrs:{"ok-only":"",id:"versaoDlp"+a.idx,size:"md","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Versão do DLP: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[e("b-button-group",[e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Fechar ")],1)],1)]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Máquina:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosMaq.grupo_dlp+"-"+a.dadosMaq.computer_name+"-"+a.dadosMaq.cod_maquina))])]),e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Versão:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.chkVersaoDLP(a.dadosMaq.versoes)))])])])])])},P=[],q={props:["dados","idx"],data(){return{dadosMaq:this.dados}},watch:{dados(a){this.dadosMaq=a}},methods:{chkVersaoDLP(a){let t=a;t=t?t.split(".jar").reverse():[];let e=t[0].substring(14);return e},fechaModal(){this.$refs["versaoDlp"+this.idx].hide()},abreModal(){this.$refs["versaoDlp"+this.idx].show()}},mounted(){this.fechaModal()}},U=q,E=(e("0942"),Object(d["a"])(U,w,P,!1,null,null,null)),$=E.exports,T=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("b-modal",{ref:"desliga"+a.idx,attrs:{"ok-only":"",id:"desliga"+a.idx,size:"md","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Desliga Máquina: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"warning",disabled:!a.verificaDesliga()},on:{click:function(t){return a.desligaMaquina()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"power"}}),a._v(" Desligar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Máquina:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosMaq.grupo_dlp+"-"+a.dadosMaq.computer_name+"-"+a.dadosMaq.cod_maquina))])]),e("div",{staticClass:"col-12  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Confirmação para Desligar:","label-for":"modDesliga"}},[e("b-form-checkbox",{staticClass:"desliga",attrs:{id:"modDesliga","button-variant":"danger",value:"true","unchecked-value":"false",switch:""},model:{value:a.valida.desliga,callback:function(t){a.$set(a.valida,"desliga",t)},expression:"valida.desliga"}},[a._v(" Você tem certeza que deseja desligar essa máquina? ")])],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])],1)},L=[],I=new Headers;I.append("Content-Type","application/json"),I.append("Content-Type","text/plain"),I.append("Cache-Control","no-cache"),I.append("Expires","-1"),I.append("Pragma","no-cache");var O={props:["dados","idx"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,modal:!1,dadosMaq:this.dados,valida:{desliga:null},resposta:{status:0,texto:""}}},watch:{modalDesliga(a){this.modal=a},dados(a){this.dadosMaq=a}},methods:{verificaDesliga(){return"true"===this.valida.desliga},async desligaMaquina(){this.loaderCheck=!0;let a=`${this.locationUrl}/subMenu/killMaq/${this.token}/${this.dadosMaq.cod_maquina}/resp_rest`;await this.$http.get(a,I).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0),this.valida.desliga=!1}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`O dispositivo "${this.dadosMaq.computer_name}" foi desligado com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal(),this.$emit("carregaDados")},3600)):(this.resposta={status:2,texto:`Falha ao desligar o dispositivo "${this.dadosMaq.computer_name}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},fechaModal(){this.$refs["desliga"+this.idx].hide(),this.valida.desliga=!1},abreModal(){this.$refs["desliga"+this.idx].hide()}},mounted(){this.fechaModal()}},R=O,j=(e("1c9f"),Object(d["a"])(R,T,L,!1,null,null,null)),N=j.exports,z=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"reinicia"+a.idx,attrs:{"ok-only":"",id:"reinicia"+a.idx,size:"md","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Reinicia Máquina: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"warning",disabled:!a.verificaDesliga()},on:{click:function(t){return a.reiniciaMaquina()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"arrow-repeat"}}),a._v(" Reiniciar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Máquina:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosMaq.grupo_dlp+"-"+a.dadosMaq.computer_name+"-"+a.dadosMaq.cod_maquina))])]),e("div",{staticClass:"col-12  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Confirmação para Reinicia:","label-for":"modReinicia"}},[e("b-form-checkbox",{staticClass:"reinicia",attrs:{id:"modReinicia","button-variant":"danger",value:"true","unchecked-value":"false",switch:""},model:{value:a.valida.reinicia,callback:function(t){a.$set(a.valida,"reinicia",t)},expression:"valida.reinicia"}},[a._v(" Você tem certeza que deseja reiniciar essa máquina? ")])],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},G=[],J=new Headers;J.append("Content-Type","application/json"),J.append("Content-Type","text/plain"),J.append("Cache-Control","no-cache"),J.append("Expires","-1"),J.append("Pragma","no-cache");var V={props:["dados","idx"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,modal:!1,dadosMaq:this.dados,valida:{reinicia:null},resposta:{status:0,texto:""}}},watch:{modalDesliga(a){this.modal=a},dados(a){this.dadosMaq=a}},methods:{verificaDesliga(){return"true"===this.valida.reinicia},async reiniciaMaquina(){this.loaderCheck=!0;let a=`${this.locationUrl}/subMenu/reinicMaq/${this.token}/${this.dadosMaq.cod_maquina}/resp_rest`;await this.$http.get(a,J).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0),this.valida.reinicia=!1}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`A máquina "${this.dadosMaq.computer_name}" foi reiniciado com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal(),this.$emit("carregaDados")},3600)):(this.resposta={status:2,texto:`Falha ao reiniciar a máquina "${this.dadosMaq.computer_name}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},fechaModal(){this.$refs["reinicia"+this.idx].hide(),this.valida.reinicia=!1},abreModal(){this.$refs["reinicia"+this.idx].hide()}},mounted(){this.fechaModal()}},F=V,B=(e("5aae"),Object(d["a"])(F,z,G,!1,null,null,null)),H=B.exports,Z=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"reiniciaDlp"+a.idx,attrs:{"ok-only":"",id:"reiniciaDlp"+a.idx,size:"md","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Reinicia DLP: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"warning",disabled:!a.verificaReinicia()},on:{click:function(t){return a.reiniciaDlp()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"arrow-repeat"}}),a._v(" Reiniciar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Máquina:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosMaq.grupo_dlp+"-"+a.dadosMaq.computer_name+"-"+a.dadosMaq.cod_maquina))])]),e("div",{staticClass:"col-12  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Confirmação para Reinicia:","label-for":"modReinicia"}},[e("b-form-checkbox",{staticClass:"reiniciaDlp",attrs:{id:"modReinicia","button-variant":"danger",value:"true","unchecked-value":"false",switch:""},model:{value:a.valida.reiniciaDlp,callback:function(t){a.$set(a.valida,"reiniciaDlp",t)},expression:"valida.reiniciaDlp"}},[a._v(" Você tem certeza que deseja reiniciar o DLP? ")])],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},Q=[],Y=new Headers;Y.append("Content-Type","application/json"),Y.append("Content-Type","text/plain"),Y.append("Cache-Control","no-cache"),Y.append("Expires","-1"),Y.append("Pragma","no-cache");var W={props:["dados","idx"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,modal:!1,dadosMaq:this.dados,valida:{reiniciaDlp:null},resposta:{status:0,texto:""}}},watch:{modalDesliga(a){this.modal=a},dados(a){this.dadosMaq=a}},methods:{verificaReinicia(){return"true"===this.valida.reiniciaDlp},async reiniciaDlp(){this.loaderCheck=!0;let a=`${this.locationUrl}/subMenu/reInicDlp/${this.token}/${this.dadosMaq.cod_maquina}/resp_rest`;await this.$http.get(a,Y).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0),this.valida.reiniciaDlp=!1}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`O dispositivo "${this.dadosMaq.computer_name}" foi reiniciado com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal(),this.$emit("carregaDados")},3600)):(this.resposta={status:2,texto:`Falha ao reiniciar o dispositivo "${this.dadosMaq.computer_name}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},fechaModal(){this.$refs["reiniciaDlp"+this.idx].hide(),this.valida.reiniciaDlp=!1},abreModal(){this.$refs["reiniciaDlp"+this.idx].hide()}},mounted(){this.fechaModal()}},X=W,K=(e("14e8"),Object(d["a"])(X,Z,Q,!1,null,null,null)),aa=K.exports,ta=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"paraApp"+a.idx,attrs:{"ok-only":"",id:"paraApp"+a.idx,size:"md","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Para Aplicação: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[e("b-button",{staticStyle:{color:"white"},attrs:{variant:"warning",disabled:!a.verificaParaApp()},on:{click:function(t){return a.paraAplicacao()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"stop-fill"}}),a._v(" Encerrar ")],1),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Cancelar ")],1)],1)]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Máquina:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosMaq.grupo_dlp+"-"+a.dadosMaq.computer_name+"-"+a.dadosMaq.cod_maquina))])]),e("div",{staticClass:"col-12  pb-3"},[e("b-form-group",{staticClass:"mb-0",attrs:{label:"Confirmação parar Aplicação:","label-for":"modparaApp"}},[e("b-form-checkbox",{staticClass:"paraApp",attrs:{id:"modParaApp","button-variant":"danger",value:"true","unchecked-value":"false",switch:""},model:{value:a.valida.app,callback:function(t){a.$set(a.valida,"app",t)},expression:"valida.app"}},[a._v(" Você tem certeza que deseja encerrar essa aplicação? ")])],1)],1)]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)])},ea=[],sa=new Headers;sa.append("Content-Type","application/json"),sa.append("Content-Type","text/plain"),sa.append("Cache-Control","no-cache"),sa.append("Expires","-1"),sa.append("Pragma","no-cache");var oa={props:["dados","idx"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,modal:!1,dadosMaq:this.dados,valida:{app:null},resposta:{status:0,texto:""}}},watch:{dados(a){this.dadosMaq=a}},methods:{verificaParaApp(){return"true"===this.valida.app},async paraAplicacao(){this.loaderCheck=!0;let a=JSON.stringify({maquina:this.dadosMaq.cod_maquina,pid:`${this.dadosMaq.pid}, ${this.dadosMaq.handlerJanela}`}),t=`${this.locationUrl}/maquinas/kill/${this.token}/resp_rest`;await this.$http.post(t,a,sa).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0),this.valida.app=!1}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){a?(this.resposta={status:1,texto:`A aplicação do máquina "${this.dadosMaq.computer_name}" foi encerrado com sucesso!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal(),this.$emit("carregaDados")},3600)):(this.resposta={status:2,texto:`Falha ao encerrar a aplicação da máquina "${this.dadosMaq.computer_name}"!`},setTimeout(()=>{this.resposta={status:0,texto:""}},3500))},fechaModal(){this.$refs["paraApp"+this.idx].hide(),this.valida.app=!1},abreModal(){this.$refs["paraApp"+this.idx].hide()}},mounted(){this.fechaModal()}},ia=oa,ra=(e("b699"),Object(d["a"])(ia,ta,ea,!1,null,null,null)),la=ra.exports,na=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("b-modal",{ref:"exeCmd"+a.idx,attrs:{"ok-only":"",id:"exeCmd"+a.idx,size:"md","no-close-on-backdrop":"","no-close-on-esc":""},scopedSlots:a._u([{key:"modal-title",fn:function(){return[a._v(" Execução de Comandos: ")]},proxy:!0},{key:"modal-footer",fn:function(){return[a.loaderCheck?e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"2"}}):a._e(),e("b-button-group",[a.selComando?e("b-button",{staticStyle:{color:"white"},attrs:{variant:"success",disabled:!a.verificaComando()},on:{click:function(t){return a.exeComando()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:a.comando.ico}}),a._v(" Enviar ")],1):a._e(),e("b-button",{attrs:{variant:"danger"},on:{click:function(t){return a.fechaModal()}}},[e("b-icon",{staticClass:"mr-1",attrs:{icon:"x"}}),a._v(" Fechar ")],1)],1)]},proxy:!0}])},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pb-3"},[e("span",[a._v("Máquina:")]),e("br"),e("strong",{staticClass:"text-uppercase"},[a._v(a._s(a.dadosMaq.grupo_dlp+"-"+a.dadosMaq.computer_name+"-"+a.dadosMaq.cod_maquina))])]),e("div",{staticClass:"col-12 pb-3"},[e("b-form-group",{attrs:{label:"Comandos:","label-for":"execSelct"}},[e("b-form-select",{attrs:{options:a.listaComandos},model:{value:a.selComando,callback:function(t){a.selComando=t},expression:"selComando"}})],1)],1),a.selComando?e("div",{staticClass:"col-12 pb-3"},[e("b-form-group",{attrs:{label:a.comando.titulo,"label-for":"execOpcao"}},[e("b-form-input",{staticClass:"contato",attrs:{id:"execOpcao",placeholder:"Digite o comando",type:"text",maxlength:"100",state:a.valida.executar=!!a.comando.executar},on:{keyup:function(t){return a.verificaComando(a.comando.executar)},blur:function(t){return a.verificaComando(a.comando.executar)}},model:{value:a.comando.executar,callback:function(t){a.$set(a.comando,"executar",t)},expression:"comando.executar"}})],1)],1):a._e()])]),0!==a.resposta.status?e("b-alert",{attrs:{variant:1==a.resposta.status?"success":"warning",show:"",dismissible:""}},[e("b-icon",{staticClass:"mr-2",attrs:{icon:1==a.resposta.status?"check-circle-fill":"exclamation-circle-fill","font-scale":"1.2"}}),a._v(" "+a._s(a.resposta.texto)+" ")],1):a._e()],1)},ca=[],da=new Headers;da.append("Content-Type","application/json"),da.append("Cache-Control","no-cache"),da.append("Expires","-1"),da.append("Pragma","no-cache");var ua={props:["dados","idx"],data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,loaderCheck:!1,dadosMaq:this.dados,selComando:null,listaComandos:[{value:null,text:"Selecione um comando"},{value:"web",text:"Ir para um site"}],comando:{titulo:"",ico:"",executar:""},valida:{executar:""},resposta:{status:0,texto:""}}},watch:{dados(a){this.dadosMaq=a},selComando(a){let t=a;this.exibComando(t)}},methods:{exibComando(a){let t=a;"web"==t&&(this.comando={titulo:"URL do site:",ico:"globe",executar:""}),"cmd"==t&&(this.comando={titulo:"Comando Windows:",ico:"terminal",executar:""}),"bdj"==t&&(this.comando={titulo:"Comando BDJava:",ico:"terminal",executar:""})},verificaComando(){return!!this.selComando&&!!this.valida.executar},pegaHost(a){var t=a,e=t.indexOf("."),s=t.substring(e+1);return s.replace(".com.br","")},async exeComando(){this.loaderCheck=!0;let a="",t=`${this.dadosMaq.computer_name}-${this.dadosMaq.cod_maquina}`;"web"==this.selComando&&(a=`sis 'start ${this.comando.executar}'; faz #dlpResp 'COMANDO EXECUTADO OK!!'`),"cmd"==this.selComando&&(a=`sis '${this.comando.executar}'; faz #dlpResp 'COMANDO EXECUTADO OK!!'`),"bdj"==this.selComando&&(a=`sis '${this.comando.executar}'; faz #dlpResp 'COMANDO BD JAVA EXECUTADO OK!!'`);var e=JSON.stringify({maquina:t,comando:a});let s=`${this.locationUrl}/subMenu/execComando/${this.token}/resp_rest`;console.log(s),console.log(e),await this.$http.post(s,e,da).then(a=>{this.loaderCheck=!1,this.respostasEnvio(!0),this.valida.chat=null,this.mensagem=""}).catch(a=>{this.loaderCheck=!1,this.respostasEnvio(!1)})},respostasEnvio(a){if(a){let a="";"web"==this.selComando&&(a=`Comando para abrir o site "${this.comando.executar}" foi executado com sucesso!`),"cmd"==this.selComando&&(a=`Comando Windows "${this.comando.executar}" foi executado com sucesso! `),"bdj"==this.selComando&&(a=`Comando BDJava "${this.comando.executar}" foi executado com sucesso!`),this.resposta={status:1,texto:a},setTimeout(()=>{this.resposta={status:0,texto:""}},3500),setTimeout(()=>{this.fechaModal()},3600)}else this.resposta={status:2,texto:"Falha ao executar comando!"},setTimeout(()=>{this.resposta={status:0,texto:""}},3500)},resetDados(){this.selComando=null,this.comando={titulo:"",ico:"",executar:""}},fechaModal(){this.$refs["exeCmd"+this.idx].hide(),this.resetDados()},abreModal(){this.$refs["exeCmd"+this.idx].hide()}},mounted(){this.fechaModal()}},pa=ua,ma=(e("6e66"),Object(d["a"])(pa,na,ca,!1,null,null,null)),ha=ma.exports,va={components:{chat:A,sms:p,email:D,"versao-dlp":$,"desliga-maquina":N,"reinicia-maquina":H,"reinicia-dlp":aa,"para-app":la,"exe-cmd":ha},props:["modulo","dados","indice","subMenu"],data(){return{modMaq:this.modulo,dadosMaq:this.dados,arrMenu:this.subMenu,getItens:[]}},watch:{dados(a){this.dadosMaq=a},indice(a){this.idxMaq=a},modulo(a){this.modMaq=a}},methods:{habilitaMenu(){return"false"==this.dadosMaq.maq_ativa},chkApp(){return 1===this.dadosMaq.terminada},chkModulo(a){let t=a;return!!this.subMenu&&this.subMenu.indexOf(t)>-1},setSubMenu(a,t,e){this.$bvModal.show(a+e),this.getItens=t,console.log(this.getItens),console.log(a+e)},getCarregaDados(){this.$emit("carregaDados")}},mounted(){}},ba=va,ga=(e("3307"),Object(d["a"])(ba,s,o,!1,null,null,null));t["a"]=ga.exports},d18f:function(a){a.exports=JSON.parse('{"permissaoDlp":["classesDebugar","controleDlp","naoDerrubaMaquina","naoInicializaMaquina","statusAlarmeFechado","ativaSmsAlmSerios","ativaSmsAlmGraves","ativaSmsAlmGravissimos","ativaEmailAlmSerios","ativaEmailAlmGraves","ativaEmailAlmGravissimos","ordemExibicaoAlarmesStatus","ordemExibicaoAlarmesSeriedade","titulosADesprezar","jansFilhasMonitorar","ipCloud","portaCloud","portaDlp","conectivosExcluir","extensoesSensiveis","driveServer","cliAtual","grupoDlp","percentualCompacArquivos","origensAlarme","statusAlarme","tiposAlarme"]}')},d345:function(a,t,e){"use strict";e("1670")},d55d:function(a,t,e){},d6f3:function(a,t,e){a.exports=e.p+"img/linkedin.a073ecdf.png"},d7e8:function(a,t){a.exports.retiraLoader=function(a,t){var e=document.querySelector("#loading");if(e.style.display=t?"block":"none",null==e)return!1}},da92:function(a,t,e){"use strict";(function(a){var s=e("2686"),o=e("5864"),i=e("d084"),r=e("3301"),l=e("dc95");const n=[];var c=new Headers;c.append("Content-Type","application/json"),c.append("Cache-Control","no-cache"),c.append("Expires","-1"),c.append("Pragma","no-cache"),t["a"]={components:{"meu-painel":s["a"],"menu-lateral":o["a"],"sub-menu":i["a"],subMenuDetalhes:r["a"],loader:l["a"]},data(){return{token:JSON.parse(localStorage.getItem("user")).keyAcesssSecret,locationUrl:this.$store.state.variaveisAmbiente.locationUrl,locationImg:this.$store.state.variaveisAmbiente.locationImg,locationInfo:this.$store.state.variaveisAmbiente.infoTxt,memoriaMaquinasRede:this.$store.state.variaveisAmbiente.memoriaMaquinasRede,total:this.$store.state.variaveisAmbiente.total,ativo:this.$store.state.variaveisAmbiente.ativo,inativo:this.$store.state.variaveisAmbiente.inativo,loaderCheck:!0,listaSubMenu:["sms","email","versaoDlp","desliga","reinicia","reiniciaDlp","exeCmd"],tempoAtividade:Date.now()-12e4,tempoAtualizacao:1e4,ultVerifServer:"",modVersaoDLP:!1,versaoDLP:{maquina:"",codigo:"",versao:""},listaMaquinas:[],tabListaMaquinas:[],tabTitulo:"Total",evidencias:[],imgFull:"",chkIndex:null,modSelMaquina:!1,getMaquinaState:"",getMaquinaStateCodMaquina:"",getMaquinaStateFull:"",getItems:[],titTabela:[{key:"actions",label:"Ações"},{key:"status",label:"Status",class:"text-center"},{key:"grupo_dlp",label:"Grupo DLP",sortable:!0,class:"text-left"},{key:"cod_maquina",label:"Código de máquina",sortable:!0,class:"text-left"},{key:"computer_name",label:"Nome da máquina",sortable:!0,class:"text-left"},{key:"user_name",label:"Usuário",sortable:!0,class:"text-left",sortDirection:"desc"},{key:"testeversao",label:"Versao",sortable:!0,class:"text-left"},{key:"ultima_atividade",label:"Útima Atividade",sortable:!0,class:"text-left"}],estatisticas:{total:0,ativo:0,inativo:0},btnSel:{total:!1,permitidas:!1,proibidas:!1,desconhecidas:!1,ocorrencias:!1},totalRows:1,currentPage:1,perPage:20,pageOptions:[10,20,50,100],filter:null,infoModal:{id:"info-modal",title:"",content:""},text:"",xlsTitulo:{"Máquina Ativa":"ativo","Código da Máquina":"cod_maquina","Máquina":"computer_name",Discos:"discos","Última Atividade":"ult_atividade","Login na Máquina":"user_name","Grupo DLP":"grupo_dlp","Versão do DLP":"versoes"},xlsDados:[]}},computed:{},watch:{totalRows(a){this.totalRows=a},tabListaMaquinas(a){this.geraXls(a)},listaMaquinas(a){this.geraEstatisticas()},getItems(a){this.getItems=a}},methods:{geraXls(a){var t=a;t&&(t.forEach(a=>{a.ativo="true"===a.maq_ativa?"Sim":"Não";var t=a.discosArray;t=JSON.stringify(t),t=t.replaceAll("[","").replaceAll("]","").replaceAll("},{","; \n").replaceAll("{","").replaceAll("}","").replaceAll('"',""),t=t.replaceAll("codigoDisco","Código de Disco"),t=t.replaceAll("descricao","Disco"),t=t.replaceAll("drive","Drive"),a.discos=t;var e=a.ultima_atividade;e=this.formatDateMilisec(e);a.ult_atividade=e}),this.xlsDados=t)},horaFormat(a){var t=new Date(a).toString();return t=t.split(" GMT"),t=t[0].split(" ").reverse(),t=t[0],t},formatDateMilisec(a){let t=a,e=108e5;t-=e,t=new Date(t);var s=t.getDate(),o=t.getMonth()+1,i=t.getFullYear(),r=t.getUTCHours(),l=t.getMinutes(),n=t.getSeconds(),c=`${s<10?"0"+s:s}/${o<10?"0"+o:o}/${i} - ${r<10?"0"+r:r}:${l<10?"0"+l:l}:${n<10?"0"+n:n}`;return c},htmlFormat(a){let t=a;t=t.replace(/=(\r\n|\n|\r)/gm,"<br>")},botaoSelecionado(a){this.btnSel={total:!1,permitidas:!1,proibidas:!1,desconhecidas:!1,ocorrencias:!1},this.btnSel[a]=!0},rowDisable(a,t){if(a&&null!==a.maq_ativa)return"false"===a.maq_ativa?"inativo":"ativo"},chkVersaoDLP(a,t,e){this.modVersaoDLP=!0;let s=e.split(".jar").reverse();this.versaoDLP={maquina:a,codigo:t,versao:s[1]}},async getListaMaquina(){this.loaderCheck=!0,this.listaMaquinas=[];let t=this.locationUrl+"/maquinas/listaSecret/"+this.token+"/resp_rest",e=a.from(this.token,"base64").toString().split("^")[1];"*"!==e&&(e=e.replace("*","")),await this.$http.get(t,c).then(a=>{this.loaderCheck=!1;let t=a.data;t=t.filter(a=>!/:|<|>|\(|\)|volume|unidade|drive/i.test(a.cod_maquina));let s=!0,o=0;t.forEach(a=>{a.idx=o++});for(let i=0;i<t.length;i++){let a=t[i].grupo_dlp.split("_")[0];a!==e&&(s=!1)}"*"===e&&(s=!0,console.log("Usuario * ")),s?(this.listaMaquinas=t,this.geraEstatisticas(),this.listaMaquinasTodas()):(console.error("Problemas com o grupo do Token, entre em contato com o suporte"),this.listaMaquinas=[],this.geraEstatisticas(),this.listaMaquinasTodas()),this.ultVerifServer=this.formatDateMilisec(Date.now())}).catch(a=>{this.loaderCheck=!1,this.listaMaquinas=[],this.listaMaquinasTodas(),this.ultVerifServer=this.formatDateMilisec(Date.now()),console.log(a)})},listaMaquinasTodas(){this.tabTitulo="Todas as Máquinas",this.botaoSelecionado("total"),this.tabListaMaquinas=this.listaMaquinas,this.totalRows=this.tabListaMaquinas.length},listaMaquinasAtivas(){this.tabTitulo="Máquinas com Atividades",this.botaoSelecionado("ativo"),this.tabListaMaquinas=this.listaMaquinas.filter(a=>"true"==a.maq_ativa),this.totalRows=this.tabListaMaquinas.length},listaMaquinasInativas(){this.tabTitulo="Maquinas sem Atividades ",this.botaoSelecionado("inativo"),this.tabListaMaquinas=this.listaMaquinas.filter(a=>"false"==a.maq_ativa),this.totalRows=this.tabListaMaquinas.length},geraEstatisticas(){this.estatisticas={total:0,ativo:0,inativo:0},this.estatisticas.total=this.listaMaquinas.length,this.listaMaquinas.forEach(a=>{"true"==a.maq_ativa&&this.estatisticas.ativo++,"false"===a.maq_ativa&&this.estatisticas.inativo++}),this.$store.state.variaveisAmbiente.total=this.estatisticas.total,this.$store.state.variaveisAmbiente.ativo=this.estatisticas.ativo,this.$store.state.variaveisAmbiente.inativo=this.estatisticas.inativo},selDisco(){var a=document.getElementById("select-disco");a.options[a.selectedIndex].value;this.$bvModal.show("modal-1")},abreModulo(a,t,e,s){a="/"+a+"/"+s+"/";var o=t+"-"+e;this.$router.push(a+o)},getParaphase(){return this.token+"%"+this.locationInfo},setCrpStorage(a){a=a;a=this.$CryptoJS.AES.encrypt(a,this.getParaphase()).toString(),localStorage.setItem("x-mon-maq",a)},getCrpStorage(){var a=localStorage.getItem("x-mon-maq");return a=a?this.$CryptoJS.AES.decrypt(a,this.getParaphase()).toString(this.CryptoJS.enc.Utf8):"",a},abreModal(a){this.$refs[a].show()},fechaModal(a){this.$refs[a].hide()},onFiltered(a){this.totalRows=a.length,this.currentPage=1},adicionaMaquina(a){var t=n;if(-1===t.indexOf(a))t.push(a);else{var e=t.indexOf(a);t.splice(e,1)}console.log(t)},limpaOffline(){const a='{"maquinas":"'+n+'"}';console.log(a);let t=this.locationUrl+"/maquinas/retira/"+this.token+"/resp_rest";this.$http.post(t,a),location.reload()}},mounted(){this.memoriaMaquinasRede.length>0?(this.loaderCheck=!1,this.tabListaMaquinas=this.memoriaMaquinasRede,this.estatisticas.total=this.total,this.estatisticas.ativo=this.ativo,this.estatisticas.inativo=this.inativo,this.ultVerifServer=this.formatDateMilisec(Date.now())):this.getListaMaquina()}}}).call(this,e("1c35").Buffer)},dbde:function(a,t,e){},dc75:function(a,t,e){},dc95:function(a,t,e){"use strict";var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"loader",style:{display:[a._props.status?"flex":"none"]}},[e("strong",[a._v("Carregando aguarde...")]),e("div",{staticClass:"icone"},[e("b-icon",{attrs:{icon:"arrow-clockwise",animation:"spin",variant:"primary","font-scale":"10"}})],1)])},o=[],i={props:["status"]},r=i,l=(e("6840"),e("0c7c")),n=Object(l["a"])(r,s,o,!1,null,null,null);t["a"]=n.exports},de4e:function(a,t,e){"use strict";e("dc75")},e266:function(a,t,e){},e350:function(a,t,e){"use strict";e("b73d")},e5b3:function(a,t,e){},e605:function(a,t,e){"use strict";e("2e05")},e894:function(a,t,e){},e900:function(a,t,e){},ea92:function(a,t,e){},ecfe:function(a,t,e){},f07a:function(a,t,e){},f1ab:function(a,t,e){},f5a4:function(a,t){a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABL1BMVEUAAACKvv1MerLm8f+u0v6GvP1jqfw/lfwwjfslh/kagfkbf/kmhvk9k/xYo/t+uP2r0P7M4/54tf0zkPyMwP3z+P+Yxv2NwP0jhvmx1P4ujPuPwf2t0v7s9P9gp/yHvf1dpvwvivugyv3c7P7l8f8tifvJ4f6s0f4agPmjzP2q0P6Xxv3G4P6UxP2Qwv2Wxf3j7/86kfwVfvuVxf2nzv2pz/7H4P4ZfvnI4f7q8/8piPri7/4si/pepvxfp/yRwv1gqPxFmPzZ6v7t9f+Zx/2cyP3K4v4+lvw9lfwWf/mr0f6dyf2ax/3D3v4Zgvmw0/4xjvvO5P5lqfzu9v+v0/6VxP0xi/u01v4mhfmSw/04kPzP5f6Du/0cgfkXffkmiPkxjPtmq/yJvv2y1f7////cZ8ubAAAAAXRSTlMAQObYZgAAAAFiS0dEZMLauAkAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAF/SURBVFjD7dZpT8JAEAbg6aBWqYr3gaIIgqAgAqIiIoLUCwXv+/b//weJibGzFyVNNCZ9v26f2e7O9gBw48bN/4ymOfSIjio0vaMCbXlPR2eX3t3jRaO3r9830KYfHBpGkpF2/OgYo9v04xPoxE/6UemnppU8MINqP4sYDCj2bo5SPRQGmKceMRKV+QUv4bH49wDxiMai2C/R6WMJgKS+zPtmUiKfYpYeh5V0RhN6xCzvVxmvA8g9Yo71a+tMgRAkFR6NDerzm2zzwqBbfYEd36LdLHLdB7DuHwB3wTYpEBQUsPiSoMBOiyVYz49Whgo77t+lm5BgNtF6frVMFUzGG3vqNlK/D3BA/eERfxCycu+BGnMDx6KjmBX6UrkKcFKn85vihyHn5f1XatTXGyBJNML6AkDFZNZ/egbSBIrc+4PL+QWocnml9tc30Dpyf3tng8v9vWmHy3za92CL//Sv8VjUI0/Pxstr+e39I29P//L3V1LA6S+IQ+/GjZs/yyc7rSYo5IV5pwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNS0yNVQyMDo0MDoxMSswMjowMA0Q0hcAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDUtMjVUMjA6NDA6MTErMDI6MDB8TWqrAAAAAElFTkSuQmCC"},f7c2:function(a,t,e){"use strict";e("473b")},fb46:function(a,t,e){"use strict";e("f07a")},fcc2:function(a,t,e){"use strict";e("885b");const s=ambientes.ativo[0].url,o=ambientes.ativo[0].ambiente,i=ambientes.ativo[0].porta,r=ambientes.ativo[0].porta_react;let l=`${s}:${i}`;const n="240419.1635";console.log(`%c Versão Front VUE: ${n} do ambiente ${o}`,"color: black ; background-color: #00ff0085 ; font-weight: bold"),t["a"]={variaveisAmbiente:{infoTxt:"Equipe de Desenvolvimento Epsoft",locationImg:l,locationUrl:l,memoriaMaquinasRede:[],total:0,ativo:0,inativo:0,ambiente:o,porta:r},variavelSistema:{cod_maquina:"default",maquina:"default",data:"default"},variavelWatcherFilter:{filterWatcher:"default"},infoAlerta:{},user:{},token:""}},fdf9:function(a,t,e){}});
//# sourceMappingURL=app.d0928d50.js.map